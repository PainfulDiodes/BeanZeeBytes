beanzee.asm:
     1                          include "../../lib/beanzee.map"
../../lib/beanzee.map:
     1                          BAD_CMD_MSG                     = $0248 ; addr, local, , beanzee, , asm/messages.asm:7
     2                          BEANBOARD                       = $0000 ; const, local, , beanzee, , beanzee.asm:5
     3                          CMD_BUFFER                      = $F020 ; const, local, , beanzee, , asm/main.inc:9
     4                          CMD_W_NULL_MSG                  = $0260 ; addr, local, , beanzee, , asm/messages.asm:10
     5                          ESC_E                           = $001B ; const, local, , beanzee, , asm/escapestring.inc:9
     6                          ESC_N                           = $000A ; const, local, , beanzee, , asm/escapestring.inc:7
     7                          ESC_R                           = $000D ; const, local, , beanzee, , asm/escapestring.inc:8
     8                          ESC_T                           = $0009 ; const, local, , beanzee, , asm/escapestring.inc:6
     9                          MARVIN                          = $0082 ; addr, local, , beanzee, , asm/marvin.asm:9
    10                          MARVINORG                       = $0000 ; const, local, , beanzee, , beanzee.asm:0
    11                          PROMPT                          = $008B ; addr, local, , beanzee, , asm/marvin.asm:16
    12                          RAMSTART                        = $8000 ; const, local, , beanzee, , asm/main.inc:2
    13                          STACK                           = $FFFF ; const, local, , beanzee, , asm/main.inc:11
    14                          UM245R_CTRL                     = $0000 ; const, local, , beanzee, , asm/main.inc:13
    15                          UM245R_DATA                     = $0001 ; const, local, , beanzee, , asm/main.inc:14
    16                          WARMSTART2                      = $0020 ; addr, local, , beanzee, , asm/main.asm:11
    17                          WARMSTART                       = $0010 ; addr, local, , beanzee, , asm/main.asm:8
    18                          WELCOME_MSG                     = $01D7 ; addr, local, , beanzee, , asm/messages.asm:1
    19                          __head                          = $0000 ; const, public, def, , ,
    20                          __size                          = $0272 ; const, public, def, , ,
    21                          __tail                          = $0272 ; const, public, def, , ,
    22                          _cmd_exec_df                    = $0149 ; addr, local, , beanzee, , asm/marvin.asm:207
    23                          _cmd_execute                    = $0138 ; addr, local, , beanzee, , asm/marvin.asm:188
    24                          _cmd_load                       = $014D ; addr, local, , beanzee, , asm/marvin.asm:215
    25                          _cmd_load_data                  = $016C ; addr, local, , beanzee, , asm/marvin.asm:243
    26                          _cmd_load_end                   = $0179 ; addr, local, , beanzee, , asm/marvin.asm:262
    27                          _cmd_read                       = $00DD ; addr, local, , beanzee, , asm/marvin.asm:95
    28                          _cmd_read_byte                  = $00FE ; addr, local, , beanzee, , asm/marvin.asm:124
    29                          _cmd_read_row                   = $00EA ; addr, local, , beanzee, , asm/marvin.asm:110
    30                          _cmd_write                      = $0113 ; addr, local, , beanzee, , asm/marvin.asm:147
    31                          _cmd_write_data                 = $0120 ; addr, local, , beanzee, , asm/marvin.asm:162
    32                          _cmd_write_end                  = $012C ; addr, local, , beanzee, , asm/marvin.asm:176
    33                          _cmd_write_null                 = $012F ; addr, local, , beanzee, , asm/marvin.asm:179
    34                          _do_usb_put                     = $0062 ; addr, local, , beanzee, , asm/UM245R.asm:44
    35                          _get_cmd                        = $0093 ; addr, local, , beanzee, , asm/marvin.asm:22
    36                          _get_cmd_end                    = $00B8 ; addr, local, , beanzee, , asm/marvin.asm:60
    37                          _get_cmd_esc                    = $00B1 ; addr, local, , beanzee, , asm/marvin.asm:54
    38                          _hex_byte_val_zero              = $019B ; addr, local, , beanzee, , asm/strings.asm:40
    39                          _hex_val_n                      = $01AD ; addr, local, , beanzee, , asm/strings.asm:64
    40                          _hex_val_u_n                    = $01A6 ; addr, local, , beanzee, , asm/strings.asm:56
    41                          _putchar_hex_dgt                = $01C7 ; addr, local, , beanzee, , asm/strings.asm:91
    42                          _putchar_hex_n                  = $01D1 ; addr, local, , beanzee, , asm/strings.asm:101
    43                          _puts_end                       = $0044 ; addr, local, , beanzee, , asm/console.asm:88
    44                          _puts_loop                      = $0038 ; addr, local, , beanzee, , asm/console.asm:75
    45                          _usb_no_char                    = $0054 ; addr, local, , beanzee, , asm/UM245R.asm:32
    46                          _usb_put                        = $0066 ; addr, local, , beanzee, , asm/UM245R.asm:49
    47                          _usb_put_loop                   = $0068 ; addr, local, , beanzee, , asm/UM245R.asm:53
    48                          _usb_puts_end                   = $0080 ; addr, local, , beanzee, , asm/UM245R.asm:83
    49                          _usb_puts_loop                  = $0074 ; addr, local, , beanzee, , asm/UM245R.asm:70
    50                          getchar                         = $0023 ; addr, local, , beanzee, , asm/console.asm:2
    51                          hex_byte_val                    = $017C ; addr, local, , beanzee, , asm/strings.asm:4
    52                          hex_val                         = $019F ; addr, local, , beanzee, , asm/strings.asm:48
    53                          putchar                         = $002F ; addr, local, , beanzee, , asm/console.asm:63
    54                          putchar_hex                     = $01B0 ; addr, local, , beanzee, , asm/strings.asm:70
    55                          puts                            = $0037 ; addr, local, , beanzee, , asm/console.asm:73
    56                          readchar                        = $002B ; addr, local, , beanzee, , asm/console.asm:30
    57                          usb_putchar                     = $0057 ; addr, local, , beanzee, , asm/UM245R.asm:36
    58                          usb_puts                        = $0073 ; addr, local, , beanzee, , asm/UM245R.asm:68
    59                          usb_readchar                    = $0046 ; addr, local, , beanzee, , asm/UM245R.asm:16
    60                          
beanzee.asm:
     2                          ORG ORGDEF
     3                          include "main.asm"
main.asm:
     1                          start:
     2                              ; load the message address into HL
     3  0000  210c00                ld hl,message
     4                          print:
     5                              ; call the monitor puts routine, which will print the message pointed to by HL
     6  0003  cd3700                call puts
     7                          wait:
     8                              ; call the monitor getchar to get a character from the console input
     9                              ; it will wait until a character is received
    10  0006  cd2300                call getchar
    11                          end:
    12                              ; jump to the reset address - will jump back to the monitor
    13  0009  c31000                jp WARMSTART
    14                          
    15                          message:
    16                              ; message to be printed
    17                              ; must be terminated by a 0
    18  000c  48656c6c6f20776f      db "Hello world!\n"
              726c64210a        
    19  0019  2868697420616e79      db "(hit any key)\n",0
              206b6579290a00    
    20                          
beanzee.asm:
     4                          
