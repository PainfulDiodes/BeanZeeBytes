start:
                    call      crt0_init                     ;[8000] cd 2c 80
                    ld        hl,$ffc0                      ;[8003] 21 c0 ff
                    add       hl,sp                         ;[8006] 39
                    ld        sp,hl                         ;[8007] f9
                    ld        (__exit_atexit_funcs),hl      ;[8008] 22 4f 88
                    call      _main                         ;[800b] cd 52 81
__Exit:
                    call      crt0_exit                     ;[800e] cd 54 80
                    jp        WARMSTART                     ;[8011] c3 10 00
l_dcal:
                    jp        (hl)                          ;[8014] e9
_fputc_cons:
                    pop       bc                            ;[8015] c1
                    pop       hl                            ;[8016] e1
                    push      hl                            ;[8017] e5
                    push      bc                            ;[8018] c5
                    ld        a,l                           ;[8019] 7d
                    call      putchar_beanzee               ;[801a] cd 2f 00
                    ret                                     ;[801d] c9

_fgetc_cons:
                    call      getchar_beanzee               ;[801e] cd 23 00
                    ld        l,a                           ;[8021] 6f
                    ld        h,$00                         ;[8022] 26 00
                    ret                                     ;[8024] c9

_marvin_readchar:
                    call      readchar_beanzee              ;[8025] cd 2b 00
                    ld        h,$00                         ;[8028] 26 00
                    ld        l,a                           ;[802a] 6f
                    ret                                     ;[802b] c9

crt0_init:
                    xor       a                             ;[802c] af
                    ld        hl,$87e6                      ;[802d] 21 e6 87
                    ld        bc,$006b                      ;[8030] 01 6b 00
                    ld        de,$87e7                      ;[8033] 11 e7 87
                    ld        (hl),a                        ;[8036] 77
                    ldir                                    ;[8037] ed b0
                    ld        hl,$87ea                      ;[8039] 21 ea 87
                    ld        (hl),$13                      ;[803c] 36 13
                    ld        hl,$87f4                      ;[803e] 21 f4 87
                    ld        (hl),$15                      ;[8041] 36 15
                    ld        hl,$87fe                      ;[8043] 21 fe 87
                    ld        (hl),$15                      ;[8046] 36 15
                    ld        hl,$87e6                      ;[8048] 21 e6 87
                    ld        de,$8851                      ;[804b] 11 51 88
                    ld        bc,$0001                      ;[804e] 01 01 00
                    ldir                                    ;[8051] ed b0
                    ret                                     ;[8053] c9

crt0_exit:
                    ret                                     ;[8054] c9

l_long_neg:
                    ld        a,l                           ;[8055] 7d
                    cpl                                     ;[8056] 2f
                    ld        l,a                           ;[8057] 6f
                    ld        a,h                           ;[8058] 7c
                    cpl                                     ;[8059] 2f
                    ld        h,a                           ;[805a] 67
                    ld        a,e                           ;[805b] 7b
                    cpl                                     ;[805c] 2f
                    ld        e,a                           ;[805d] 5f
                    ld        a,d                           ;[805e] 7a
                    cpl                                     ;[805f] 2f
                    ld        d,a                           ;[8060] 57
                    inc       l                             ;[8061] 2c
                    ret       nz                            ;[8062] c0
                    inc       h                             ;[8063] 24
                    ret       nz                            ;[8064] c0
                    inc       de                            ;[8065] 13
                    ret                                     ;[8066] c9

l_load_64_dehldehl_mbc:
                    call      again_l_load_64_dehldehl_mbc  ;[8067] cd 6a 80
again_l_load_64_dehldehl_mbc:
                    ld        a,(bc)                        ;[806a] 0a
                    inc       bc                            ;[806b] 03
                    ld        l,a                           ;[806c] 6f
                    ld        a,(bc)                        ;[806d] 0a
                    inc       bc                            ;[806e] 03
                    ld        h,a                           ;[806f] 67
                    ld        a,(bc)                        ;[8070] 0a
                    inc       bc                            ;[8071] 03
                    ld        e,a                           ;[8072] 5f
                    ld        a,(bc)                        ;[8073] 0a
                    inc       bc                            ;[8074] 03
                    ld        d,a                           ;[8075] 57
                    push      bc                            ;[8076] c5
                    exx                                     ;[8077] d9
                    pop       bc                            ;[8078] c1
                    ret                                     ;[8079] c9

l_neg_64_mhl:
                    push      hl                            ;[807a] e5
                    call      l_cpl_64_mhl                  ;[807b] cd 96 80
                    pop       hl                            ;[807e] e1
                    inc       (hl)                          ;[807f] 34
                    ret       nz                            ;[8080] c0
                    inc       hl                            ;[8081] 23
                    inc       (hl)                          ;[8082] 34
                    ret       nz                            ;[8083] c0
                    inc       hl                            ;[8084] 23
                    inc       (hl)                          ;[8085] 34
                    ret       nz                            ;[8086] c0
                    inc       hl                            ;[8087] 23
                    inc       (hl)                          ;[8088] 34
                    ret       nz                            ;[8089] c0
                    inc       hl                            ;[808a] 23
                    inc       (hl)                          ;[808b] 34
                    ret       nz                            ;[808c] c0
                    inc       hl                            ;[808d] 23
                    inc       (hl)                          ;[808e] 34
                    ret       nz                            ;[808f] c0
                    inc       hl                            ;[8090] 23
                    inc       (hl)                          ;[8091] 34
                    ret       nz                            ;[8092] c0
                    inc       hl                            ;[8093] 23
                    inc       (hl)                          ;[8094] 34
                    ret                                     ;[8095] c9

l_cpl_64_mhl:
                    call      again_l_cpl_64_mhl            ;[8096] cd 99 80
again_l_cpl_64_mhl:
                    ld        a,(hl)                        ;[8099] 7e
                    cpl                                     ;[809a] 2f
                    ld        (hl),a                        ;[809b] 77
                    inc       hl                            ;[809c] 23
                    ld        a,(hl)                        ;[809d] 7e
                    cpl                                     ;[809e] 2f
                    ld        (hl),a                        ;[809f] 77
                    inc       hl                            ;[80a0] 23
                    ld        a,(hl)                        ;[80a1] 7e
                    cpl                                     ;[80a2] 2f
                    ld        (hl),a                        ;[80a3] 77
                    inc       hl                            ;[80a4] 23
                    ld        a,(hl)                        ;[80a5] 7e
                    cpl                                     ;[80a6] 2f
                    ld        (hl),a                        ;[80a7] 77
                    inc       hl                            ;[80a8] 23
                    ret                                     ;[80a9] c9

l_testzero_64_dehldehl:
                    exx                                     ;[80aa] d9
                    ld        a,d                           ;[80ab] 7a
                    or        e                             ;[80ac] b3
                    or        h                             ;[80ad] b4
                    or        l                             ;[80ae] b5
                    exx                                     ;[80af] d9
                    or        d                             ;[80b0] b2
                    or        e                             ;[80b1] b3
                    or        h                             ;[80b2] b4
                    or        l                             ;[80b3] b5
                    ret                                     ;[80b4] c9

l_eat_sign:
                    ld        a,(hl)                        ;[80b5] 7e
                    inc       hl                            ;[80b6] 23
                    cp        $2b                           ;[80b7] fe 2b
                    ret       z                             ;[80b9] c8
                    cp        $2d                           ;[80ba] fe 2d
                    scf                                     ;[80bc] 37
                    ret       z                             ;[80bd] c8
                    dec       hl                            ;[80be] 2b
                    or        a                             ;[80bf] b7
                    ret                                     ;[80c0] c9

l_eat_ws:
                    ld        a,(hl)                        ;[80c1] 7e
                    call      asm_isspace                   ;[80c2] cd 84 86
                    ret       c                             ;[80c5] d8
                    inc       hl                            ;[80c6] 23
                    jr        l_eat_ws                      ;[80c7] 18 f8
l_num2char:
                    cp        $0a                           ;[80c9] fe 0a
                    jr        nc,alpha                      ;[80cb] 30 03
                    add       $30                           ;[80cd] c6 30
                    ret                                     ;[80cf] c9

alpha:
                    add       $37                           ;[80d0] c6 37
                    ret                                     ;[80d2] c9

l_valid_base:
                    ld        a,b                           ;[80d3] 78
                    or        a                             ;[80d4] b7
                    ret       nz                            ;[80d5] c0
                    or        c                             ;[80d6] b1
                    ret       z                             ;[80d7] c8
                    ld        a,c                           ;[80d8] 79
                    cp        $25                           ;[80d9] fe 25
                    ret       nc                            ;[80db] d0
                    cp        $02                           ;[80dc] fe 02
                    ccf                                     ;[80de] 3f
                    ret                                     ;[80df] c9

l_atou:
                    ld        hl,$0000                      ;[80e0] 21 00 00
                    dec       de                            ;[80e3] 1b
                    push      hl                            ;[80e4] e5
loop:
                    pop       af                            ;[80e5] f1
                    inc       de                            ;[80e6] 13
                    ld        a,(de)                        ;[80e7] 1a
                    sub       $30                           ;[80e8] d6 30
                    ccf                                     ;[80ea] 3f
                    ret       nc                            ;[80eb] d0
                    cp        $0a                           ;[80ec] fe 0a
                    ret       nc                            ;[80ee] d0
                    push      hl                            ;[80ef] e5
                    add       hl,hl                         ;[80f0] 29
                    jr        c,overflow_l_small_atou       ;[80f1] 38 12
                    ld        c,l                           ;[80f3] 4d
                    ld        b,h                           ;[80f4] 44
                    add       hl,hl                         ;[80f5] 29
                    jr        c,overflow_l_small_atou       ;[80f6] 38 0d
                    add       hl,hl                         ;[80f8] 29
                    jr        c,overflow_l_small_atou       ;[80f9] 38 0a
                    add       hl,bc                         ;[80fb] 09
                    jr        c,overflow_l_small_atou       ;[80fc] 38 07
                    add       l                             ;[80fe] 85
                    ld        l,a                           ;[80ff] 6f
                    jr        nc,loop                       ;[8100] 30 e3
                    inc       h                             ;[8102] 24
                    jr        nz,loop                       ;[8103] 20 e0
overflow_l_small_atou:
                    pop       hl                            ;[8105] e1
                    scf                                     ;[8106] 37
                    ret                                     ;[8107] c9

l_neg_hl:
                    ld        a,l                           ;[8108] 7d
                    cpl                                     ;[8109] 2f
                    ld        l,a                           ;[810a] 6f
                    ld        a,h                           ;[810b] 7c
                    cpl                                     ;[810c] 2f
                    ld        h,a                           ;[810d] 67
                    inc       hl                            ;[810e] 23
                    ret                                     ;[810f] c9

l_long_mod_u:
                    and       a                             ;[8110] a7
                    jr        common                        ;[8111] 18 01
l_long_div_u:
                    scf                                     ;[8113] 37
common:
                    exx                                     ;[8114] d9
                    pop       bc                            ;[8115] c1
                    pop       hl                            ;[8116] e1
                    pop       de                            ;[8117] d1
                    push      bc                            ;[8118] c5
                    jp        c,$868e                       ;[8119] da 8e 86
                    call      $868e                         ;[811c] cd 8e 86
                    exx                                     ;[811f] d9
                    ret                                     ;[8120] c9

l_int2long_s:
                    ld        de,$0000                      ;[8121] 11 00 00
                    bit       7,h                           ;[8124] cb 7c
                    ret       z                             ;[8126] c8
                    dec       de                            ;[8127] 1b
                    ret                                     ;[8128] c9

l_ge:
                    ld        a,h                           ;[8129] 7c
                    add       $80                           ;[812a] c6 80
                    ld        b,a                           ;[812c] 47
                    ld        a,d                           ;[812d] 7a
                    add       $80                           ;[812e] c6 80
                    cp        b                             ;[8130] b8
                    ccf                                     ;[8131] 3f
                    jp        nz,l_compare_result           ;[8132] c2 3b 81
                    ld        a,e                           ;[8135] 7b
                    cp        l                             ;[8136] bd
                    ccf                                     ;[8137] 3f
                    jp        l_compare_result              ;[8138] c3 3b 81
l_compare_result:
                    ld        hl,$0000                      ;[813b] 21 00 00
                    ret       nc                            ;[813e] d0
                    inc       hl                            ;[813f] 23
                    ret                                     ;[8140] c9

l_jphl:
                    jp        (hl)                          ;[8141] e9
                    pop       hl                            ;[8142] e1
                    pop       hl                            ;[8143] e1
                    pop       hl                            ;[8144] e1
__printf_pickup_far:
                    ret                                     ;[8145] c9

l_uge:
                    ld        a,d                           ;[8146] 7a
                    cp        h                             ;[8147] bc
                    ccf                                     ;[8148] 3f
                    jp        nz,l_compare_result           ;[8149] c2 3b 81
                    ld        a,e                           ;[814c] 7b
                    cp        l                             ;[814d] bd
                    ccf                                     ;[814e] 3f
                    jp        l_compare_result              ;[814f] c3 3b 81
_main:
                    ld        hl,$878d                      ;[8152] 21 8d 87
                    push      hl                            ;[8155] e5
                    ld        a,$01                         ;[8156] 3e 01
                    call      printf                        ;[8158] cd 8d 82
                    pop       bc                            ;[815b] c1
                    ld        hl,$87e8                      ;[815c] 21 e8 87
                    push      hl                            ;[815f] e5
                    call      ___fgetc                      ;[8160] cd 65 81
                    pop       bc                            ;[8163] c1
                    ret                                     ;[8164] c9

___fgetc:
                    pop       bc                            ;[8165] c1
                    pop       hl                            ;[8166] e1
                    push      hl                            ;[8167] e5
                    push      bc                            ;[8168] c5
                    push      ix                            ;[8169] dd e5
                    push      hl                            ;[816b] e5
                    pop       ix                            ;[816c] dd e1
                    ld        a,(ix+$02)                    ;[816e] dd 7e 02
                    and       a                             ;[8171] a7
                    jp        z,is_eof                      ;[8172] ca f2 81
                    and       $08                           ;[8175] e6 08
                    jp        nz,is_eof                     ;[8177] c2 f2 81
                    ld        a,(ix+$03)                    ;[817a] dd 7e 03
                    and       a                             ;[817d] a7
                    jr        z,no_ungetc                   ;[817e] 28 09
                    ld        l,a                           ;[8180] 6f
                    ld        h,$00                         ;[8181] 26 00
                    ld        (ix+$03),h                    ;[8183] dd 74 03
                    jp        fgetc_end                     ;[8186] c3 fd 81
no_ungetc:
                    ld        a,(ix+$02)                    ;[8189] dd 7e 02
                    and       $80                           ;[818c] e6 80
                    jr        z,no_string_stdio_fgetc_c     ;[818e] 28 28
                    ld        l,(ix+$04)                    ;[8190] dd 6e 04
                    ld        h,(ix+$05)                    ;[8193] dd 66 05
                    ld        a,h                           ;[8196] 7c
                    or        l                             ;[8197] b5
                    jp        z,is_eof                      ;[8198] ca f2 81
                    dec       hl                            ;[819b] 2b
                    ld        (ix+$04),l                    ;[819c] dd 75 04
                    ld        (ix+$05),h                    ;[819f] dd 74 05
                    ld        l,(ix+$00)                    ;[81a2] dd 6e 00
                    ld        h,(ix+$01)                    ;[81a5] dd 66 01
                    ld        a,(hl)                        ;[81a8] 7e
                    inc       hl                            ;[81a9] 23
                    ld        (ix+$00),l                    ;[81aa] dd 75 00
                    ld        (ix+$01),h                    ;[81ad] dd 74 01
                    and       a                             ;[81b0] a7
                    jr        z,is_eof                      ;[81b1] 28 3f
                    ld        l,a                           ;[81b3] 6f
                    ld        h,$00                         ;[81b4] 26 00
                    jr        fgetc_end                     ;[81b6] 18 45
no_string_stdio_fgetc_c:
                    ld        a,(ix+$02)                    ;[81b8] dd 7e 02
                    and       $20                           ;[81bb] e6 20
                    jr        z,not_extra_fp                ;[81bd] 28 0f
                    ld        l,(ix+$04)                    ;[81bf] dd 6e 04
                    ld        h,(ix+$05)                    ;[81c2] dd 66 05
                    ld        a,$01                         ;[81c5] 3e 01
                    call      l_jphl                        ;[81c7] cd 41 81
                    jr        nc,fgetc_end                  ;[81ca] 30 31
                    jr        seteof                        ;[81cc] 18 27
not_extra_fp:
                    push      ix                            ;[81ce] dd e5
                    call      ___fchkstd                    ;[81d0] cd 00 82
                    pop       ix                            ;[81d3] dd e1
                    jr        c,no_stdin                    ;[81d5] 38 0a
                    call      _fgetc_cons                   ;[81d7] cd 1e 80
                    push      hl                            ;[81da] e5
                    call      _fputc_cons                   ;[81db] cd 15 80
                    pop       hl                            ;[81de] e1
                    jr        fgetc_end                     ;[81df] 18 1c
no_stdin:
                    ld        l,(ix+$00)                    ;[81e1] dd 6e 00
                    ld        h,(ix+$01)                    ;[81e4] dd 66 01
                    push      ix                            ;[81e7] dd e5
                    call      _readbyte                     ;[81e9] cd 82 86
                    pop       ix                            ;[81ec] dd e1
                    ld        a,h                           ;[81ee] 7c
                    inc       a                             ;[81ef] 3c
                    jr        nz,fgetc_end                  ;[81f0] 20 0b
is_eof:
                    ld        hl,$ffff                      ;[81f2] 21 ff ff
seteof:
                    ld        a,(ix+$02)                    ;[81f5] dd 7e 02
                    or        $08                           ;[81f8] f6 08
                    ld        (ix+$02),a                    ;[81fa] dd 77 02
fgetc_end:
                    pop       ix                            ;[81fd] dd e1
                    ret                                     ;[81ff] c9

___fchkstd:
                    pop       hl                            ;[8200] e1
                    pop       de                            ;[8201] d1
                    push      de                            ;[8202] d5
                    push      hl                            ;[8203] e5
                    ld        hl,$0000                      ;[8204] 21 00 00
                    inc       de                            ;[8207] 13
                    inc       de                            ;[8208] 13
                    ld        a,(de)                        ;[8209] 1a
                    and       $10                           ;[820a] e6 10
                    scf                                     ;[820c] 37
                    ret       z                             ;[820d] c8
                    dec       hl                            ;[820e] 2b
                    ld        a,(de)                        ;[820f] 1a
                    and       $02                           ;[8210] e6 02
                    ret       nz                            ;[8212] c0
                    inc       hl                            ;[8213] 23
                    inc       hl                            ;[8214] 23
                    and       a                             ;[8215] a7
                    ret                                     ;[8216] c9

_fputc_callee:
                    pop       de                            ;[8217] d1
                    pop       hl                            ;[8218] e1
                    pop       bc                            ;[8219] c1
                    push      de                            ;[821a] d5
                    push      ix                            ;[821b] dd e5
                    push      hl                            ;[821d] e5
                    pop       ix                            ;[821e] dd e1
                    call      asm_fputc_callee              ;[8220] cd 26 82
                    pop       ix                            ;[8223] dd e1
                    ret                                     ;[8225] c9

asm_fputc_callee:
                    ld        hl,$ffff                      ;[8226] 21 ff ff
                    ld        a,(ix+$02)                    ;[8229] dd 7e 02
                    and       a                             ;[822c] a7
                    ret       z                             ;[822d] c8
                    ld        a,(ix+$02)                    ;[822e] dd 7e 02
                    and       $80                           ;[8231] e6 80
                    jr        z,no_string_stdio_fputc_callee_c;[8233] 28 26
                    ld        e,(ix+$04)                    ;[8235] dd 5e 04
                    ld        d,(ix+$05)                    ;[8238] dd 56 05
                    ld        a,d                           ;[823b] 7a
                    or        e                             ;[823c] b3
                    jr        nz,print_char_to_buf          ;[823d] 20 03
                    ex        de,hl                         ;[823f] eb
                    dec       hl                            ;[8240] 2b
                    ret                                     ;[8241] c9

print_char_to_buf:
                    dec       de                            ;[8242] 1b
                    ld        (ix+$04),e                    ;[8243] dd 73 04
                    ld        (ix+$05),d                    ;[8246] dd 72 05
                    ld        l,(ix+$00)                    ;[8249] dd 6e 00
                    ld        h,(ix+$01)                    ;[824c] dd 66 01
                    ld        (hl),c                        ;[824f] 71
                    inc       hl                            ;[8250] 23
                    ld        (ix+$00),l                    ;[8251] dd 75 00
                    ld        (ix+$01),h                    ;[8254] dd 74 01
                    ld        l,c                           ;[8257] 69
                    ld        h,$00                         ;[8258] 26 00
                    ret                                     ;[825a] c9

no_string_stdio_fputc_callee_c:
                    ld        a,(ix+$02)                    ;[825b] dd 7e 02
                    and       $20                           ;[825e] e6 20
                    jr        z,no_net                      ;[8260] 28 0e
                    ld        l,(ix+$04)                    ;[8262] dd 6e 04
                    ld        h,(ix+$05)                    ;[8265] dd 66 05
                    ld        a,$02                         ;[8268] 3e 02
                    push      bc                            ;[826a] c5
                    call      l_jphl                        ;[826b] cd 41 81
                    pop       hl                            ;[826e] e1
                    ret                                     ;[826f] c9

no_net:
                    push      ix                            ;[8270] dd e5
                    call      ___fchkstd                    ;[8272] cd 00 82
                    pop       ix                            ;[8275] dd e1
                    jr        c,no_cons                     ;[8277] 38 06
                    push      bc                            ;[8279] c5
                    call      _fputc_cons                   ;[827a] cd 15 80
                    pop       hl                            ;[827d] e1
                    ret                                     ;[827e] c9

no_cons:
                    ld        l,(ix+$00)                    ;[827f] dd 6e 00
                    ld        h,(ix+$01)                    ;[8282] dd 66 01
                    push      hl                            ;[8285] e5
                    push      bc                            ;[8286] c5
                    call      ___writebyte                  ;[8287] cd 83 86
                    pop       hl                            ;[828a] e1
                    pop       bc                            ;[828b] c1
                    ret                                     ;[828c] c9

printf:
                    ld        l,a                           ;[828d] 6f
                    ld        h,$00                         ;[828e] 26 00
                    add       hl,hl                         ;[8290] 29
                    add       hl,sp                         ;[8291] 39
                    push      ix                            ;[8292] dd e5
                    ld        bc,$87f2                      ;[8294] 01 f2 87
                    push      bc                            ;[8297] c5
                    ld        bc,$8217                      ;[8298] 01 17 82
                    push      bc                            ;[829b] c5
                    ld        bc,$0001                      ;[829c] 01 01 00
                    push      bc                            ;[829f] c5
                    ld        e,(hl)                        ;[82a0] 5e
                    inc       hl                            ;[82a1] 23
                    ld        d,(hl)                        ;[82a2] 56
                    push      de                            ;[82a3] d5
                    dec       hl                            ;[82a4] 2b
                    dec       hl                            ;[82a5] 2b
                    dec       hl                            ;[82a6] 2b
                    push      hl                            ;[82a7] e5
                    call      asm_printf                    ;[82a8] cd b3 82
                    pop       bc                            ;[82ab] c1
                    pop       bc                            ;[82ac] c1
                    pop       bc                            ;[82ad] c1
                    pop       bc                            ;[82ae] c1
                    pop       bc                            ;[82af] c1
                    pop       ix                            ;[82b0] dd e1
                    ret                                     ;[82b2] c9

asm_printf:
                    ld        ix,$0000                      ;[82b3] dd 21 00 00
                    add       ix,sp                         ;[82b7] dd 39
                    ld        hl,$ffb0                      ;[82b9] 21 b0 ff
                    add       hl,sp                         ;[82bc] 39
                    ld        sp,hl                         ;[82bd] f9
                    ld        e,(ix+$02)                    ;[82be] dd 5e 02
                    ld        d,(ix+$03)                    ;[82c1] dd 56 03
                    ld        l,(ix+$04)                    ;[82c4] dd 6e 04
                    ld        h,(ix+$05)                    ;[82c7] dd 66 05
                    xor       a                             ;[82ca] af
                    ld        (ix-$01),a                    ;[82cb] dd 77 ff
                    ld        (ix-$02),a                    ;[82ce] dd 77 fe
                    dec       a                             ;[82d1] 3d
                    ld        (ix-$05),a                    ;[82d2] dd 77 fb
                    ld        (ix-$06),a                    ;[82d5] dd 77 fa
                    ld        (ix-$07),a                    ;[82d8] dd 77 f9
                    ld        (ix-$08),a                    ;[82db] dd 77 f8
__printf_loop:
                    ld        (ix-$09),$0a                  ;[82de] dd 36 f7 0a
                    xor       a                             ;[82e2] af
                    ld        (ix-$03),a                    ;[82e3] dd 77 fd
                    ld        (ix-$04),a                    ;[82e6] dd 77 fc
                    ld        (ix-$0a),a                    ;[82e9] dd 77 f6
                    ld        a,(hl)                        ;[82ec] 7e
                    inc       hl                            ;[82ed] 23
                    and       a                             ;[82ee] a7
                    jr        nz,cont                       ;[82ef] 20 07
                    ld        hl,$004e                      ;[82f1] 21 4e 00
                    add       hl,sp                         ;[82f4] 39
                    ld        sp,hl                         ;[82f5] f9
                    pop       hl                            ;[82f6] e1
__printf_get_flags_noop:
                    ret                                     ;[82f7] c9

cont:
                    cp        $25                           ;[82f8] fe 25
                    jr        z,handle_percent              ;[82fa] 28 05
print_format_character:
                    call      __printf_doprint              ;[82fc] cd 44 83
                    jr        __printf_loop                 ;[82ff] 18 dd
handle_percent:
                    ld        a,(hl)                        ;[8301] 7e
                    inc       hl                            ;[8302] 23
                    cp        $25                           ;[8303] fe 25
                    jr        z,print_format_character      ;[8305] 28 f5
                    call      __printf_get_flags            ;[8307] cd 7b 83
                    res       6,(ix-$04)                    ;[830a] dd cb fc b6
                    cp        $7a                           ;[830e] fe 7a
                    jr        z,get_next_char               ;[8310] 28 14
                    cp        $68                           ;[8312] fe 68
                    jr        nz,check_long_qualifier       ;[8314] 20 08
                    ld        a,(hl)                        ;[8316] 7e
                    inc       hl                            ;[8317] 23
                    cp        $68                           ;[8318] fe 68
                    jr        nz,no_long_qualifier          ;[831a] 20 0c
                    jr        get_next_char                 ;[831c] 18 08
check_long_qualifier:
                    cp        $6c                           ;[831e] fe 6c
                    jr        nz,no_long_qualifier          ;[8320] 20 06
                    set       6,(ix-$04)                    ;[8322] dd cb fc f6
get_next_char:
                    ld        a,(hl)                        ;[8326] 7e
                    inc       hl                            ;[8327] 23
no_long_qualifier:
                    push      hl                            ;[8328] e5
                    ld        hl,$87aa                      ;[8329] 21 aa 87
                    ld        c,a                           ;[832c] 4f
__printf_format_search_loop:
                    ld        a,(hl)                        ;[832d] 7e
                    and       a                             ;[832e] a7
                    jr        z,no_format_found             ;[832f] 28 0f
                    cp        c                             ;[8331] b9
                    jr        nz,no_format_match            ;[8332] 20 07
                    inc       hl                            ;[8334] 23
                    ld        c,(hl)                        ;[8335] 4e
                    inc       hl                            ;[8336] 23
                    ld        b,(hl)                        ;[8337] 46
                    pop       hl                            ;[8338] e1
                    push      bc                            ;[8339] c5
                    ret                                     ;[833a] c9

no_format_match:
                    inc       hl                            ;[833b] 23
                    inc       hl                            ;[833c] 23
                    inc       hl                            ;[833d] 23
                    jr        __printf_format_search_loop   ;[833e] 18 ed
no_format_found:
                    pop       hl                            ;[8340] e1
                    ld        a,c                           ;[8341] 79
                    jr        print_format_character        ;[8342] 18 b8
__printf_doprint:
                    push      hl                            ;[8344] e5
                    push      de                            ;[8345] d5
                    push      bc                            ;[8346] c5
                    push      ix                            ;[8347] dd e5
                    exx                                     ;[8349] d9
                    push      bc                            ;[834a] c5
                    push      de                            ;[834b] d5
                    exx                                     ;[834c] d9
                    ex        af,af'                        ;[834d] 08
                    push      af                            ;[834e] f5
                    ex        af,af'                        ;[834f] 08
                    inc       (ix-$02)                      ;[8350] dd 34 fe
                    jr        nz,no_inc                     ;[8353] 20 03
                    inc       (ix-$01)                      ;[8355] dd 34 ff
no_inc:
                    ld        c,a                           ;[8358] 4f
                    ld        b,$00                         ;[8359] 06 00
                    push      bc                            ;[835b] c5
                    ld        c,(ix+$0a)                    ;[835c] dd 4e 0a
                    ld        b,(ix+$0b)                    ;[835f] dd 46 0b
                    push      bc                            ;[8362] c5
                    ld        bc,$836e                      ;[8363] 01 6e 83
                    push      bc                            ;[8366] c5
                    ld        l,(ix+$08)                    ;[8367] dd 6e 08
                    ld        h,(ix+$09)                    ;[836a] dd 66 09
                    jp        (hl)                          ;[836d] e9
doprint_return:
                    ex        af,af'                        ;[836e] 08
                    pop       af                            ;[836f] f1
                    ex        af,af'                        ;[8370] 08
                    exx                                     ;[8371] d9
                    pop       de                            ;[8372] d1
                    pop       bc                            ;[8373] c1
                    exx                                     ;[8374] d9
                    pop       ix                            ;[8375] dd e1
                    pop       bc                            ;[8377] c1
                    pop       de                            ;[8378] d1
                    pop       hl                            ;[8379] e1
                    ret                                     ;[837a] c9

__printf_get_flags:
                    ld        c,$00                         ;[837b] 0e 00
flags_again:
                    push      hl                            ;[837d] e5
                    ld        b,$05                         ;[837e] 06 05
                    ld        hl,$838f                      ;[8380] 21 8f 83
flag_loop:
                    cp        (hl)                          ;[8383] be
                    inc       hl                            ;[8384] 23
                    jr        nz,no_flag                    ;[8385] 20 12
                    ld        a,(hl)                        ;[8387] 7e
                    or        c                             ;[8388] b1
                    ld        c,a                           ;[8389] 4f
                    pop       hl                            ;[838a] e1
                    ld        a,(hl)                        ;[838b] 7e
                    inc       hl                            ;[838c] 23
                    jr        flags_again                   ;[838d] 18 ee
flags:
                    dec       l                             ;[838f] 2d
                    ld        bc,$022b                      ;[8390] 01 2b 02
                    jr        nz,$839d                      ;[8393] 20 08
                    inc       hl                            ;[8395] 23
                    djnz      $83c8                         ;[8396] 10 30
                    inc       b                             ;[8398] 04
no_flag:
                    inc       hl                            ;[8399] 23
                    djnz      flag_loop                     ;[839a] 10 e7
                    pop       hl                            ;[839c] e1
                    ld        (ix-$04),c                    ;[839d] dd 71 fc
check_width:
                    ld        (ix-$05),$00                  ;[83a0] dd 36 fb 00
                    ld        (ix-$06),$00                  ;[83a4] dd 36 fa 00
                    cp        $2a                           ;[83a8] fe 2a
                    jr        nz,check_width_from_format    ;[83aa] 20 08
starred_width:
                    push      hl                            ;[83ac] e5
                    call      get_16bit_ap_parameter        ;[83ad] cd 55 86
                    ex        de,hl                         ;[83b0] eb
                    ex        (sp),hl                       ;[83b1] e3
                    jr        save_width                    ;[83b2] 18 0e
check_width_from_format:
                    cp        $30                           ;[83b4] fe 30
                    jr        c,check_precision             ;[83b6] 38 13
                    cp        $3a                           ;[83b8] fe 3a
                    jr        nc,check_precision            ;[83ba] 30 0f
                    push      de                            ;[83bc] d5
                    dec       hl                            ;[83bd] 2b
                    call      asm_atoi                      ;[83be] cd 3c 87
                    ex        de,hl                         ;[83c1] eb
save_width:
                    ld        (ix-$05),d                    ;[83c2] dd 72 fb
                    ld        (ix-$06),e                    ;[83c5] dd 73 fa
                    pop       de                            ;[83c8] d1
                    ld        a,(hl)                        ;[83c9] 7e
                    inc       hl                            ;[83ca] 23
check_precision:
                    ld        (ix-$07),$ff                  ;[83cb] dd 36 f9 ff
                    ld        (ix-$08),$ff                  ;[83cf] dd 36 f8 ff
                    cp        $2e                           ;[83d3] fe 2e
                    jr        nz,no_precision               ;[83d5] 20 1c
                    ld        a,(hl)                        ;[83d7] 7e
                    cp        $2a                           ;[83d8] fe 2a
                    jr        nz,check_precision_from_format;[83da] 20 09
                    inc       hl                            ;[83dc] 23
                    push      hl                            ;[83dd] e5
                    call      get_16bit_ap_parameter        ;[83de] cd 55 86
                    ex        de,hl                         ;[83e1] eb
                    ex        (sp),hl                       ;[83e2] e3
                    jr        save_precision                ;[83e3] 18 05
check_precision_from_format:
                    push      de                            ;[83e5] d5
                    call      asm_atoi                      ;[83e6] cd 3c 87
                    ex        de,hl                         ;[83e9] eb
save_precision:
                    ld        (ix-$07),d                    ;[83ea] dd 72 f9
                    ld        (ix-$08),e                    ;[83ed] dd 73 f8
                    ld        a,(hl)                        ;[83f0] 7e
                    inc       hl                            ;[83f1] 23
                    pop       de                            ;[83f2] d1
no_precision:
                    ret                                     ;[83f3] c9

__printf_handle_B:
                    ld        (ix-$09),$02                  ;[83f4] dd 36 f7 02
                    res       1,(ix-$04)                    ;[83f8] dd cb fc 8e
                    ld        c,$00                         ;[83fc] 0e 00
                    jp        __printf_number               ;[83fe] c3 be 84
__printf_handle_X:
                    ld        (ix-$09),$10                  ;[8401] dd 36 f7 10
                    ld        (ix-$03),$e0                  ;[8405] dd 36 fd e0
                    res       1,(ix-$04)                    ;[8409] dd cb fc 8e
                    ld        c,$00                         ;[840d] 0e 00
                    jp        __printf_number               ;[840f] c3 be 84
__printf_handle_c:
                    push      hl                            ;[8412] e5
                    call      get_16bit_ap_parameter        ;[8413] cd 55 86
                    push      de                            ;[8416] d5
                    ld        a,l                           ;[8417] 7d
                    call      __printf_print_to_buf         ;[8418] cd 43 86
                    jp        __printf_print_the_buffer     ;[841b] c3 31 86
__printf_handle_d:
                    ld        c,$01                         ;[841e] 0e 01
                    jp        __printf_number               ;[8420] c3 be 84
__printf_handle_ll:
                    ld        c,(hl)                        ;[8423] 4e
                    inc       hl                            ;[8424] 23
                    push      hl                            ;[8425] e5
                    ld        hl,$87cc                      ;[8426] 21 cc 87
                    jp        __printf_format_search_loop   ;[8429] c3 2d 83
__printf_handle_llB:
                    ld        c,$00                         ;[842c] 0e 00
                    ld        (ix-$09),$02                  ;[842e] dd 36 f7 02
                    res       1,(ix-$04)                    ;[8432] dd cb fc 8e
                    jp        __printf_number64             ;[8436] c3 58 85
__printf_handle_llX:
                    ld        c,$00                         ;[8439] 0e 00
                    ld        (ix-$09),$10                  ;[843b] dd 36 f7 10
                    ld        (ix-$03),$e0                  ;[843f] dd 36 fd e0
                    res       1,(ix-$04)                    ;[8443] dd cb fc 8e
                    jp        __printf_number64             ;[8447] c3 58 85
__printf_handle_lld:
                    ld        c,$01                         ;[844a] 0e 01
                    jp        __printf_number64             ;[844c] c3 58 85
__printf_handle_llo:
                    ld        c,$00                         ;[844f] 0e 00
                    ld        (ix-$09),$08                  ;[8451] dd 36 f7 08
                    jp        __printf_number64             ;[8455] c3 58 85
__printf_handle_llu:
                    ld        c,$00                         ;[8458] 0e 00
                    jp        __printf_number64             ;[845a] c3 58 85
__printf_handle_llx:
                    ld        c,$00                         ;[845d] 0e 00
                    ld        (ix-$09),$10                  ;[845f] dd 36 f7 10
                    res       1,(ix-$04)                    ;[8463] dd cb fc 8e
                    jp        __printf_number64             ;[8467] c3 58 85
__printf_handle_n:
                    push      hl                            ;[846a] e5
                    call      get_16bit_ap_parameter        ;[846b] cd 55 86
                    ld        a,(ix-$02)                    ;[846e] dd 7e fe
                    ld        (hl),a                        ;[8471] 77
                    ld        a,(ix-$01)                    ;[8472] dd 7e ff
                    inc       hl                            ;[8475] 23
                    ld        (hl),a                        ;[8476] 77
                    pop       hl                            ;[8477] e1
                    jp        __printf_loop                 ;[8478] c3 de 82
__printf_handle_o:
                    ld        (ix-$09),$08                  ;[847b] dd 36 f7 08
                    ld        c,$00                         ;[847f] 0e 00
                    jp        __printf_number               ;[8481] c3 be 84
__printf_handle_s:
                    push      hl                            ;[8484] e5
                    call      get_16bit_ap_parameter        ;[8485] cd 55 86
                    push      de                            ;[8488] d5
                    ld        a,h                           ;[8489] 7c
                    or        l                             ;[848a] b5
                    jr        nz,printstr                   ;[848b] 20 03
                    ld        hl,$87df                      ;[848d] 21 df 87
printstr:
                    push      hl                            ;[8490] e5
                    call      asm_strlen                    ;[8491] cd 82 87
                    ex        de,hl                         ;[8494] eb
                    ld        l,(ix-$08)                    ;[8495] dd 6e f8
                    ld        h,(ix-$07)                    ;[8498] dd 66 f9
                    push      hl                            ;[849b] e5
                    call      l_uge                         ;[849c] cd 46 81
                    pop       hl                            ;[849f] e1
                    jr        nc,use_strlen                 ;[84a0] 30 01
                    ex        de,hl                         ;[84a2] eb
use_strlen:
                    pop       bc                            ;[84a3] c1
                    call      __printf_print_aligned        ;[84a4] cd e0 85
printstr_end:
                    pop       de                            ;[84a7] d1
                    pop       hl                            ;[84a8] e1
                    jp        __printf_loop                 ;[84a9] c3 de 82
__printf_handle_u:
                    ld        c,$00                         ;[84ac] 0e 00
                    jp        __printf_number               ;[84ae] c3 be 84
__printf_handle_p:
                    ld        (ix-$09),$10                  ;[84b1] dd 36 f7 10
                    res       1,(ix-$04)                    ;[84b5] dd cb fc 8e
                    ld        c,$00                         ;[84b9] 0e 00
                    jp        __printf_number               ;[84bb] c3 be 84
__printf_number:
                    push      hl                            ;[84be] e5
                    bit       6,(ix-$04)                    ;[84bf] dd cb fc 76
                    jr        z,printf_number16             ;[84c3] 28 08
                    call      get_32bit_ap_parameter        ;[84c5] cd 66 86
printlong:
                    push      hl                            ;[84c8] e5
                    ld        l,a                           ;[84c9] 6f
                    ld        h,b                           ;[84ca] 60
                    jr        miniprintn                    ;[84cb] 18 0c
printf_number16:
                    call      get_16bit_ap_parameter        ;[84cd] cd 55 86
                    push      de                            ;[84d0] d5
                    ld        de,$0000                      ;[84d1] 11 00 00
                    ld        a,c                           ;[84d4] 79
                    and       a                             ;[84d5] a7
                    call      nz,l_int2long_s               ;[84d6] c4 21 81
miniprintn:
                    ld        b,a                           ;[84d9] 47
                    ld        a,d                           ;[84da] 7a
                    rlca                                    ;[84db] 07
                    and       $01                           ;[84dc] e6 01
                    and       b                             ;[84de] a0
                    jr        z,noneg___printf_number       ;[84df] 28 0a
                    call      l_long_neg                    ;[84e1] cd 55 80
                    ld        a,$2d                         ;[84e4] 3e 2d
printsign___printf_number:
                    call      __printf_print_to_buf         ;[84e6] cd 43 86
                    jr        miniprintn_start_process      ;[84e9] 18 30
noneg___printf_number:
                    ld        a,$20                         ;[84eb] 3e 20
                    bit       3,(ix-$04)                    ;[84ed] dd cb fc 5e
                    jr        nz,printsign___printf_number  ;[84f1] 20 f3
                    ld        a,$2b                         ;[84f3] 3e 2b
                    bit       1,(ix-$04)                    ;[84f5] dd cb fc 4e
                    jr        nz,printsign___printf_number  ;[84f9] 20 eb
                    bit       4,(ix-$04)                    ;[84fb] dd cb fc 66
                    jr        z,miniprintn_start_process    ;[84ff] 28 1a
                    ld        a,(ix-$09)                    ;[8501] dd 7e f7
                    cp        $0a                           ;[8504] fe 0a
                    jr        z,miniprintn_start_process    ;[8506] 28 13
                    push      af                            ;[8508] f5
                    ld        a,$30                         ;[8509] 3e 30
                    call      __printf_print_to_buf         ;[850b] cd 43 86
                    pop       af                            ;[850e] f1
                    cp        $10                           ;[850f] fe 10
                    jr        nz,miniprintn_start_process   ;[8511] 20 08
                    ld        a,$78                         ;[8513] 3e 78
                    add       (ix-$03)                      ;[8515] dd 86 fd
                    call      __printf_print_to_buf         ;[8518] cd 43 86
miniprintn_start_process:
                    xor       a                             ;[851b] af
                    push      af                            ;[851c] f5
divloop:
                    push      de                            ;[851d] d5
                    push      hl                            ;[851e] e5
                    ld        l,(ix-$09)                    ;[851f] dd 6e f7
                    ld        h,$00                         ;[8522] 26 00
                    ld        d,h                           ;[8524] 54
                    ld        e,h                           ;[8525] 5c
                    call      l_long_div_u                  ;[8526] cd 13 81
                    exx                                     ;[8529] d9
                    ld        a,l                           ;[852a] 7d
                    cp        $ff                           ;[852b] fe ff
                    push      af                            ;[852d] f5
                    exx                                     ;[852e] d9
                    ld        a,h                           ;[852f] 7c
                    or        d                             ;[8530] b2
                    or        e                             ;[8531] b3
                    or        l                             ;[8532] b5
                    jr        nz,divloop                    ;[8533] 20 e8
printloop:
                    pop       af                            ;[8535] f1
                    jp        z,__printf_print_the_buffer   ;[8536] ca 31 86
                    add       $30                           ;[8539] c6 30
                    cp        $3a                           ;[853b] fe 3a
                    jr        c,printloop1                  ;[853d] 38 05
                    add       $27                           ;[853f] c6 27
                    add       (ix-$03)                      ;[8541] dd 86 fd
printloop1:
                    call      __printf_print_to_buf         ;[8544] cd 43 86
                    jr        printloop                     ;[8547] 18 ec
pickup_sccz80_llong:
                    dec       de                            ;[8549] 1b
                    dec       de                            ;[854a] 1b
                    dec       de                            ;[854b] 1b
                    dec       de                            ;[854c] 1b
                    dec       de                            ;[854d] 1b
                    dec       de                            ;[854e] 1b
                    dec       de                            ;[854f] 1b
                    dec       de                            ;[8550] 1b
                    push      de                            ;[8551] d5
                    inc       de                            ;[8552] 13
                    inc       de                            ;[8553] 13
                    ld        l,e                           ;[8554] 6b
                    ld        h,d                           ;[8555] 62
                    jr        continue                      ;[8556] 18 13
__printf_number64:
                    push      hl                            ;[8558] e5
                    bit       0,(ix+$06)                    ;[8559] dd cb 06 46
                    jr        nz,pickup_sccz80_llong        ;[855d] 20 ea
                    ld        l,e                           ;[855f] 6b
                    ld        h,d                           ;[8560] 62
                    inc       hl                            ;[8561] 23
                    inc       hl                            ;[8562] 23
                    inc       hl                            ;[8563] 23
                    inc       hl                            ;[8564] 23
                    inc       hl                            ;[8565] 23
                    inc       hl                            ;[8566] 23
                    inc       hl                            ;[8567] 23
                    inc       hl                            ;[8568] 23
                    push      hl                            ;[8569] e5
                    ex        de,hl                         ;[856a] eb
continue:
                    push      hl                            ;[856b] e5
                    ld        a,c                           ;[856c] 79
                    and       a                             ;[856d] a7
                    jr        z,noneg___printf_number64     ;[856e] 28 0e
                    bit       7,(hl)                        ;[8570] cb 7e
                    jr        z,noneg___printf_number64     ;[8572] 28 0a
                    call      l_neg_64_mhl                  ;[8574] cd 7a 80
                    ld        a,$2d                         ;[8577] 3e 2d
printsign___printf_number64:
                    call      __printf_print_to_buf         ;[8579] cd 43 86
                    jr        number64_start_process        ;[857c] 18 30
noneg___printf_number64:
                    ld        a,$20                         ;[857e] 3e 20
                    bit       3,(ix-$04)                    ;[8580] dd cb fc 5e
                    jr        nz,printsign___printf_number64;[8584] 20 f3
                    ld        a,$2b                         ;[8586] 3e 2b
                    bit       1,(ix-$04)                    ;[8588] dd cb fc 4e
                    jr        nz,printsign___printf_number64;[858c] 20 eb
                    bit       4,(ix-$04)                    ;[858e] dd cb fc 66
                    jr        z,number64_start_process      ;[8592] 28 1a
                    ld        a,(ix-$09)                    ;[8594] dd 7e f7
                    cp        $0a                           ;[8597] fe 0a
                    jr        z,number64_start_process      ;[8599] 28 13
                    push      af                            ;[859b] f5
                    ld        a,$30                         ;[859c] 3e 30
                    call      __printf_print_to_buf         ;[859e] cd 43 86
                    pop       af                            ;[85a1] f1
                    cp        $10                           ;[85a2] fe 10
                    jr        nz,number64_start_process     ;[85a4] 20 08
                    ld        a,$78                         ;[85a6] 3e 78
                    add       (ix-$03)                      ;[85a8] dd 86 fd
                    call      __printf_print_to_buf         ;[85ab] cd 43 86
number64_start_process:
                    call      __printf_get_buffer_address   ;[85ae] cd d8 85
                    ld        c,(ix-$0a)                    ;[85b1] dd 4e f6
                    ld        b,$00                         ;[85b4] 06 00
                    add       hl,bc                         ;[85b6] 09
                    ld        e,(ix-$09)                    ;[85b7] dd 5e f7
                    ld        d,$00                         ;[85ba] 16 00
                    pop       bc                            ;[85bc] c1
                    push      ix                            ;[85bd] dd e5
                    push      de                            ;[85bf] d5
                    push      hl                            ;[85c0] e5
                    call      l_load_64_dehldehl_mbc        ;[85c1] cd 67 80
                    pop       ix                            ;[85c4] dd e1
                    pop       bc                            ;[85c6] c1
                    call      asm1_ulltoa                   ;[85c7] cd 67 87
                    pop       ix                            ;[85ca] dd e1
                    call      __printf_get_buffer_address   ;[85cc] cd d8 85
                    call      asm_strlen                    ;[85cf] cd 82 87
                    ld        (ix-$0a),l                    ;[85d2] dd 75 f6
                    jp        __printf_print_the_buffer     ;[85d5] c3 31 86
__printf_get_buffer_address:
                    push      ix                            ;[85d8] dd e5
                    pop       hl                            ;[85da] e1
                    ld        bc,$ffb0                      ;[85db] 01 b0 ff
                    add       hl,bc                         ;[85de] 09
                    ret                                     ;[85df] c9

__printf_print_aligned:
                    ld        l,(ix-$06)                    ;[85e0] dd 6e fa
                    ld        h,(ix-$05)                    ;[85e3] dd 66 fb
                    ld        a,h                           ;[85e6] 7c
                    or        l                             ;[85e7] b5
                    jr        z,width_done                  ;[85e8] 28 11
                    push      hl                            ;[85ea] e5
                    push      bc                            ;[85eb] c5
                    call      l_ge                          ;[85ec] cd 29 81
                    pop       bc                            ;[85ef] c1
                    pop       hl                            ;[85f0] e1
                    jr        nc,adjust_width               ;[85f1] 30 05
                    ld        hl,$0000                      ;[85f3] 21 00 00
                    jr        width_done                    ;[85f6] 18 03
adjust_width:
                    and       a                             ;[85f8] a7
                    sbc       hl,de                         ;[85f9] ed 52
width_done:
                    bit       0,(ix-$04)                    ;[85fb] dd cb fc 46
                    push      bc                            ;[85ff] c5
                    call      z,print_padding               ;[8600] cc 25 86
                    pop       bc                            ;[8603] c1
print_buffer:
                    ld        a,d                           ;[8604] 7a
                    or        e                             ;[8605] b3
                    jr        z,buffer_done                 ;[8606] 28 0f
                    ld        a,(bc)                        ;[8608] 0a
                    bit       7,(ix-$04)                    ;[8609] dd cb fc 7e
                    call      nz,__printf_pickup_far        ;[860d] c4 45 81
                    call      __printf_doprint              ;[8610] cd 44 83
                    inc       bc                            ;[8613] 03
                    dec       de                            ;[8614] 1b
                    jr        print_buffer                  ;[8615] 18 ed
buffer_done:
                    ld        c,$20                         ;[8617] 0e 20
print_padding_loop:
                    ld        a,h                           ;[8619] 7c
                    or        l                             ;[861a] b5
                    ret       z                             ;[861b] c8
                    push      bc                            ;[861c] c5
                    ld        a,c                           ;[861d] 79
                    call      __printf_doprint              ;[861e] cd 44 83
                    pop       bc                            ;[8621] c1
                    dec       hl                            ;[8622] 2b
                    jr        print_padding                 ;[8623] 18 00
print_padding:
                    ld        c,$20                         ;[8625] 0e 20
                    bit       2,(ix-$04)                    ;[8627] dd cb fc 56
                    jr        z,print_padding_loop          ;[862b] 28 ec
                    ld        c,$30                         ;[862d] 0e 30
                    jr        print_padding_loop            ;[862f] 18 e8
__printf_print_the_buffer:
                    ld        d,$00                         ;[8631] 16 00
                    ld        e,(ix-$0a)                    ;[8633] dd 5e f6
                    call      __printf_get_buffer_address   ;[8636] cd d8 85
                    ld        c,l                           ;[8639] 4d
                    ld        b,h                           ;[863a] 44
                    call      __printf_print_aligned        ;[863b] cd e0 85
                    pop       de                            ;[863e] d1
                    pop       hl                            ;[863f] e1
                    jp        __printf_loop                 ;[8640] c3 de 82
__printf_print_to_buf:
                    push      hl                            ;[8643] e5
                    push      bc                            ;[8644] c5
                    call      __printf_get_buffer_address   ;[8645] cd d8 85
                    ld        c,(ix-$0a)                    ;[8648] dd 4e f6
                    ld        b,$00                         ;[864b] 06 00
                    add       hl,bc                         ;[864d] 09
                    inc       (ix-$0a)                      ;[864e] dd 34 f6
                    ld        (hl),a                        ;[8651] 77
                    pop       bc                            ;[8652] c1
                    pop       hl                            ;[8653] e1
                    ret                                     ;[8654] c9

get_16bit_ap_parameter:
                    ex        de,hl                         ;[8655] eb
                    ld        e,(hl)                        ;[8656] 5e
                    inc       hl                            ;[8657] 23
                    ld        d,(hl)                        ;[8658] 56
                    ex        de,hl                         ;[8659] eb
                    bit       0,(ix+$06)                    ;[865a] dd cb 06 46
                    jr        nz,change_ap_decrement        ;[865e] 20 02
                    inc       de                            ;[8660] 13
                    ret                                     ;[8661] c9

change_ap_decrement:
                    dec       de                            ;[8662] 1b
                    dec       de                            ;[8663] 1b
                    dec       de                            ;[8664] 1b
                    ret                                     ;[8665] c9

get_32bit_ap_parameter:
                    bit       0,(ix+$06)                    ;[8666] dd cb 06 46
                    jr        nz,pickuplong_sccz80          ;[866a] 20 0a
                    ex        de,hl                         ;[866c] eb
                    ld        a,(hl)                        ;[866d] 7e
                    inc       hl                            ;[866e] 23
                    ld        b,(hl)                        ;[866f] 46
                    inc       hl                            ;[8670] 23
                    ld        e,(hl)                        ;[8671] 5e
                    inc       hl                            ;[8672] 23
                    ld        d,(hl)                        ;[8673] 56
                    inc       hl                            ;[8674] 23
                    ret                                     ;[8675] c9

pickuplong_sccz80:
                    ex        de,hl                         ;[8676] eb
                    ld        e,(hl)                        ;[8677] 5e
                    inc       hl                            ;[8678] 23
                    ld        d,(hl)                        ;[8679] 56
                    dec       hl                            ;[867a] 2b
                    dec       hl                            ;[867b] 2b
                    ld        b,(hl)                        ;[867c] 46
                    dec       hl                            ;[867d] 2b
                    ld        a,(hl)                        ;[867e] 7e
                    dec       hl                            ;[867f] 2b
                    dec       hl                            ;[8680] 2b
                    ret                                     ;[8681] c9

_readbyte:
                    ret                                     ;[8682] c9

___writebyte:
                    ret                                     ;[8683] c9

asm_isspace:
                    cp        $20                           ;[8684] fe 20
                    ret       z                             ;[8686] c8
                    cp        $09                           ;[8687] fe 09
                    ret       c                             ;[8689] d8
                    cp        $0e                           ;[868a] fe 0e
                    ccf                                     ;[868c] 3f
                    ret                                     ;[868d] c9

                    exx                                     ;[868e] d9
l_divu_32_32x32:
                    ld        a,d                           ;[868f] 7a
                    or        e                             ;[8690] b3
                    or        h                             ;[8691] b4
                    or        l                             ;[8692] b5
                    jr        z,divide_zero                 ;[8693] 28 42
l0_divu_32_32x32:
                    xor       a                             ;[8695] af
                    push      hl                            ;[8696] e5
                    exx                                     ;[8697] d9
                    ld        b,h                           ;[8698] 44
                    ld        c,l                           ;[8699] 4d
                    pop       hl                            ;[869a] e1
                    push      de                            ;[869b] d5
                    ex        de,hl                         ;[869c] eb
                    ld        l,a                           ;[869d] 6f
                    ld        h,a                           ;[869e] 67
                    exx                                     ;[869f] d9
                    pop       bc                            ;[86a0] c1
                    ld        l,a                           ;[86a1] 6f
                    ld        h,a                           ;[86a2] 67
l1_small_divu_32_32x32:
                    ld        a,b                           ;[86a3] 78
                    ld        b,$20                         ;[86a4] 06 20
loop_0:
                    exx                                     ;[86a6] d9
                    rl        c                             ;[86a7] cb 11
                    rl        b                             ;[86a9] cb 10
                    exx                                     ;[86ab] d9
                    rl        c                             ;[86ac] cb 11
                    rla                                     ;[86ae] 17
                    exx                                     ;[86af] d9
                    adc       hl,hl                         ;[86b0] ed 6a
                    exx                                     ;[86b2] d9
                    adc       hl,hl                         ;[86b3] ed 6a
                    exx                                     ;[86b5] d9
                    sbc       hl,de                         ;[86b6] ed 52
                    exx                                     ;[86b8] d9
                    sbc       hl,de                         ;[86b9] ed 52
                    jr        nc,loop_1                     ;[86bb] 30 05
                    exx                                     ;[86bd] d9
                    add       hl,de                         ;[86be] 19
                    exx                                     ;[86bf] d9
                    adc       hl,de                         ;[86c0] ed 5a
loop_1:
                    ccf                                     ;[86c2] 3f
                    djnz      loop_0                        ;[86c3] 10 e1
                    exx                                     ;[86c5] d9
                    rl        c                             ;[86c6] cb 11
                    rl        b                             ;[86c8] cb 10
                    exx                                     ;[86ca] d9
                    rl        c                             ;[86cb] cb 11
                    rla                                     ;[86cd] 17
                    push      hl                            ;[86ce] e5
                    exx                                     ;[86cf] d9
                    pop       de                            ;[86d0] d1
                    push      bc                            ;[86d1] c5
                    exx                                     ;[86d2] d9
                    pop       hl                            ;[86d3] e1
                    ld        e,c                           ;[86d4] 59
                    ld        d,a                           ;[86d5] 57
                    ret                                     ;[86d6] c9

divide_zero:
                    dec       de                            ;[86d7] 1b
                    jp        error_divide_by_zero_mc       ;[86d8] c3 1a 87
l_divu_64_64x8:
                    ld        a,c                           ;[86db] 79
                    or        a                             ;[86dc] b7
                    jr        z,divide_by_zero              ;[86dd] 28 1c
l0_divu_64_64x8:
                    xor       a                             ;[86df] af
                    ld        b,$40                         ;[86e0] 06 40
loop_11:
                    add       hl,hl                         ;[86e2] 29
                    rl        e                             ;[86e3] cb 13
                    rl        d                             ;[86e5] cb 12
                    exx                                     ;[86e7] d9
                    adc       hl,hl                         ;[86e8] ed 6a
                    rl        e                             ;[86ea] cb 13
                    rl        d                             ;[86ec] cb 12
                    exx                                     ;[86ee] d9
                    rla                                     ;[86ef] 17
                    jr        c,loop_02                     ;[86f0] 38 03
                    cp        c                             ;[86f2] b9
                    jr        c,loop_03                     ;[86f3] 38 02
loop_02:
                    sub       c                             ;[86f5] 91
                    inc       l                             ;[86f6] 2c
loop_03:
                    djnz      loop_11                       ;[86f7] 10 e9
                    or        a                             ;[86f9] b7
                    ret                                     ;[86fa] c9

divide_by_zero:
                    call      error_llmc                    ;[86fb] cd 2d 87
                    jp        error_divide_by_zero_mc       ;[86fe] c3 1a 87
                    pop       hl                            ;[8701] e1
                    pop       hl                            ;[8702] e1
                    pop       hl                            ;[8703] e1
error_einval_zc:
                    ld        l,$ff                         ;[8704] 2e ff
errno_zc:
                    ld        h,$00                         ;[8706] 26 00
                    ld        (_errno),hl                   ;[8708] 22 e6 87
                    jp        error_zc                      ;[870b] c3 12 87
                    pop       hl                            ;[870e] e1
                    pop       hl                            ;[870f] e1
                    pop       hl                            ;[8710] e1
                    pop       hl                            ;[8711] e1
error_zc:
                    ld        hl,$0000                      ;[8712] 21 00 00
                    scf                                     ;[8715] 37
                    ret                                     ;[8716] c9

                    pop       hl                            ;[8717] e1
                    pop       hl                            ;[8718] e1
                    pop       hl                            ;[8719] e1
error_divide_by_zero_mc:
                    ld        l,$ff                         ;[871a] 2e ff
errno_mc:
                    ld        h,$00                         ;[871c] 26 00
                    ld        (_errno),hl                   ;[871e] 22 e6 87
                    jp        error_mc                      ;[8721] c3 27 87
                    pop       hl                            ;[8724] e1
                    pop       hl                            ;[8725] e1
                    pop       hl                            ;[8726] e1
error_mc:
                    ld        hl,$ffff                      ;[8727] 21 ff ff
                    scf                                     ;[872a] 37
                    ret                                     ;[872b] c9

                    pop       hl                            ;[872c] e1
error_llmc:
                    exx                                     ;[872d] d9
                    call      error_lmc                     ;[872e] cd 36 87
                    exx                                     ;[8731] d9
                    jp        error_lmc                     ;[8732] c3 36 87
                    pop       hl                            ;[8735] e1
error_lmc:
                    ld        de,$ffff                      ;[8736] 11 ff ff
                    jp        error_mc                      ;[8739] c3 27 87
asm_atoi:
                    call      l_eat_ws                      ;[873c] cd c1 80
asm0_atoi:
                    call      l_eat_sign                    ;[873f] cd b5 80
                    jr        nc,not_negative               ;[8742] 30 08
                    call      not_negative                  ;[8744] cd 4c 87
                    jp        nc,l_neg_hl                   ;[8747] d2 08 81
                    inc       hl                            ;[874a] 23
                    ret                                     ;[874b] c9

not_negative:
                    ex        de,hl                         ;[874c] eb
                    call      l_atou                        ;[874d] cd e0 80
                    jr        c,overflow_asm_atoi           ;[8750] 38 04
                    bit       7,h                           ;[8752] cb 7c
                    ret       z                             ;[8754] c8
                    scf                                     ;[8755] 37
overflow_asm_atoi:
                    ld        hl,$7fff                      ;[8756] 21 ff 7f
                    ret                                     ;[8759] c9

asm_ulltoa:
                    ld        a,ixh                         ;[875a] dd 7c
                    or        ixl                           ;[875c] dd b5
                    jp        z,error_zc                    ;[875e] ca 12 87
asm0_ulltoa:
                    call      l_valid_base                  ;[8761] cd d3 80
                    jp        nc,error_einval_zc            ;[8764] d2 04 87
asm1_ulltoa:
                    xor       a                             ;[8767] af
                    push      af                            ;[8768] f5
compute_lp:
                    push      bc                            ;[8769] c5
                    call      l0_divu_64_64x8               ;[876a] cd df 86
                    pop       bc                            ;[876d] c1
                    call      l_num2char                    ;[876e] cd c9 80
                    scf                                     ;[8771] 37
                    push      af                            ;[8772] f5
                    call      l_testzero_64_dehldehl        ;[8773] cd aa 80
                    jr        nz,compute_lp                 ;[8776] 20 f1
                    push      ix                            ;[8778] dd e5
                    pop       hl                            ;[877a] e1
write_lp:
                    pop       af                            ;[877b] f1
                    ld        (hl),a                        ;[877c] 77
                    inc       hl                            ;[877d] 23
                    jr        c,write_lp                    ;[877e] 38 fb
                    dec       hl                            ;[8780] 2b
                    ret                                     ;[8781] c9

asm_strlen:
                    xor       a                             ;[8782] af
                    ld        c,a                           ;[8783] 4f
                    ld        b,a                           ;[8784] 47
                    cpir                                    ;[8785] ed b1
                    ld        hl,$ffff                      ;[8787] 21 ff ff
                    sbc       hl,bc                         ;[878a] ed 42
                    ret                                     ;[878c] c9

i_1:
                    defb      $48                           ;[878d] 48
                    defb      $65                           ;[878e] 65
                    defb      $6c                           ;[878f] 6c
                    defb      $6c                           ;[8790] 6c
                    defb      $6f                           ;[8791] 6f
                    defb      $2c                           ;[8792] 2c
                    defb      $20                           ;[8793] 20
                    defb      $77                           ;[8794] 77
                    defb      $6f                           ;[8795] 6f
                    defb      $72                           ;[8796] 72
                    defb      $6c                           ;[8797] 6c
                    defb      $64                           ;[8798] 64
                    defb      $21                           ;[8799] 21
                    defb      $0a                           ;[879a] 0a
                    defb      $28                           ;[879b] 28
                    defb      $68                           ;[879c] 68
                    defb      $69                           ;[879d] 69
                    defb      $74                           ;[879e] 74
                    defb      $20                           ;[879f] 20
                    defb      $61                           ;[87a0] 61
                    defb      $6e                           ;[87a1] 6e
                    defb      $79                           ;[87a2] 79
                    defb      $20                           ;[87a3] 20
                    defb      $6b                           ;[87a4] 6b
                    defb      $65                           ;[87a5] 65
                    defb      $79                           ;[87a6] 79
                    defb      $29                           ;[87a7] 29
                    defb      $0a                           ;[87a8] 0a
                    defb      $00                           ;[87a9] 00
__printf_format_table:
                    defb      $73                           ;[87aa] 73
                    defb      $84                           ;[87ab] 84
                    defb      $84                           ;[87ac] 84
                    defb      $63                           ;[87ad] 63
                    defb      $12                           ;[87ae] 12
                    defb      $84                           ;[87af] 84
                    defb      $64                           ;[87b0] 64
                    defb      $1e                           ;[87b1] 1e
                    defb      $84                           ;[87b2] 84
                    defb      $75                           ;[87b3] 75
                    defb      $ac                           ;[87b4] ac
                    defb      $84                           ;[87b5] 84
                    defb      $78                           ;[87b6] 78
                    defb      $b1                           ;[87b7] b1
                    defb      $84                           ;[87b8] 84
                    defb      $6f                           ;[87b9] 6f
                    defb      $7b                           ;[87ba] 7b
                    defb      $84                           ;[87bb] 84
                    defb      $70                           ;[87bc] 70
                    defb      $b1                           ;[87bd] b1
                    defb      $84                           ;[87be] 84
                    defb      $58                           ;[87bf] 58
                    defb      $01                           ;[87c0] 01
                    defb      $84                           ;[87c1] 84
                    defb      $6e                           ;[87c2] 6e
                    defb      $6a                           ;[87c3] 6a
                    defb      $84                           ;[87c4] 84
                    defb      $42                           ;[87c5] 42
                    defb      $f4                           ;[87c6] f4
                    defb      $83                           ;[87c7] 83
                    defb      $6c                           ;[87c8] 6c
                    defb      $23                           ;[87c9] 23
                    defb      $84                           ;[87ca] 84
                    defb      $00                           ;[87cb] 00
__printf_format_table64:
                    defb      $64                           ;[87cc] 64
                    defb      $4a                           ;[87cd] 4a
                    defb      $84                           ;[87ce] 84
                    defb      $75                           ;[87cf] 75
                    defb      $58                           ;[87d0] 58
                    defb      $84                           ;[87d1] 84
                    defb      $78                           ;[87d2] 78
                    defb      $5d                           ;[87d3] 5d
                    defb      $84                           ;[87d4] 84
                    defb      $6f                           ;[87d5] 6f
                    defb      $4f                           ;[87d6] 4f
                    defb      $84                           ;[87d7] 84
                    defb      $58                           ;[87d8] 58
                    defb      $39                           ;[87d9] 39
                    defb      $84                           ;[87da] 84
                    defb      $42                           ;[87db] 42
                    defb      $2c                           ;[87dc] 2c
                    defb      $84                           ;[87dd] 84
                    defb      $00                           ;[87de] 00
nullstr:
                    defb      $28                           ;[87df] 28
                    defb      $6e                           ;[87e0] 6e
                    defb      $75                           ;[87e1] 75
                    defb      $6c                           ;[87e2] 6c
                    defb      $6c                           ;[87e3] 6c
                    defb      $29                           ;[87e4] 29
                    defb      $00                           ;[87e5] 00
_errno:
                    defb      $00                           ;[87e6] 00
                    defb      $00                           ;[87e7] 00
__sgoioblk:
                    defb      $00                           ;[87e8] 00
                    defb      $00                           ;[87e9] 00
                    defb      $00                           ;[87ea] 00
                    defb      $00                           ;[87eb] 00
                    defb      $00                           ;[87ec] 00
                    defb      $00                           ;[87ed] 00
                    defb      $00                           ;[87ee] 00
                    defb      $00                           ;[87ef] 00
                    defb      $00                           ;[87f0] 00
                    defb      $00                           ;[87f1] 00
                    defb      $00                           ;[87f2] 00
                    defb      $00                           ;[87f3] 00
                    defb      $00                           ;[87f4] 00
                    defb      $00                           ;[87f5] 00
                    defb      $00                           ;[87f6] 00
                    defb      $00                           ;[87f7] 00
                    defb      $00                           ;[87f8] 00
                    defb      $00                           ;[87f9] 00
                    defb      $00                           ;[87fa] 00
                    defb      $00                           ;[87fb] 00
                    defb      $00                           ;[87fc] 00
                    defb      $00                           ;[87fd] 00
                    defb      $00                           ;[87fe] 00
                    defb      $00                           ;[87ff] 00
                    defb      $00                           ;[8800] 00
                    defb      $00                           ;[8801] 00
                    defb      $00                           ;[8802] 00
                    defb      $00                           ;[8803] 00
                    defb      $00                           ;[8804] 00
                    defb      $00                           ;[8805] 00
                    defb      $00                           ;[8806] 00
                    defb      $00                           ;[8807] 00
                    defb      $00                           ;[8808] 00
                    defb      $00                           ;[8809] 00
                    defb      $00                           ;[880a] 00
                    defb      $00                           ;[880b] 00
                    defb      $00                           ;[880c] 00
                    defb      $00                           ;[880d] 00
                    defb      $00                           ;[880e] 00
                    defb      $00                           ;[880f] 00
                    defb      $00                           ;[8810] 00
                    defb      $00                           ;[8811] 00
                    defb      $00                           ;[8812] 00
                    defb      $00                           ;[8813] 00
                    defb      $00                           ;[8814] 00
                    defb      $00                           ;[8815] 00
                    defb      $00                           ;[8816] 00
                    defb      $00                           ;[8817] 00
                    defb      $00                           ;[8818] 00
                    defb      $00                           ;[8819] 00
                    defb      $00                           ;[881a] 00
                    defb      $00                           ;[881b] 00
                    defb      $00                           ;[881c] 00
                    defb      $00                           ;[881d] 00
                    defb      $00                           ;[881e] 00
                    defb      $00                           ;[881f] 00
                    defb      $00                           ;[8820] 00
                    defb      $00                           ;[8821] 00
                    defb      $00                           ;[8822] 00
                    defb      $00                           ;[8823] 00
                    defb      $00                           ;[8824] 00
                    defb      $00                           ;[8825] 00
                    defb      $00                           ;[8826] 00
                    defb      $00                           ;[8827] 00
                    defb      $00                           ;[8828] 00
                    defb      $00                           ;[8829] 00
                    defb      $00                           ;[882a] 00
                    defb      $00                           ;[882b] 00
                    defb      $00                           ;[882c] 00
                    defb      $00                           ;[882d] 00
                    defb      $00                           ;[882e] 00
                    defb      $00                           ;[882f] 00
                    defb      $00                           ;[8830] 00
                    defb      $00                           ;[8831] 00
                    defb      $00                           ;[8832] 00
                    defb      $00                           ;[8833] 00
                    defb      $00                           ;[8834] 00
                    defb      $00                           ;[8835] 00
                    defb      $00                           ;[8836] 00
                    defb      $00                           ;[8837] 00
                    defb      $00                           ;[8838] 00
                    defb      $00                           ;[8839] 00
                    defb      $00                           ;[883a] 00
                    defb      $00                           ;[883b] 00
                    defb      $00                           ;[883c] 00
                    defb      $00                           ;[883d] 00
                    defb      $00                           ;[883e] 00
                    defb      $00                           ;[883f] 00
                    defb      $00                           ;[8840] 00
                    defb      $00                           ;[8841] 00
                    defb      $00                           ;[8842] 00
                    defb      $00                           ;[8843] 00
                    defb      $00                           ;[8844] 00
                    defb      $00                           ;[8845] 00
                    defb      $00                           ;[8846] 00
                    defb      $00                           ;[8847] 00
                    defb      $00                           ;[8848] 00
                    defb      $00                           ;[8849] 00
                    defb      $00                           ;[884a] 00
                    defb      $00                           ;[884b] 00
__sgoioblk_end:
                    defb      $00                           ;[884c] 00
                    defb      $00                           ;[884d] 00
__exit_atexit_count:
                    defb      $00                           ;[884e] 00
__exit_atexit_funcs:
                    defb      $00                           ;[884f] 00
                    defb      $00                           ;[8850] 00
                    defb      $00                           ;[8851] 00
