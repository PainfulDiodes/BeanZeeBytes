start:
                    call      crt0_init                     ;[8000] cd 2c 80
                    ld        hl,$ffc0                      ;[8003] 21 c0 ff
                    add       hl,sp                         ;[8006] 39
                    ld        sp,hl                         ;[8007] f9
                    ld        (__exit_atexit_funcs),hl      ;[8008] 22 53 88
                    call      _main                         ;[800b] cd 50 81
__Exit:
                    call      crt0_exit                     ;[800e] cd 49 80
                    jp        WARMSTART                     ;[8011] c3 10 00
l_dcal:
                    jp        (hl)                          ;[8014] e9
_fputc_cons:
                    pop       bc                            ;[8015] c1
                    pop       hl                            ;[8016] e1
                    push      hl                            ;[8017] e5
                    push      bc                            ;[8018] c5
                    ld        a,l                           ;[8019] 7d
                    call      putchar_beanzee               ;[801a] cd 2f 00
                    ret                                     ;[801d] c9

_fgetc_cons:
                    call      getchar_beanzee               ;[801e] cd 23 00
                    ld        l,a                           ;[8021] 6f
                    ld        h,$00                         ;[8022] 26 00
                    ret                                     ;[8024] c9

_marvin_readchar:
                    call      readchar_beanzee              ;[8025] cd 2b 00
                    ld        h,$00                         ;[8028] 26 00
                    ld        l,a                           ;[802a] 6f
                    ret                                     ;[802b] c9

crt0_init:
                    xor       a                             ;[802c] af
                    ld        hl,$87ea                      ;[802d] 21 ea 87
                    ld        bc,$006a                      ;[8030] 01 6a 00
                    ld        de,$87eb                      ;[8033] 11 eb 87
                    ld        (hl),a                        ;[8036] 77
                    ldir                                    ;[8037] ed b0
                    ld        hl,$87ee                      ;[8039] 21 ee 87
                    ld        (hl),$12                      ;[803c] 36 12
                    ld        hl,$87f8                      ;[803e] 21 f8 87
                    ld        (hl),$14                      ;[8041] 36 14
                    ld        hl,$8802                      ;[8043] 21 02 88
                    ld        (hl),$14                      ;[8046] 36 14
                    ret                                     ;[8048] c9

crt0_exit:
                    ret                                     ;[8049] c9

l_long_neg:
                    ld        a,l                           ;[804a] 7d
                    cpl                                     ;[804b] 2f
                    ld        l,a                           ;[804c] 6f
                    ld        a,h                           ;[804d] 7c
                    cpl                                     ;[804e] 2f
                    ld        h,a                           ;[804f] 67
                    ld        a,e                           ;[8050] 7b
                    cpl                                     ;[8051] 2f
                    ld        e,a                           ;[8052] 5f
                    ld        a,d                           ;[8053] 7a
                    cpl                                     ;[8054] 2f
                    ld        d,a                           ;[8055] 57
                    inc       l                             ;[8056] 2c
                    ret       nz                            ;[8057] c0
                    inc       h                             ;[8058] 24
                    ret       nz                            ;[8059] c0
                    inc       de                            ;[805a] 13
                    ret                                     ;[805b] c9

l_load_64_dehldehl_mbc:
                    call      again_l_load_64_dehldehl_mbc  ;[805c] cd 5f 80
again_l_load_64_dehldehl_mbc:
                    ld        a,(bc)                        ;[805f] 0a
                    inc       bc                            ;[8060] 03
                    ld        l,a                           ;[8061] 6f
                    ld        a,(bc)                        ;[8062] 0a
                    inc       bc                            ;[8063] 03
                    ld        h,a                           ;[8064] 67
                    ld        a,(bc)                        ;[8065] 0a
                    inc       bc                            ;[8066] 03
                    ld        e,a                           ;[8067] 5f
                    ld        a,(bc)                        ;[8068] 0a
                    inc       bc                            ;[8069] 03
                    ld        d,a                           ;[806a] 57
                    push      bc                            ;[806b] c5
                    exx                                     ;[806c] d9
                    pop       bc                            ;[806d] c1
                    ret                                     ;[806e] c9

l_neg_64_mhl:
                    push      hl                            ;[806f] e5
                    call      l_cpl_64_mhl                  ;[8070] cd 8b 80
                    pop       hl                            ;[8073] e1
                    inc       (hl)                          ;[8074] 34
                    ret       nz                            ;[8075] c0
                    inc       hl                            ;[8076] 23
                    inc       (hl)                          ;[8077] 34
                    ret       nz                            ;[8078] c0
                    inc       hl                            ;[8079] 23
                    inc       (hl)                          ;[807a] 34
                    ret       nz                            ;[807b] c0
                    inc       hl                            ;[807c] 23
                    inc       (hl)                          ;[807d] 34
                    ret       nz                            ;[807e] c0
                    inc       hl                            ;[807f] 23
                    inc       (hl)                          ;[8080] 34
                    ret       nz                            ;[8081] c0
                    inc       hl                            ;[8082] 23
                    inc       (hl)                          ;[8083] 34
                    ret       nz                            ;[8084] c0
                    inc       hl                            ;[8085] 23
                    inc       (hl)                          ;[8086] 34
                    ret       nz                            ;[8087] c0
                    inc       hl                            ;[8088] 23
                    inc       (hl)                          ;[8089] 34
                    ret                                     ;[808a] c9

l_cpl_64_mhl:
                    call      again_l_cpl_64_mhl            ;[808b] cd 8e 80
again_l_cpl_64_mhl:
                    ld        a,(hl)                        ;[808e] 7e
                    cpl                                     ;[808f] 2f
                    ld        (hl),a                        ;[8090] 77
                    inc       hl                            ;[8091] 23
                    ld        a,(hl)                        ;[8092] 7e
                    cpl                                     ;[8093] 2f
                    ld        (hl),a                        ;[8094] 77
                    inc       hl                            ;[8095] 23
                    ld        a,(hl)                        ;[8096] 7e
                    cpl                                     ;[8097] 2f
                    ld        (hl),a                        ;[8098] 77
                    inc       hl                            ;[8099] 23
                    ld        a,(hl)                        ;[809a] 7e
                    cpl                                     ;[809b] 2f
                    ld        (hl),a                        ;[809c] 77
                    inc       hl                            ;[809d] 23
                    ret                                     ;[809e] c9

l_testzero_64_dehldehl:
                    exx                                     ;[809f] d9
                    ld        a,d                           ;[80a0] 7a
                    or        e                             ;[80a1] b3
                    or        h                             ;[80a2] b4
                    or        l                             ;[80a3] b5
                    exx                                     ;[80a4] d9
                    or        d                             ;[80a5] b2
                    or        e                             ;[80a6] b3
                    or        h                             ;[80a7] b4
                    or        l                             ;[80a8] b5
                    ret                                     ;[80a9] c9

l_eat_sign:
                    ld        a,(hl)                        ;[80aa] 7e
                    inc       hl                            ;[80ab] 23
                    cp        $2b                           ;[80ac] fe 2b
                    ret       z                             ;[80ae] c8
                    cp        $2d                           ;[80af] fe 2d
                    scf                                     ;[80b1] 37
                    ret       z                             ;[80b2] c8
                    dec       hl                            ;[80b3] 2b
                    or        a                             ;[80b4] b7
                    ret                                     ;[80b5] c9

l_eat_ws:
                    ld        a,(hl)                        ;[80b6] 7e
                    call      asm_isspace                   ;[80b7] cd 88 86
                    ret       c                             ;[80ba] d8
                    inc       hl                            ;[80bb] 23
                    jr        l_eat_ws                      ;[80bc] 18 f8
l_num2char:
                    cp        $0a                           ;[80be] fe 0a
                    jr        nc,alpha                      ;[80c0] 30 03
                    add       $30                           ;[80c2] c6 30
                    ret                                     ;[80c4] c9

alpha:
                    add       $37                           ;[80c5] c6 37
                    ret                                     ;[80c7] c9

l_valid_base:
                    ld        a,b                           ;[80c8] 78
                    or        a                             ;[80c9] b7
                    ret       nz                            ;[80ca] c0
                    or        c                             ;[80cb] b1
                    ret       z                             ;[80cc] c8
                    ld        a,c                           ;[80cd] 79
                    cp        $25                           ;[80ce] fe 25
                    ret       nc                            ;[80d0] d0
                    cp        $02                           ;[80d1] fe 02
                    ccf                                     ;[80d3] 3f
                    ret                                     ;[80d4] c9

l_atou:
                    ld        hl,$0000                      ;[80d5] 21 00 00
                    dec       de                            ;[80d8] 1b
                    push      hl                            ;[80d9] e5
loop:
                    pop       af                            ;[80da] f1
                    inc       de                            ;[80db] 13
                    ld        a,(de)                        ;[80dc] 1a
                    sub       $30                           ;[80dd] d6 30
                    ccf                                     ;[80df] 3f
                    ret       nc                            ;[80e0] d0
                    cp        $0a                           ;[80e1] fe 0a
                    ret       nc                            ;[80e3] d0
                    push      hl                            ;[80e4] e5
                    add       hl,hl                         ;[80e5] 29
                    jr        c,overflow_l_small_atou       ;[80e6] 38 12
                    ld        c,l                           ;[80e8] 4d
                    ld        b,h                           ;[80e9] 44
                    add       hl,hl                         ;[80ea] 29
                    jr        c,overflow_l_small_atou       ;[80eb] 38 0d
                    add       hl,hl                         ;[80ed] 29
                    jr        c,overflow_l_small_atou       ;[80ee] 38 0a
                    add       hl,bc                         ;[80f0] 09
                    jr        c,overflow_l_small_atou       ;[80f1] 38 07
                    add       l                             ;[80f3] 85
                    ld        l,a                           ;[80f4] 6f
                    jr        nc,loop                       ;[80f5] 30 e3
                    inc       h                             ;[80f7] 24
                    jr        nz,loop                       ;[80f8] 20 e0
overflow_l_small_atou:
                    pop       hl                            ;[80fa] e1
                    scf                                     ;[80fb] 37
                    ret                                     ;[80fc] c9

l_neg_hl:
                    ld        a,l                           ;[80fd] 7d
                    cpl                                     ;[80fe] 2f
                    ld        l,a                           ;[80ff] 6f
                    ld        a,h                           ;[8100] 7c
                    cpl                                     ;[8101] 2f
                    ld        h,a                           ;[8102] 67
                    inc       hl                            ;[8103] 23
                    ret                                     ;[8104] c9

l_long_mod_u:
                    and       a                             ;[8105] a7
                    jr        common                        ;[8106] 18 01
l_long_div_u:
                    scf                                     ;[8108] 37
common:
                    exx                                     ;[8109] d9
                    pop       bc                            ;[810a] c1
                    pop       hl                            ;[810b] e1
                    pop       de                            ;[810c] d1
                    push      bc                            ;[810d] c5
                    jp        c,$8692                       ;[810e] da 92 86
                    call      $8692                         ;[8111] cd 92 86
                    exx                                     ;[8114] d9
                    ret                                     ;[8115] c9

l_int2long_s:
                    ld        de,$0000                      ;[8116] 11 00 00
                    bit       7,h                           ;[8119] cb 7c
                    ret       z                             ;[811b] c8
                    dec       de                            ;[811c] 1b
                    ret                                     ;[811d] c9

l_ge:
                    ld        a,h                           ;[811e] 7c
                    add       $80                           ;[811f] c6 80
                    ld        b,a                           ;[8121] 47
                    ld        a,d                           ;[8122] 7a
                    add       $80                           ;[8123] c6 80
                    cp        b                             ;[8125] b8
                    ccf                                     ;[8126] 3f
                    jp        nz,l_compare_result           ;[8127] c2 30 81
                    ld        a,e                           ;[812a] 7b
                    cp        l                             ;[812b] bd
                    ccf                                     ;[812c] 3f
                    jp        l_compare_result              ;[812d] c3 30 81
l_compare_result:
                    ld        hl,$0000                      ;[8130] 21 00 00
                    ret       nc                            ;[8133] d0
                    inc       hl                            ;[8134] 23
                    ret                                     ;[8135] c9

l_jphl:
                    jp        (hl)                          ;[8136] e9
                    pop       hl                            ;[8137] e1
                    pop       hl                            ;[8138] e1
                    pop       hl                            ;[8139] e1
__printf_pickup_far:
                    ret                                     ;[813a] c9

l_gchar3:
                    inc       hl                            ;[813b] 23
l_gchar2:
                    inc       hl                            ;[813c] 23
l_gchar1:
                    inc       hl                            ;[813d] 23
l_gchar:
                    ld        a,(hl)                        ;[813e] 7e
l_gchar_sxt:
                    ld        l,a                           ;[813f] 6f
                    rlca                                    ;[8140] 07
                    sbc       a                             ;[8141] 9f
                    ld        h,a                           ;[8142] 67
                    ret                                     ;[8143] c9

l_uge:
                    ld        a,d                           ;[8144] 7a
                    cp        h                             ;[8145] bc
                    ccf                                     ;[8146] 3f
                    jp        nz,l_compare_result           ;[8147] c2 30 81
                    ld        a,e                           ;[814a] 7b
                    cp        l                             ;[814b] bd
                    ccf                                     ;[814c] 3f
                    jp        l_compare_result              ;[814d] c3 30 81
_main:
                    ld        hl,$8791                      ;[8150] 21 91 87
                    push      hl                            ;[8153] e5
                    ld        a,$01                         ;[8154] 3e 01
                    call      printf                        ;[8156] cd 92 82
                    pop       bc                            ;[8159] c1
                    ld        hl,$87ec                      ;[815a] 21 ec 87
                    push      hl                            ;[815d] e5
                    call      ___fgetc                      ;[815e] cd 6d 81
                    pop       bc                            ;[8161] c1
                    ld        a,l                           ;[8162] 7d
                    call      l_gchar_sxt                   ;[8163] cd 3f 81
                    dec       sp                            ;[8166] 3b
                    ld        a,l                           ;[8167] 7d
                    pop       hl                            ;[8168] e1
                    ld        l,a                           ;[8169] 6f
                    push      hl                            ;[816a] e5
                    inc       sp                            ;[816b] 33
                    ret                                     ;[816c] c9

___fgetc:
                    pop       bc                            ;[816d] c1
                    pop       hl                            ;[816e] e1
                    push      hl                            ;[816f] e5
                    push      bc                            ;[8170] c5
                    push      ix                            ;[8171] dd e5
                    push      hl                            ;[8173] e5
                    pop       ix                            ;[8174] dd e1
                    ld        a,(ix+$02)                    ;[8176] dd 7e 02
                    and       a                             ;[8179] a7
                    jp        z,is_eof                      ;[817a] ca f7 81
                    bit       3,a                           ;[817d] cb 5f
                    jp        nz,is_eof                     ;[817f] c2 f7 81
                    bit       0,a                           ;[8182] cb 47
                    jr        z,no_ungetc                   ;[8184] 28 0c
                    res       0,(ix+$02)                    ;[8186] dd cb 02 86
                    ld        l,(ix+$03)                    ;[818a] dd 6e 03
                    ld        h,$00                         ;[818d] 26 00
                    jp        fgetc_end                     ;[818f] c3 02 82
no_ungetc:
                    bit       7,a                           ;[8192] cb 7f
                    jr        z,no_string_stdio_fgetc_c     ;[8194] 28 28
                    ld        l,(ix+$04)                    ;[8196] dd 6e 04
                    ld        h,(ix+$05)                    ;[8199] dd 66 05
                    ld        a,h                           ;[819c] 7c
                    or        l                             ;[819d] b5
                    jp        z,is_eof                      ;[819e] ca f7 81
                    dec       hl                            ;[81a1] 2b
                    ld        (ix+$04),l                    ;[81a2] dd 75 04
                    ld        (ix+$05),h                    ;[81a5] dd 74 05
                    ld        l,(ix+$00)                    ;[81a8] dd 6e 00
                    ld        h,(ix+$01)                    ;[81ab] dd 66 01
                    ld        a,(hl)                        ;[81ae] 7e
                    inc       hl                            ;[81af] 23
                    ld        (ix+$00),l                    ;[81b0] dd 75 00
                    ld        (ix+$01),h                    ;[81b3] dd 74 01
                    and       a                             ;[81b6] a7
                    jr        z,is_eof                      ;[81b7] 28 3e
                    ld        l,a                           ;[81b9] 6f
                    ld        h,$00                         ;[81ba] 26 00
                    jr        fgetc_end                     ;[81bc] 18 44
no_string_stdio_fgetc_c:
                    bit       5,a                           ;[81be] cb 6f
                    and       $20                           ;[81c0] e6 20
                    jr        z,not_extra_fp                ;[81c2] 28 0f
                    ld        l,(ix+$04)                    ;[81c4] dd 6e 04
                    ld        h,(ix+$05)                    ;[81c7] dd 66 05
                    ld        a,$01                         ;[81ca] 3e 01
                    call      l_jphl                        ;[81cc] cd 36 81
                    jr        nc,fgetc_end                  ;[81cf] 30 31
                    jr        seteof                        ;[81d1] 18 27
not_extra_fp:
                    push      ix                            ;[81d3] dd e5
                    call      ___fchkstd                    ;[81d5] cd 05 82
                    pop       ix                            ;[81d8] dd e1
                    jr        c,no_stdin                    ;[81da] 38 0a
                    call      _fgetc_cons                   ;[81dc] cd 1e 80
                    push      hl                            ;[81df] e5
                    call      _fputc_cons                   ;[81e0] cd 15 80
                    pop       hl                            ;[81e3] e1
                    jr        fgetc_end                     ;[81e4] 18 1c
no_stdin:
                    ld        l,(ix+$00)                    ;[81e6] dd 6e 00
                    ld        h,(ix+$01)                    ;[81e9] dd 66 01
                    push      ix                            ;[81ec] dd e5
                    call      _readbyte                     ;[81ee] cd 86 86
                    pop       ix                            ;[81f1] dd e1
                    ld        a,h                           ;[81f3] 7c
                    inc       a                             ;[81f4] 3c
                    jr        nz,fgetc_end                  ;[81f5] 20 0b
is_eof:
                    ld        hl,$ffff                      ;[81f7] 21 ff ff
seteof:
                    ld        a,(ix+$02)                    ;[81fa] dd 7e 02
                    or        $08                           ;[81fd] f6 08
                    ld        (ix+$02),a                    ;[81ff] dd 77 02
fgetc_end:
                    pop       ix                            ;[8202] dd e1
                    ret                                     ;[8204] c9

___fchkstd:
                    pop       hl                            ;[8205] e1
                    pop       de                            ;[8206] d1
                    push      de                            ;[8207] d5
                    push      hl                            ;[8208] e5
                    ld        hl,$0000                      ;[8209] 21 00 00
                    inc       de                            ;[820c] 13
                    inc       de                            ;[820d] 13
                    ld        a,(de)                        ;[820e] 1a
                    and       $10                           ;[820f] e6 10
                    scf                                     ;[8211] 37
                    ret       z                             ;[8212] c8
                    dec       hl                            ;[8213] 2b
                    ld        a,(de)                        ;[8214] 1a
                    and       $02                           ;[8215] e6 02
                    ret       nz                            ;[8217] c0
                    inc       hl                            ;[8218] 23
                    inc       hl                            ;[8219] 23
                    and       a                             ;[821a] a7
                    ret                                     ;[821b] c9

_fputc_callee:
                    pop       de                            ;[821c] d1
                    pop       hl                            ;[821d] e1
                    pop       bc                            ;[821e] c1
                    push      de                            ;[821f] d5
                    push      ix                            ;[8220] dd e5
                    push      hl                            ;[8222] e5
                    pop       ix                            ;[8223] dd e1
                    call      asm_fputc_callee              ;[8225] cd 2b 82
                    pop       ix                            ;[8228] dd e1
                    ret                                     ;[822a] c9

asm_fputc_callee:
                    ld        hl,$ffff                      ;[822b] 21 ff ff
                    ld        a,(ix+$02)                    ;[822e] dd 7e 02
                    and       a                             ;[8231] a7
                    ret       z                             ;[8232] c8
                    ld        a,(ix+$02)                    ;[8233] dd 7e 02
                    and       $80                           ;[8236] e6 80
                    jr        z,no_string_stdio_fputc_callee_c;[8238] 28 26
                    ld        e,(ix+$04)                    ;[823a] dd 5e 04
                    ld        d,(ix+$05)                    ;[823d] dd 56 05
                    ld        a,d                           ;[8240] 7a
                    or        e                             ;[8241] b3
                    jr        nz,print_char_to_buf          ;[8242] 20 03
                    ex        de,hl                         ;[8244] eb
                    dec       hl                            ;[8245] 2b
                    ret                                     ;[8246] c9

print_char_to_buf:
                    dec       de                            ;[8247] 1b
                    ld        (ix+$04),e                    ;[8248] dd 73 04
                    ld        (ix+$05),d                    ;[824b] dd 72 05
                    ld        l,(ix+$00)                    ;[824e] dd 6e 00
                    ld        h,(ix+$01)                    ;[8251] dd 66 01
                    ld        (hl),c                        ;[8254] 71
                    inc       hl                            ;[8255] 23
                    ld        (ix+$00),l                    ;[8256] dd 75 00
                    ld        (ix+$01),h                    ;[8259] dd 74 01
                    ld        l,c                           ;[825c] 69
                    ld        h,$00                         ;[825d] 26 00
                    ret                                     ;[825f] c9

no_string_stdio_fputc_callee_c:
                    ld        a,(ix+$02)                    ;[8260] dd 7e 02
                    and       $20                           ;[8263] e6 20
                    jr        z,no_net                      ;[8265] 28 0e
                    ld        l,(ix+$04)                    ;[8267] dd 6e 04
                    ld        h,(ix+$05)                    ;[826a] dd 66 05
                    ld        a,$02                         ;[826d] 3e 02
                    push      bc                            ;[826f] c5
                    call      l_jphl                        ;[8270] cd 36 81
                    pop       hl                            ;[8273] e1
                    ret                                     ;[8274] c9

no_net:
                    push      ix                            ;[8275] dd e5
                    call      ___fchkstd                    ;[8277] cd 05 82
                    pop       ix                            ;[827a] dd e1
                    jr        c,no_cons                     ;[827c] 38 06
                    push      bc                            ;[827e] c5
                    call      _fputc_cons                   ;[827f] cd 15 80
                    pop       hl                            ;[8282] e1
                    ret                                     ;[8283] c9

no_cons:
                    ld        l,(ix+$00)                    ;[8284] dd 6e 00
                    ld        h,(ix+$01)                    ;[8287] dd 66 01
                    push      hl                            ;[828a] e5
                    push      bc                            ;[828b] c5
                    call      ___writebyte                  ;[828c] cd 87 86
                    pop       hl                            ;[828f] e1
                    pop       bc                            ;[8290] c1
                    ret                                     ;[8291] c9

printf:
                    ld        l,a                           ;[8292] 6f
                    ld        h,$00                         ;[8293] 26 00
                    add       hl,hl                         ;[8295] 29
                    add       hl,sp                         ;[8296] 39
                    push      ix                            ;[8297] dd e5
                    ld        bc,$87f6                      ;[8299] 01 f6 87
                    push      bc                            ;[829c] c5
                    ld        bc,$821c                      ;[829d] 01 1c 82
                    push      bc                            ;[82a0] c5
                    ld        bc,$0001                      ;[82a1] 01 01 00
                    push      bc                            ;[82a4] c5
                    ld        e,(hl)                        ;[82a5] 5e
                    inc       hl                            ;[82a6] 23
                    ld        d,(hl)                        ;[82a7] 56
                    push      de                            ;[82a8] d5
                    dec       hl                            ;[82a9] 2b
                    dec       hl                            ;[82aa] 2b
                    dec       hl                            ;[82ab] 2b
                    push      hl                            ;[82ac] e5
                    call      asm_printf                    ;[82ad] cd b8 82
                    pop       bc                            ;[82b0] c1
                    pop       bc                            ;[82b1] c1
                    pop       bc                            ;[82b2] c1
                    pop       bc                            ;[82b3] c1
                    pop       bc                            ;[82b4] c1
                    pop       ix                            ;[82b5] dd e1
                    ret                                     ;[82b7] c9

asm_printf:
                    ld        ix,$0000                      ;[82b8] dd 21 00 00
                    add       ix,sp                         ;[82bc] dd 39
                    ld        hl,$ffb0                      ;[82be] 21 b0 ff
                    add       hl,sp                         ;[82c1] 39
                    ld        sp,hl                         ;[82c2] f9
                    ld        e,(ix+$02)                    ;[82c3] dd 5e 02
                    ld        d,(ix+$03)                    ;[82c6] dd 56 03
                    ld        l,(ix+$04)                    ;[82c9] dd 6e 04
                    ld        h,(ix+$05)                    ;[82cc] dd 66 05
                    xor       a                             ;[82cf] af
                    ld        (ix-$01),a                    ;[82d0] dd 77 ff
                    ld        (ix-$02),a                    ;[82d3] dd 77 fe
                    dec       a                             ;[82d6] 3d
                    ld        (ix-$05),a                    ;[82d7] dd 77 fb
                    ld        (ix-$06),a                    ;[82da] dd 77 fa
                    ld        (ix-$07),a                    ;[82dd] dd 77 f9
                    ld        (ix-$08),a                    ;[82e0] dd 77 f8
__printf_loop:
                    ld        (ix-$09),$0a                  ;[82e3] dd 36 f7 0a
                    xor       a                             ;[82e7] af
                    ld        (ix-$03),a                    ;[82e8] dd 77 fd
                    ld        (ix-$04),a                    ;[82eb] dd 77 fc
                    ld        (ix-$0a),a                    ;[82ee] dd 77 f6
                    ld        a,(hl)                        ;[82f1] 7e
                    inc       hl                            ;[82f2] 23
                    and       a                             ;[82f3] a7
                    jr        nz,cont                       ;[82f4] 20 07
                    ld        hl,$004e                      ;[82f6] 21 4e 00
                    add       hl,sp                         ;[82f9] 39
                    ld        sp,hl                         ;[82fa] f9
                    pop       hl                            ;[82fb] e1
__printf_get_flags_noop:
                    ret                                     ;[82fc] c9

cont:
                    cp        $25                           ;[82fd] fe 25
                    jr        z,handle_percent              ;[82ff] 28 05
print_format_character:
                    call      __printf_doprint              ;[8301] cd 49 83
                    jr        __printf_loop                 ;[8304] 18 dd
handle_percent:
                    ld        a,(hl)                        ;[8306] 7e
                    inc       hl                            ;[8307] 23
                    cp        $25                           ;[8308] fe 25
                    jr        z,print_format_character      ;[830a] 28 f5
                    call      __printf_get_flags            ;[830c] cd 80 83
                    res       6,(ix-$04)                    ;[830f] dd cb fc b6
                    cp        $7a                           ;[8313] fe 7a
                    jr        z,get_next_char               ;[8315] 28 14
                    cp        $68                           ;[8317] fe 68
                    jr        nz,check_long_qualifier       ;[8319] 20 08
                    ld        a,(hl)                        ;[831b] 7e
                    inc       hl                            ;[831c] 23
                    cp        $68                           ;[831d] fe 68
                    jr        nz,no_long_qualifier          ;[831f] 20 0c
                    jr        get_next_char                 ;[8321] 18 08
check_long_qualifier:
                    cp        $6c                           ;[8323] fe 6c
                    jr        nz,no_long_qualifier          ;[8325] 20 06
                    set       6,(ix-$04)                    ;[8327] dd cb fc f6
get_next_char:
                    ld        a,(hl)                        ;[832b] 7e
                    inc       hl                            ;[832c] 23
no_long_qualifier:
                    push      hl                            ;[832d] e5
                    ld        hl,$87ae                      ;[832e] 21 ae 87
                    ld        c,a                           ;[8331] 4f
__printf_format_search_loop:
                    ld        a,(hl)                        ;[8332] 7e
                    and       a                             ;[8333] a7
                    jr        z,no_format_found             ;[8334] 28 0f
                    cp        c                             ;[8336] b9
                    jr        nz,no_format_match            ;[8337] 20 07
                    inc       hl                            ;[8339] 23
                    ld        c,(hl)                        ;[833a] 4e
                    inc       hl                            ;[833b] 23
                    ld        b,(hl)                        ;[833c] 46
                    pop       hl                            ;[833d] e1
                    push      bc                            ;[833e] c5
                    ret                                     ;[833f] c9

no_format_match:
                    inc       hl                            ;[8340] 23
                    inc       hl                            ;[8341] 23
                    inc       hl                            ;[8342] 23
                    jr        __printf_format_search_loop   ;[8343] 18 ed
no_format_found:
                    pop       hl                            ;[8345] e1
                    ld        a,c                           ;[8346] 79
                    jr        print_format_character        ;[8347] 18 b8
__printf_doprint:
                    push      hl                            ;[8349] e5
                    push      de                            ;[834a] d5
                    push      bc                            ;[834b] c5
                    push      ix                            ;[834c] dd e5
                    exx                                     ;[834e] d9
                    push      bc                            ;[834f] c5
                    push      de                            ;[8350] d5
                    exx                                     ;[8351] d9
                    ex        af,af'                        ;[8352] 08
                    push      af                            ;[8353] f5
                    ex        af,af'                        ;[8354] 08
                    inc       (ix-$02)                      ;[8355] dd 34 fe
                    jr        nz,no_inc                     ;[8358] 20 03
                    inc       (ix-$01)                      ;[835a] dd 34 ff
no_inc:
                    ld        c,a                           ;[835d] 4f
                    ld        b,$00                         ;[835e] 06 00
                    push      bc                            ;[8360] c5
                    ld        c,(ix+$0a)                    ;[8361] dd 4e 0a
                    ld        b,(ix+$0b)                    ;[8364] dd 46 0b
                    push      bc                            ;[8367] c5
                    ld        bc,$8373                      ;[8368] 01 73 83
                    push      bc                            ;[836b] c5
                    ld        l,(ix+$08)                    ;[836c] dd 6e 08
                    ld        h,(ix+$09)                    ;[836f] dd 66 09
                    jp        (hl)                          ;[8372] e9
doprint_return:
                    ex        af,af'                        ;[8373] 08
                    pop       af                            ;[8374] f1
                    ex        af,af'                        ;[8375] 08
                    exx                                     ;[8376] d9
                    pop       de                            ;[8377] d1
                    pop       bc                            ;[8378] c1
                    exx                                     ;[8379] d9
                    pop       ix                            ;[837a] dd e1
                    pop       bc                            ;[837c] c1
                    pop       de                            ;[837d] d1
                    pop       hl                            ;[837e] e1
                    ret                                     ;[837f] c9

__printf_get_flags:
                    ld        c,$00                         ;[8380] 0e 00
flags_again:
                    push      hl                            ;[8382] e5
                    ld        b,$05                         ;[8383] 06 05
                    ld        hl,$8394                      ;[8385] 21 94 83
flag_loop:
                    cp        (hl)                          ;[8388] be
                    inc       hl                            ;[8389] 23
                    jr        nz,no_flag                    ;[838a] 20 12
                    ld        a,(hl)                        ;[838c] 7e
                    or        c                             ;[838d] b1
                    ld        c,a                           ;[838e] 4f
                    pop       hl                            ;[838f] e1
                    ld        a,(hl)                        ;[8390] 7e
                    inc       hl                            ;[8391] 23
                    jr        flags_again                   ;[8392] 18 ee
flags:
                    dec       l                             ;[8394] 2d
                    ld        bc,$022b                      ;[8395] 01 2b 02
                    jr        nz,$83a2                      ;[8398] 20 08
                    inc       hl                            ;[839a] 23
                    djnz      $83cd                         ;[839b] 10 30
                    inc       b                             ;[839d] 04
no_flag:
                    inc       hl                            ;[839e] 23
                    djnz      flag_loop                     ;[839f] 10 e7
                    pop       hl                            ;[83a1] e1
                    ld        (ix-$04),c                    ;[83a2] dd 71 fc
check_width:
                    ld        (ix-$05),$00                  ;[83a5] dd 36 fb 00
                    ld        (ix-$06),$00                  ;[83a9] dd 36 fa 00
                    cp        $2a                           ;[83ad] fe 2a
                    jr        nz,check_width_from_format    ;[83af] 20 08
starred_width:
                    push      hl                            ;[83b1] e5
                    call      get_16bit_ap_parameter        ;[83b2] cd 59 86
                    ex        de,hl                         ;[83b5] eb
                    ex        (sp),hl                       ;[83b6] e3
                    jr        save_width                    ;[83b7] 18 0e
check_width_from_format:
                    cp        $30                           ;[83b9] fe 30
                    jr        c,check_precision             ;[83bb] 38 13
                    cp        $3a                           ;[83bd] fe 3a
                    jr        nc,check_precision            ;[83bf] 30 0f
                    push      de                            ;[83c1] d5
                    dec       hl                            ;[83c2] 2b
                    call      asm_atoi                      ;[83c3] cd 40 87
                    ex        de,hl                         ;[83c6] eb
save_width:
                    ld        (ix-$05),d                    ;[83c7] dd 72 fb
                    ld        (ix-$06),e                    ;[83ca] dd 73 fa
                    pop       de                            ;[83cd] d1
                    ld        a,(hl)                        ;[83ce] 7e
                    inc       hl                            ;[83cf] 23
check_precision:
                    ld        (ix-$07),$ff                  ;[83d0] dd 36 f9 ff
                    ld        (ix-$08),$ff                  ;[83d4] dd 36 f8 ff
                    cp        $2e                           ;[83d8] fe 2e
                    jr        nz,no_precision               ;[83da] 20 1c
                    ld        a,(hl)                        ;[83dc] 7e
                    cp        $2a                           ;[83dd] fe 2a
                    jr        nz,check_precision_from_format;[83df] 20 09
                    inc       hl                            ;[83e1] 23
                    push      hl                            ;[83e2] e5
                    call      get_16bit_ap_parameter        ;[83e3] cd 59 86
                    ex        de,hl                         ;[83e6] eb
                    ex        (sp),hl                       ;[83e7] e3
                    jr        save_precision                ;[83e8] 18 05
check_precision_from_format:
                    push      de                            ;[83ea] d5
                    call      asm_atoi                      ;[83eb] cd 40 87
                    ex        de,hl                         ;[83ee] eb
save_precision:
                    ld        (ix-$07),d                    ;[83ef] dd 72 f9
                    ld        (ix-$08),e                    ;[83f2] dd 73 f8
                    ld        a,(hl)                        ;[83f5] 7e
                    inc       hl                            ;[83f6] 23
                    pop       de                            ;[83f7] d1
no_precision:
                    ret                                     ;[83f8] c9

__printf_handle_B:
                    ld        (ix-$09),$02                  ;[83f9] dd 36 f7 02
                    res       1,(ix-$04)                    ;[83fd] dd cb fc 8e
                    ld        c,$00                         ;[8401] 0e 00
                    jp        __printf_number               ;[8403] c3 c3 84
__printf_handle_X:
                    ld        (ix-$09),$10                  ;[8406] dd 36 f7 10
                    ld        (ix-$03),$e0                  ;[840a] dd 36 fd e0
                    res       1,(ix-$04)                    ;[840e] dd cb fc 8e
                    ld        c,$00                         ;[8412] 0e 00
                    jp        __printf_number               ;[8414] c3 c3 84
__printf_handle_c:
                    push      hl                            ;[8417] e5
                    call      get_16bit_ap_parameter        ;[8418] cd 59 86
                    push      de                            ;[841b] d5
                    ld        a,l                           ;[841c] 7d
                    call      __printf_print_to_buf         ;[841d] cd 47 86
                    jp        __printf_print_the_buffer     ;[8420] c3 35 86
__printf_handle_d:
                    ld        c,$01                         ;[8423] 0e 01
                    jp        __printf_number               ;[8425] c3 c3 84
__printf_handle_ll:
                    ld        c,(hl)                        ;[8428] 4e
                    inc       hl                            ;[8429] 23
                    push      hl                            ;[842a] e5
                    ld        hl,$87d0                      ;[842b] 21 d0 87
                    jp        __printf_format_search_loop   ;[842e] c3 32 83
__printf_handle_llB:
                    ld        c,$00                         ;[8431] 0e 00
                    ld        (ix-$09),$02                  ;[8433] dd 36 f7 02
                    res       1,(ix-$04)                    ;[8437] dd cb fc 8e
                    jp        __printf_number64             ;[843b] c3 5c 85
__printf_handle_llX:
                    ld        c,$00                         ;[843e] 0e 00
                    ld        (ix-$09),$10                  ;[8440] dd 36 f7 10
                    ld        (ix-$03),$e0                  ;[8444] dd 36 fd e0
                    res       1,(ix-$04)                    ;[8448] dd cb fc 8e
                    jp        __printf_number64             ;[844c] c3 5c 85
__printf_handle_lld:
                    ld        c,$01                         ;[844f] 0e 01
                    jp        __printf_number64             ;[8451] c3 5c 85
__printf_handle_llo:
                    ld        c,$00                         ;[8454] 0e 00
                    ld        (ix-$09),$08                  ;[8456] dd 36 f7 08
                    jp        __printf_number64             ;[845a] c3 5c 85
__printf_handle_llu:
                    ld        c,$00                         ;[845d] 0e 00
                    jp        __printf_number64             ;[845f] c3 5c 85
__printf_handle_llx:
                    ld        c,$00                         ;[8462] 0e 00
                    ld        (ix-$09),$10                  ;[8464] dd 36 f7 10
                    res       1,(ix-$04)                    ;[8468] dd cb fc 8e
                    jp        __printf_number64             ;[846c] c3 5c 85
__printf_handle_n:
                    push      hl                            ;[846f] e5
                    call      get_16bit_ap_parameter        ;[8470] cd 59 86
                    ld        a,(ix-$02)                    ;[8473] dd 7e fe
                    ld        (hl),a                        ;[8476] 77
                    ld        a,(ix-$01)                    ;[8477] dd 7e ff
                    inc       hl                            ;[847a] 23
                    ld        (hl),a                        ;[847b] 77
                    pop       hl                            ;[847c] e1
                    jp        __printf_loop                 ;[847d] c3 e3 82
__printf_handle_o:
                    ld        (ix-$09),$08                  ;[8480] dd 36 f7 08
                    ld        c,$00                         ;[8484] 0e 00
                    jp        __printf_number               ;[8486] c3 c3 84
__printf_handle_s:
                    push      hl                            ;[8489] e5
                    call      get_16bit_ap_parameter        ;[848a] cd 59 86
                    push      de                            ;[848d] d5
                    ld        a,h                           ;[848e] 7c
                    or        l                             ;[848f] b5
                    jr        nz,printstr                   ;[8490] 20 03
                    ld        hl,$87e3                      ;[8492] 21 e3 87
printstr:
                    push      hl                            ;[8495] e5
                    call      asm_strlen                    ;[8496] cd 86 87
                    ex        de,hl                         ;[8499] eb
                    ld        l,(ix-$08)                    ;[849a] dd 6e f8
                    ld        h,(ix-$07)                    ;[849d] dd 66 f9
                    push      hl                            ;[84a0] e5
                    call      l_uge                         ;[84a1] cd 44 81
                    pop       hl                            ;[84a4] e1
                    jr        nc,use_strlen                 ;[84a5] 30 01
                    ex        de,hl                         ;[84a7] eb
use_strlen:
                    pop       bc                            ;[84a8] c1
                    call      __printf_print_aligned        ;[84a9] cd e4 85
printstr_end:
                    pop       de                            ;[84ac] d1
                    pop       hl                            ;[84ad] e1
                    jp        __printf_loop                 ;[84ae] c3 e3 82
__printf_handle_u:
                    ld        c,$00                         ;[84b1] 0e 00
                    jp        __printf_number               ;[84b3] c3 c3 84
__printf_handle_p:
                    ld        (ix-$09),$10                  ;[84b6] dd 36 f7 10
                    res       1,(ix-$04)                    ;[84ba] dd cb fc 8e
                    ld        c,$00                         ;[84be] 0e 00
                    jp        __printf_number               ;[84c0] c3 c3 84
__printf_number:
                    push      hl                            ;[84c3] e5
                    bit       6,(ix-$04)                    ;[84c4] dd cb fc 76
                    jr        z,printf_number16             ;[84c8] 28 08
                    call      get_32bit_ap_parameter        ;[84ca] cd 6a 86
printlong:
                    push      hl                            ;[84cd] e5
                    ld        l,a                           ;[84ce] 6f
                    ld        h,b                           ;[84cf] 60
                    jr        miniprintn                    ;[84d0] 18 0c
printf_number16:
                    call      get_16bit_ap_parameter        ;[84d2] cd 59 86
                    push      de                            ;[84d5] d5
                    ld        de,$0000                      ;[84d6] 11 00 00
                    ld        a,c                           ;[84d9] 79
                    and       a                             ;[84da] a7
                    call      nz,l_int2long_s               ;[84db] c4 16 81
miniprintn:
                    ld        a,d                           ;[84de] 7a
                    rlca                                    ;[84df] 07
                    and       $01                           ;[84e0] e6 01
                    and       c                             ;[84e2] a1
                    jr        z,noneg___printf_number       ;[84e3] 28 0a
                    call      l_long_neg                    ;[84e5] cd 4a 80
                    ld        a,$2d                         ;[84e8] 3e 2d
printsign___printf_number:
                    call      __printf_print_to_buf         ;[84ea] cd 47 86
                    jr        miniprintn_start_process      ;[84ed] 18 30
noneg___printf_number:
                    ld        a,$20                         ;[84ef] 3e 20
                    bit       3,(ix-$04)                    ;[84f1] dd cb fc 5e
                    jr        nz,printsign___printf_number  ;[84f5] 20 f3
                    ld        a,$2b                         ;[84f7] 3e 2b
                    bit       1,(ix-$04)                    ;[84f9] dd cb fc 4e
                    jr        nz,printsign___printf_number  ;[84fd] 20 eb
                    bit       4,(ix-$04)                    ;[84ff] dd cb fc 66
                    jr        z,miniprintn_start_process    ;[8503] 28 1a
                    ld        a,(ix-$09)                    ;[8505] dd 7e f7
                    cp        $0a                           ;[8508] fe 0a
                    jr        z,miniprintn_start_process    ;[850a] 28 13
                    push      af                            ;[850c] f5
                    ld        a,$30                         ;[850d] 3e 30
                    call      __printf_print_to_buf         ;[850f] cd 47 86
                    pop       af                            ;[8512] f1
                    cp        $10                           ;[8513] fe 10
                    jr        nz,miniprintn_start_process   ;[8515] 20 08
                    ld        a,$78                         ;[8517] 3e 78
                    add       (ix-$03)                      ;[8519] dd 86 fd
                    call      __printf_print_to_buf         ;[851c] cd 47 86
miniprintn_start_process:
                    xor       a                             ;[851f] af
                    push      af                            ;[8520] f5
divloop:
                    push      de                            ;[8521] d5
                    push      hl                            ;[8522] e5
                    ld        l,(ix-$09)                    ;[8523] dd 6e f7
                    ld        h,$00                         ;[8526] 26 00
                    ld        d,h                           ;[8528] 54
                    ld        e,h                           ;[8529] 5c
                    call      l_long_div_u                  ;[852a] cd 08 81
                    exx                                     ;[852d] d9
                    ld        a,l                           ;[852e] 7d
                    cp        $ff                           ;[852f] fe ff
                    push      af                            ;[8531] f5
                    exx                                     ;[8532] d9
                    ld        a,h                           ;[8533] 7c
                    or        d                             ;[8534] b2
                    or        e                             ;[8535] b3
                    or        l                             ;[8536] b5
                    jr        nz,divloop                    ;[8537] 20 e8
printloop:
                    pop       af                            ;[8539] f1
                    jp        z,__printf_print_the_buffer   ;[853a] ca 35 86
                    add       $30                           ;[853d] c6 30
                    cp        $3a                           ;[853f] fe 3a
                    jr        c,printloop1                  ;[8541] 38 05
                    add       $27                           ;[8543] c6 27
                    add       (ix-$03)                      ;[8545] dd 86 fd
printloop1:
                    call      __printf_print_to_buf         ;[8548] cd 47 86
                    jr        printloop                     ;[854b] 18 ec
pickup_sccz80_llong:
                    dec       de                            ;[854d] 1b
                    dec       de                            ;[854e] 1b
                    dec       de                            ;[854f] 1b
                    dec       de                            ;[8550] 1b
                    dec       de                            ;[8551] 1b
                    dec       de                            ;[8552] 1b
                    dec       de                            ;[8553] 1b
                    dec       de                            ;[8554] 1b
                    push      de                            ;[8555] d5
                    inc       de                            ;[8556] 13
                    inc       de                            ;[8557] 13
                    ld        l,e                           ;[8558] 6b
                    ld        h,d                           ;[8559] 62
                    jr        continue                      ;[855a] 18 13
__printf_number64:
                    push      hl                            ;[855c] e5
                    bit       0,(ix+$06)                    ;[855d] dd cb 06 46
                    jr        nz,pickup_sccz80_llong        ;[8561] 20 ea
                    ld        l,e                           ;[8563] 6b
                    ld        h,d                           ;[8564] 62
                    inc       hl                            ;[8565] 23
                    inc       hl                            ;[8566] 23
                    inc       hl                            ;[8567] 23
                    inc       hl                            ;[8568] 23
                    inc       hl                            ;[8569] 23
                    inc       hl                            ;[856a] 23
                    inc       hl                            ;[856b] 23
                    inc       hl                            ;[856c] 23
                    push      hl                            ;[856d] e5
                    ex        de,hl                         ;[856e] eb
continue:
                    push      hl                            ;[856f] e5
                    ld        a,c                           ;[8570] 79
                    and       a                             ;[8571] a7
                    jr        z,noneg___printf_number64     ;[8572] 28 0e
                    bit       7,(hl)                        ;[8574] cb 7e
                    jr        z,noneg___printf_number64     ;[8576] 28 0a
                    call      l_neg_64_mhl                  ;[8578] cd 6f 80
                    ld        a,$2d                         ;[857b] 3e 2d
printsign___printf_number64:
                    call      __printf_print_to_buf         ;[857d] cd 47 86
                    jr        number64_start_process        ;[8580] 18 30
noneg___printf_number64:
                    ld        a,$20                         ;[8582] 3e 20
                    bit       3,(ix-$04)                    ;[8584] dd cb fc 5e
                    jr        nz,printsign___printf_number64;[8588] 20 f3
                    ld        a,$2b                         ;[858a] 3e 2b
                    bit       1,(ix-$04)                    ;[858c] dd cb fc 4e
                    jr        nz,printsign___printf_number64;[8590] 20 eb
                    bit       4,(ix-$04)                    ;[8592] dd cb fc 66
                    jr        z,number64_start_process      ;[8596] 28 1a
                    ld        a,(ix-$09)                    ;[8598] dd 7e f7
                    cp        $0a                           ;[859b] fe 0a
                    jr        z,number64_start_process      ;[859d] 28 13
                    push      af                            ;[859f] f5
                    ld        a,$30                         ;[85a0] 3e 30
                    call      __printf_print_to_buf         ;[85a2] cd 47 86
                    pop       af                            ;[85a5] f1
                    cp        $10                           ;[85a6] fe 10
                    jr        nz,number64_start_process     ;[85a8] 20 08
                    ld        a,$78                         ;[85aa] 3e 78
                    add       (ix-$03)                      ;[85ac] dd 86 fd
                    call      __printf_print_to_buf         ;[85af] cd 47 86
number64_start_process:
                    call      __printf_get_buffer_address   ;[85b2] cd dc 85
                    ld        c,(ix-$0a)                    ;[85b5] dd 4e f6
                    ld        b,$00                         ;[85b8] 06 00
                    add       hl,bc                         ;[85ba] 09
                    ld        e,(ix-$09)                    ;[85bb] dd 5e f7
                    ld        d,$00                         ;[85be] 16 00
                    pop       bc                            ;[85c0] c1
                    push      ix                            ;[85c1] dd e5
                    push      de                            ;[85c3] d5
                    push      hl                            ;[85c4] e5
                    call      l_load_64_dehldehl_mbc        ;[85c5] cd 5c 80
                    pop       ix                            ;[85c8] dd e1
                    pop       bc                            ;[85ca] c1
                    call      asm1_ulltoa                   ;[85cb] cd 6b 87
                    pop       ix                            ;[85ce] dd e1
                    call      __printf_get_buffer_address   ;[85d0] cd dc 85
                    call      asm_strlen                    ;[85d3] cd 86 87
                    ld        (ix-$0a),l                    ;[85d6] dd 75 f6
                    jp        __printf_print_the_buffer     ;[85d9] c3 35 86
__printf_get_buffer_address:
                    push      ix                            ;[85dc] dd e5
                    pop       hl                            ;[85de] e1
                    ld        bc,$ffb0                      ;[85df] 01 b0 ff
                    add       hl,bc                         ;[85e2] 09
                    ret                                     ;[85e3] c9

__printf_print_aligned:
                    ld        l,(ix-$06)                    ;[85e4] dd 6e fa
                    ld        h,(ix-$05)                    ;[85e7] dd 66 fb
                    ld        a,h                           ;[85ea] 7c
                    or        l                             ;[85eb] b5
                    jr        z,width_done                  ;[85ec] 28 11
                    push      hl                            ;[85ee] e5
                    push      bc                            ;[85ef] c5
                    call      l_ge                          ;[85f0] cd 1e 81
                    pop       bc                            ;[85f3] c1
                    pop       hl                            ;[85f4] e1
                    jr        nc,adjust_width               ;[85f5] 30 05
                    ld        hl,$0000                      ;[85f7] 21 00 00
                    jr        width_done                    ;[85fa] 18 03
adjust_width:
                    and       a                             ;[85fc] a7
                    sbc       hl,de                         ;[85fd] ed 52
width_done:
                    bit       0,(ix-$04)                    ;[85ff] dd cb fc 46
                    push      bc                            ;[8603] c5
                    call      z,print_padding               ;[8604] cc 29 86
                    pop       bc                            ;[8607] c1
print_buffer:
                    ld        a,d                           ;[8608] 7a
                    or        e                             ;[8609] b3
                    jr        z,buffer_done                 ;[860a] 28 0f
                    ld        a,(bc)                        ;[860c] 0a
                    bit       7,(ix-$04)                    ;[860d] dd cb fc 7e
                    call      nz,__printf_pickup_far        ;[8611] c4 3a 81
                    call      __printf_doprint              ;[8614] cd 49 83
                    inc       bc                            ;[8617] 03
                    dec       de                            ;[8618] 1b
                    jr        print_buffer                  ;[8619] 18 ed
buffer_done:
                    ld        c,$20                         ;[861b] 0e 20
print_padding_loop:
                    ld        a,h                           ;[861d] 7c
                    or        l                             ;[861e] b5
                    ret       z                             ;[861f] c8
                    push      bc                            ;[8620] c5
                    ld        a,c                           ;[8621] 79
                    call      __printf_doprint              ;[8622] cd 49 83
                    pop       bc                            ;[8625] c1
                    dec       hl                            ;[8626] 2b
                    jr        print_padding                 ;[8627] 18 00
print_padding:
                    ld        c,$20                         ;[8629] 0e 20
                    bit       2,(ix-$04)                    ;[862b] dd cb fc 56
                    jr        z,print_padding_loop          ;[862f] 28 ec
                    ld        c,$30                         ;[8631] 0e 30
                    jr        print_padding_loop            ;[8633] 18 e8
__printf_print_the_buffer:
                    ld        d,$00                         ;[8635] 16 00
                    ld        e,(ix-$0a)                    ;[8637] dd 5e f6
                    call      __printf_get_buffer_address   ;[863a] cd dc 85
                    ld        c,l                           ;[863d] 4d
                    ld        b,h                           ;[863e] 44
                    call      __printf_print_aligned        ;[863f] cd e4 85
                    pop       de                            ;[8642] d1
                    pop       hl                            ;[8643] e1
                    jp        __printf_loop                 ;[8644] c3 e3 82
__printf_print_to_buf:
                    push      hl                            ;[8647] e5
                    push      bc                            ;[8648] c5
                    call      __printf_get_buffer_address   ;[8649] cd dc 85
                    ld        c,(ix-$0a)                    ;[864c] dd 4e f6
                    ld        b,$00                         ;[864f] 06 00
                    add       hl,bc                         ;[8651] 09
                    inc       (ix-$0a)                      ;[8652] dd 34 f6
                    ld        (hl),a                        ;[8655] 77
                    pop       bc                            ;[8656] c1
                    pop       hl                            ;[8657] e1
                    ret                                     ;[8658] c9

get_16bit_ap_parameter:
                    ex        de,hl                         ;[8659] eb
                    ld        e,(hl)                        ;[865a] 5e
                    inc       hl                            ;[865b] 23
                    ld        d,(hl)                        ;[865c] 56
                    ex        de,hl                         ;[865d] eb
                    bit       0,(ix+$06)                    ;[865e] dd cb 06 46
                    jr        nz,change_ap_decrement        ;[8662] 20 02
                    inc       de                            ;[8664] 13
                    ret                                     ;[8665] c9

change_ap_decrement:
                    dec       de                            ;[8666] 1b
                    dec       de                            ;[8667] 1b
                    dec       de                            ;[8668] 1b
                    ret                                     ;[8669] c9

get_32bit_ap_parameter:
                    bit       0,(ix+$06)                    ;[866a] dd cb 06 46
                    jr        nz,pickuplong_sccz80          ;[866e] 20 0a
                    ex        de,hl                         ;[8670] eb
                    ld        a,(hl)                        ;[8671] 7e
                    inc       hl                            ;[8672] 23
                    ld        b,(hl)                        ;[8673] 46
                    inc       hl                            ;[8674] 23
                    ld        e,(hl)                        ;[8675] 5e
                    inc       hl                            ;[8676] 23
                    ld        d,(hl)                        ;[8677] 56
                    inc       hl                            ;[8678] 23
                    ret                                     ;[8679] c9

pickuplong_sccz80:
                    ex        de,hl                         ;[867a] eb
                    ld        e,(hl)                        ;[867b] 5e
                    inc       hl                            ;[867c] 23
                    ld        d,(hl)                        ;[867d] 56
                    dec       hl                            ;[867e] 2b
                    dec       hl                            ;[867f] 2b
                    ld        b,(hl)                        ;[8680] 46
                    dec       hl                            ;[8681] 2b
                    ld        a,(hl)                        ;[8682] 7e
                    dec       hl                            ;[8683] 2b
                    dec       hl                            ;[8684] 2b
                    ret                                     ;[8685] c9

_readbyte:
                    ret                                     ;[8686] c9

___writebyte:
                    ret                                     ;[8687] c9

asm_isspace:
                    cp        $20                           ;[8688] fe 20
                    ret       z                             ;[868a] c8
                    cp        $09                           ;[868b] fe 09
                    ret       c                             ;[868d] d8
                    cp        $0e                           ;[868e] fe 0e
                    ccf                                     ;[8690] 3f
                    ret                                     ;[8691] c9

                    exx                                     ;[8692] d9
l_divu_32_32x32:
                    ld        a,d                           ;[8693] 7a
                    or        e                             ;[8694] b3
                    or        h                             ;[8695] b4
                    or        l                             ;[8696] b5
                    jr        z,divide_zero                 ;[8697] 28 42
l0_divu_32_32x32:
                    xor       a                             ;[8699] af
                    push      hl                            ;[869a] e5
                    exx                                     ;[869b] d9
                    ld        b,h                           ;[869c] 44
                    ld        c,l                           ;[869d] 4d
                    pop       hl                            ;[869e] e1
                    push      de                            ;[869f] d5
                    ex        de,hl                         ;[86a0] eb
                    ld        l,a                           ;[86a1] 6f
                    ld        h,a                           ;[86a2] 67
                    exx                                     ;[86a3] d9
                    pop       bc                            ;[86a4] c1
                    ld        l,a                           ;[86a5] 6f
                    ld        h,a                           ;[86a6] 67
l1_small_divu_32_32x32:
                    ld        a,b                           ;[86a7] 78
                    ld        b,$20                         ;[86a8] 06 20
loop_0:
                    exx                                     ;[86aa] d9
                    rl        c                             ;[86ab] cb 11
                    rl        b                             ;[86ad] cb 10
                    exx                                     ;[86af] d9
                    rl        c                             ;[86b0] cb 11
                    rla                                     ;[86b2] 17
                    exx                                     ;[86b3] d9
                    adc       hl,hl                         ;[86b4] ed 6a
                    exx                                     ;[86b6] d9
                    adc       hl,hl                         ;[86b7] ed 6a
                    exx                                     ;[86b9] d9
                    sbc       hl,de                         ;[86ba] ed 52
                    exx                                     ;[86bc] d9
                    sbc       hl,de                         ;[86bd] ed 52
                    jr        nc,loop_1                     ;[86bf] 30 05
                    exx                                     ;[86c1] d9
                    add       hl,de                         ;[86c2] 19
                    exx                                     ;[86c3] d9
                    adc       hl,de                         ;[86c4] ed 5a
loop_1:
                    ccf                                     ;[86c6] 3f
                    djnz      loop_0                        ;[86c7] 10 e1
                    exx                                     ;[86c9] d9
                    rl        c                             ;[86ca] cb 11
                    rl        b                             ;[86cc] cb 10
                    exx                                     ;[86ce] d9
                    rl        c                             ;[86cf] cb 11
                    rla                                     ;[86d1] 17
                    push      hl                            ;[86d2] e5
                    exx                                     ;[86d3] d9
                    pop       de                            ;[86d4] d1
                    push      bc                            ;[86d5] c5
                    exx                                     ;[86d6] d9
                    pop       hl                            ;[86d7] e1
                    ld        e,c                           ;[86d8] 59
                    ld        d,a                           ;[86d9] 57
                    ret                                     ;[86da] c9

divide_zero:
                    dec       de                            ;[86db] 1b
                    jp        error_divide_by_zero_mc       ;[86dc] c3 1e 87
l_divu_64_64x8:
                    ld        a,c                           ;[86df] 79
                    or        a                             ;[86e0] b7
                    jr        z,divide_by_zero              ;[86e1] 28 1c
l0_divu_64_64x8:
                    xor       a                             ;[86e3] af
                    ld        b,$40                         ;[86e4] 06 40
loop_11:
                    add       hl,hl                         ;[86e6] 29
                    rl        e                             ;[86e7] cb 13
                    rl        d                             ;[86e9] cb 12
                    exx                                     ;[86eb] d9
                    adc       hl,hl                         ;[86ec] ed 6a
                    rl        e                             ;[86ee] cb 13
                    rl        d                             ;[86f0] cb 12
                    exx                                     ;[86f2] d9
                    rla                                     ;[86f3] 17
                    jr        c,loop_02                     ;[86f4] 38 03
                    cp        c                             ;[86f6] b9
                    jr        c,loop_03                     ;[86f7] 38 02
loop_02:
                    sub       c                             ;[86f9] 91
                    inc       l                             ;[86fa] 2c
loop_03:
                    djnz      loop_11                       ;[86fb] 10 e9
                    or        a                             ;[86fd] b7
                    ret                                     ;[86fe] c9

divide_by_zero:
                    call      error_llmc                    ;[86ff] cd 31 87
                    jp        error_divide_by_zero_mc       ;[8702] c3 1e 87
                    pop       hl                            ;[8705] e1
                    pop       hl                            ;[8706] e1
                    pop       hl                            ;[8707] e1
error_einval_zc:
                    ld        l,$ff                         ;[8708] 2e ff
errno_zc:
                    ld        h,$00                         ;[870a] 26 00
                    ld        (_errno),hl                   ;[870c] 22 ea 87
                    jp        error_zc                      ;[870f] c3 16 87
                    pop       hl                            ;[8712] e1
                    pop       hl                            ;[8713] e1
                    pop       hl                            ;[8714] e1
                    pop       hl                            ;[8715] e1
error_zc:
                    ld        hl,$0000                      ;[8716] 21 00 00
                    scf                                     ;[8719] 37
                    ret                                     ;[871a] c9

                    pop       hl                            ;[871b] e1
                    pop       hl                            ;[871c] e1
                    pop       hl                            ;[871d] e1
error_divide_by_zero_mc:
                    ld        l,$ff                         ;[871e] 2e ff
errno_mc:
                    ld        h,$00                         ;[8720] 26 00
                    ld        (_errno),hl                   ;[8722] 22 ea 87
                    jp        error_mc                      ;[8725] c3 2b 87
                    pop       hl                            ;[8728] e1
                    pop       hl                            ;[8729] e1
                    pop       hl                            ;[872a] e1
error_mc:
                    ld        hl,$ffff                      ;[872b] 21 ff ff
                    scf                                     ;[872e] 37
                    ret                                     ;[872f] c9

                    pop       hl                            ;[8730] e1
error_llmc:
                    exx                                     ;[8731] d9
                    call      error_lmc                     ;[8732] cd 3a 87
                    exx                                     ;[8735] d9
                    jp        error_lmc                     ;[8736] c3 3a 87
                    pop       hl                            ;[8739] e1
error_lmc:
                    ld        de,$ffff                      ;[873a] 11 ff ff
                    jp        error_mc                      ;[873d] c3 2b 87
asm_atoi:
                    call      l_eat_ws                      ;[8740] cd b6 80
asm0_atoi:
                    call      l_eat_sign                    ;[8743] cd aa 80
                    jr        nc,not_negative               ;[8746] 30 08
                    call      not_negative                  ;[8748] cd 50 87
                    jp        nc,l_neg_hl                   ;[874b] d2 fd 80
                    inc       hl                            ;[874e] 23
                    ret                                     ;[874f] c9

not_negative:
                    ex        de,hl                         ;[8750] eb
                    call      l_atou                        ;[8751] cd d5 80
                    jr        c,overflow_asm_atoi           ;[8754] 38 04
                    bit       7,h                           ;[8756] cb 7c
                    ret       z                             ;[8758] c8
                    scf                                     ;[8759] 37
overflow_asm_atoi:
                    ld        hl,$7fff                      ;[875a] 21 ff 7f
                    ret                                     ;[875d] c9

asm_ulltoa:
                    ld        a,ixh                         ;[875e] dd 7c
                    or        ixl                           ;[8760] dd b5
                    jp        z,error_zc                    ;[8762] ca 16 87
asm0_ulltoa:
                    call      l_valid_base                  ;[8765] cd c8 80
                    jp        nc,error_einval_zc            ;[8768] d2 08 87
asm1_ulltoa:
                    xor       a                             ;[876b] af
                    push      af                            ;[876c] f5
compute_lp:
                    push      bc                            ;[876d] c5
                    call      l0_divu_64_64x8               ;[876e] cd e3 86
                    pop       bc                            ;[8771] c1
                    call      l_num2char                    ;[8772] cd be 80
                    scf                                     ;[8775] 37
                    push      af                            ;[8776] f5
                    call      l_testzero_64_dehldehl        ;[8777] cd 9f 80
                    jr        nz,compute_lp                 ;[877a] 20 f1
                    push      ix                            ;[877c] dd e5
                    pop       hl                            ;[877e] e1
write_lp:
                    pop       af                            ;[877f] f1
                    ld        (hl),a                        ;[8780] 77
                    inc       hl                            ;[8781] 23
                    jr        c,write_lp                    ;[8782] 38 fb
                    dec       hl                            ;[8784] 2b
                    ret                                     ;[8785] c9

asm_strlen:
                    xor       a                             ;[8786] af
                    ld        c,a                           ;[8787] 4f
                    ld        b,a                           ;[8788] 47
                    cpir                                    ;[8789] ed b1
                    ld        hl,$ffff                      ;[878b] 21 ff ff
                    sbc       hl,bc                         ;[878e] ed 42
                    ret                                     ;[8790] c9

i_1:
                    defb      $48                           ;[8791] 48
                    defb      $65                           ;[8792] 65
                    defb      $6c                           ;[8793] 6c
                    defb      $6c                           ;[8794] 6c
                    defb      $6f                           ;[8795] 6f
                    defb      $2c                           ;[8796] 2c
                    defb      $20                           ;[8797] 20
                    defb      $77                           ;[8798] 77
                    defb      $6f                           ;[8799] 6f
                    defb      $72                           ;[879a] 72
                    defb      $6c                           ;[879b] 6c
                    defb      $64                           ;[879c] 64
                    defb      $21                           ;[879d] 21
                    defb      $0a                           ;[879e] 0a
                    defb      $28                           ;[879f] 28
                    defb      $68                           ;[87a0] 68
                    defb      $69                           ;[87a1] 69
                    defb      $74                           ;[87a2] 74
                    defb      $20                           ;[87a3] 20
                    defb      $61                           ;[87a4] 61
                    defb      $6e                           ;[87a5] 6e
                    defb      $79                           ;[87a6] 79
                    defb      $20                           ;[87a7] 20
                    defb      $6b                           ;[87a8] 6b
                    defb      $65                           ;[87a9] 65
                    defb      $79                           ;[87aa] 79
                    defb      $29                           ;[87ab] 29
                    defb      $0a                           ;[87ac] 0a
                    defb      $00                           ;[87ad] 00
__printf_format_table:
                    defb      $73                           ;[87ae] 73
                    defb      $89                           ;[87af] 89
                    defb      $84                           ;[87b0] 84
                    defb      $63                           ;[87b1] 63
                    defb      $17                           ;[87b2] 17
                    defb      $84                           ;[87b3] 84
                    defb      $64                           ;[87b4] 64
                    defb      $23                           ;[87b5] 23
                    defb      $84                           ;[87b6] 84
                    defb      $75                           ;[87b7] 75
                    defb      $b1                           ;[87b8] b1
                    defb      $84                           ;[87b9] 84
                    defb      $78                           ;[87ba] 78
                    defb      $b6                           ;[87bb] b6
                    defb      $84                           ;[87bc] 84
                    defb      $6f                           ;[87bd] 6f
                    defb      $80                           ;[87be] 80
                    defb      $84                           ;[87bf] 84
                    defb      $70                           ;[87c0] 70
                    defb      $b6                           ;[87c1] b6
                    defb      $84                           ;[87c2] 84
                    defb      $58                           ;[87c3] 58
                    defb      $06                           ;[87c4] 06
                    defb      $84                           ;[87c5] 84
                    defb      $6e                           ;[87c6] 6e
                    defb      $6f                           ;[87c7] 6f
                    defb      $84                           ;[87c8] 84
                    defb      $42                           ;[87c9] 42
                    defb      $f9                           ;[87ca] f9
                    defb      $83                           ;[87cb] 83
                    defb      $6c                           ;[87cc] 6c
                    defb      $28                           ;[87cd] 28
                    defb      $84                           ;[87ce] 84
                    defb      $00                           ;[87cf] 00
__printf_format_table64:
                    defb      $64                           ;[87d0] 64
                    defb      $4f                           ;[87d1] 4f
                    defb      $84                           ;[87d2] 84
                    defb      $75                           ;[87d3] 75
                    defb      $5d                           ;[87d4] 5d
                    defb      $84                           ;[87d5] 84
                    defb      $78                           ;[87d6] 78
                    defb      $62                           ;[87d7] 62
                    defb      $84                           ;[87d8] 84
                    defb      $6f                           ;[87d9] 6f
                    defb      $54                           ;[87da] 54
                    defb      $84                           ;[87db] 84
                    defb      $58                           ;[87dc] 58
                    defb      $3e                           ;[87dd] 3e
                    defb      $84                           ;[87de] 84
                    defb      $42                           ;[87df] 42
                    defb      $31                           ;[87e0] 31
                    defb      $84                           ;[87e1] 84
                    defb      $00                           ;[87e2] 00
nullstr:
                    defb      $28                           ;[87e3] 28
                    defb      $6e                           ;[87e4] 6e
                    defb      $75                           ;[87e5] 75
                    defb      $6c                           ;[87e6] 6c
                    defb      $6c                           ;[87e7] 6c
                    defb      $29                           ;[87e8] 29
                    defb      $00                           ;[87e9] 00
_errno:
                    defb      $00                           ;[87ea] 00
                    defb      $00                           ;[87eb] 00
__sgoioblk:
                    defb      $00                           ;[87ec] 00
                    defb      $00                           ;[87ed] 00
                    defb      $00                           ;[87ee] 00
                    defb      $00                           ;[87ef] 00
                    defb      $00                           ;[87f0] 00
                    defb      $00                           ;[87f1] 00
                    defb      $00                           ;[87f2] 00
                    defb      $00                           ;[87f3] 00
                    defb      $00                           ;[87f4] 00
                    defb      $00                           ;[87f5] 00
                    defb      $00                           ;[87f6] 00
                    defb      $00                           ;[87f7] 00
                    defb      $00                           ;[87f8] 00
                    defb      $00                           ;[87f9] 00
                    defb      $00                           ;[87fa] 00
                    defb      $00                           ;[87fb] 00
                    defb      $00                           ;[87fc] 00
                    defb      $00                           ;[87fd] 00
                    defb      $00                           ;[87fe] 00
                    defb      $00                           ;[87ff] 00
                    defb      $00                           ;[8800] 00
                    defb      $00                           ;[8801] 00
                    defb      $00                           ;[8802] 00
                    defb      $00                           ;[8803] 00
                    defb      $00                           ;[8804] 00
                    defb      $00                           ;[8805] 00
                    defb      $00                           ;[8806] 00
                    defb      $00                           ;[8807] 00
                    defb      $00                           ;[8808] 00
                    defb      $00                           ;[8809] 00
                    defb      $00                           ;[880a] 00
                    defb      $00                           ;[880b] 00
                    defb      $00                           ;[880c] 00
                    defb      $00                           ;[880d] 00
                    defb      $00                           ;[880e] 00
                    defb      $00                           ;[880f] 00
                    defb      $00                           ;[8810] 00
                    defb      $00                           ;[8811] 00
                    defb      $00                           ;[8812] 00
                    defb      $00                           ;[8813] 00
                    defb      $00                           ;[8814] 00
                    defb      $00                           ;[8815] 00
                    defb      $00                           ;[8816] 00
                    defb      $00                           ;[8817] 00
                    defb      $00                           ;[8818] 00
                    defb      $00                           ;[8819] 00
                    defb      $00                           ;[881a] 00
                    defb      $00                           ;[881b] 00
                    defb      $00                           ;[881c] 00
                    defb      $00                           ;[881d] 00
                    defb      $00                           ;[881e] 00
                    defb      $00                           ;[881f] 00
                    defb      $00                           ;[8820] 00
                    defb      $00                           ;[8821] 00
                    defb      $00                           ;[8822] 00
                    defb      $00                           ;[8823] 00
                    defb      $00                           ;[8824] 00
                    defb      $00                           ;[8825] 00
                    defb      $00                           ;[8826] 00
                    defb      $00                           ;[8827] 00
                    defb      $00                           ;[8828] 00
                    defb      $00                           ;[8829] 00
                    defb      $00                           ;[882a] 00
                    defb      $00                           ;[882b] 00
                    defb      $00                           ;[882c] 00
                    defb      $00                           ;[882d] 00
                    defb      $00                           ;[882e] 00
                    defb      $00                           ;[882f] 00
                    defb      $00                           ;[8830] 00
                    defb      $00                           ;[8831] 00
                    defb      $00                           ;[8832] 00
                    defb      $00                           ;[8833] 00
                    defb      $00                           ;[8834] 00
                    defb      $00                           ;[8835] 00
                    defb      $00                           ;[8836] 00
                    defb      $00                           ;[8837] 00
                    defb      $00                           ;[8838] 00
                    defb      $00                           ;[8839] 00
                    defb      $00                           ;[883a] 00
                    defb      $00                           ;[883b] 00
                    defb      $00                           ;[883c] 00
                    defb      $00                           ;[883d] 00
                    defb      $00                           ;[883e] 00
                    defb      $00                           ;[883f] 00
                    defb      $00                           ;[8840] 00
                    defb      $00                           ;[8841] 00
                    defb      $00                           ;[8842] 00
                    defb      $00                           ;[8843] 00
                    defb      $00                           ;[8844] 00
                    defb      $00                           ;[8845] 00
                    defb      $00                           ;[8846] 00
                    defb      $00                           ;[8847] 00
                    defb      $00                           ;[8848] 00
                    defb      $00                           ;[8849] 00
                    defb      $00                           ;[884a] 00
                    defb      $00                           ;[884b] 00
                    defb      $00                           ;[884c] 00
                    defb      $00                           ;[884d] 00
                    defb      $00                           ;[884e] 00
                    defb      $00                           ;[884f] 00
__sgoioblk_end:
                    defb      $00                           ;[8850] 00
                    defb      $00                           ;[8851] 00
__exit_atexit_count:
                    defb      $00                           ;[8852] 00
__exit_atexit_funcs:
                    defb      $00                           ;[8853] 00
                    defb      $00                           ;[8854] 00
