start:
                    call      crt0_init                     ;[8000] cd 2c 80
                    ld        hl,$ffc0                      ;[8003] 21 c0 ff
                    add       hl,sp                         ;[8006] 39
                    ld        sp,hl                         ;[8007] f9
                    ld        (__exit_atexit_funcs),hl      ;[8008] 22 62 88
                    call      _main                         ;[800b] cd 5b 81
__Exit:
                    call      crt0_exit                     ;[800e] cd 54 80
                    jp        WARMSTART                     ;[8011] c3 10 00
l_dcal:
                    jp        (hl)                          ;[8014] e9
_fputc_cons:
                    pop       bc                            ;[8015] c1
                    pop       hl                            ;[8016] e1
                    push      hl                            ;[8017] e5
                    push      bc                            ;[8018] c5
                    ld        a,l                           ;[8019] 7d
                    call      putchar_beanzee               ;[801a] cd 2f 00
                    ret                                     ;[801d] c9

_fgetc_cons:
                    call      getchar_beanzee               ;[801e] cd 23 00
                    ld        l,a                           ;[8021] 6f
                    ld        h,$00                         ;[8022] 26 00
                    ret                                     ;[8024] c9

_marvin_readchar:
                    call      readchar_beanzee              ;[8025] cd 2b 00
                    ld        h,$00                         ;[8028] 26 00
                    ld        l,a                           ;[802a] 6f
                    ret                                     ;[802b] c9

crt0_init:
                    xor       a                             ;[802c] af
                    ld        hl,$87f9                      ;[802d] 21 f9 87
                    ld        bc,$006b                      ;[8030] 01 6b 00
                    ld        de,$87fa                      ;[8033] 11 fa 87
                    ld        (hl),a                        ;[8036] 77
                    ldir                                    ;[8037] ed b0
                    ld        hl,$87fd                      ;[8039] 21 fd 87
                    ld        (hl),$13                      ;[803c] 36 13
                    ld        hl,$8807                      ;[803e] 21 07 88
                    ld        (hl),$15                      ;[8041] 36 15
                    ld        hl,$8811                      ;[8043] 21 11 88
                    ld        (hl),$15                      ;[8046] 36 15
                    ld        hl,$87f9                      ;[8048] 21 f9 87
                    ld        de,$8864                      ;[804b] 11 64 88
                    ld        bc,$0001                      ;[804e] 01 01 00
                    ldir                                    ;[8051] ed b0
                    ret                                     ;[8053] c9

crt0_exit:
                    ret                                     ;[8054] c9

l_long_neg:
                    ld        a,l                           ;[8055] 7d
                    cpl                                     ;[8056] 2f
                    ld        l,a                           ;[8057] 6f
                    ld        a,h                           ;[8058] 7c
                    cpl                                     ;[8059] 2f
                    ld        h,a                           ;[805a] 67
                    ld        a,e                           ;[805b] 7b
                    cpl                                     ;[805c] 2f
                    ld        e,a                           ;[805d] 5f
                    ld        a,d                           ;[805e] 7a
                    cpl                                     ;[805f] 2f
                    ld        d,a                           ;[8060] 57
                    inc       l                             ;[8061] 2c
                    ret       nz                            ;[8062] c0
                    inc       h                             ;[8063] 24
                    ret       nz                            ;[8064] c0
                    inc       de                            ;[8065] 13
                    ret                                     ;[8066] c9

l_load_64_dehldehl_mbc:
                    call      again_l_load_64_dehldehl_mbc  ;[8067] cd 6a 80
again_l_load_64_dehldehl_mbc:
                    ld        a,(bc)                        ;[806a] 0a
                    inc       bc                            ;[806b] 03
                    ld        l,a                           ;[806c] 6f
                    ld        a,(bc)                        ;[806d] 0a
                    inc       bc                            ;[806e] 03
                    ld        h,a                           ;[806f] 67
                    ld        a,(bc)                        ;[8070] 0a
                    inc       bc                            ;[8071] 03
                    ld        e,a                           ;[8072] 5f
                    ld        a,(bc)                        ;[8073] 0a
                    inc       bc                            ;[8074] 03
                    ld        d,a                           ;[8075] 57
                    push      bc                            ;[8076] c5
                    exx                                     ;[8077] d9
                    pop       bc                            ;[8078] c1
                    ret                                     ;[8079] c9

l_neg_64_mhl:
                    push      hl                            ;[807a] e5
                    call      l_cpl_64_mhl                  ;[807b] cd 96 80
                    pop       hl                            ;[807e] e1
                    inc       (hl)                          ;[807f] 34
                    ret       nz                            ;[8080] c0
                    inc       hl                            ;[8081] 23
                    inc       (hl)                          ;[8082] 34
                    ret       nz                            ;[8083] c0
                    inc       hl                            ;[8084] 23
                    inc       (hl)                          ;[8085] 34
                    ret       nz                            ;[8086] c0
                    inc       hl                            ;[8087] 23
                    inc       (hl)                          ;[8088] 34
                    ret       nz                            ;[8089] c0
                    inc       hl                            ;[808a] 23
                    inc       (hl)                          ;[808b] 34
                    ret       nz                            ;[808c] c0
                    inc       hl                            ;[808d] 23
                    inc       (hl)                          ;[808e] 34
                    ret       nz                            ;[808f] c0
                    inc       hl                            ;[8090] 23
                    inc       (hl)                          ;[8091] 34
                    ret       nz                            ;[8092] c0
                    inc       hl                            ;[8093] 23
                    inc       (hl)                          ;[8094] 34
                    ret                                     ;[8095] c9

l_cpl_64_mhl:
                    call      again_l_cpl_64_mhl            ;[8096] cd 99 80
again_l_cpl_64_mhl:
                    ld        a,(hl)                        ;[8099] 7e
                    cpl                                     ;[809a] 2f
                    ld        (hl),a                        ;[809b] 77
                    inc       hl                            ;[809c] 23
                    ld        a,(hl)                        ;[809d] 7e
                    cpl                                     ;[809e] 2f
                    ld        (hl),a                        ;[809f] 77
                    inc       hl                            ;[80a0] 23
                    ld        a,(hl)                        ;[80a1] 7e
                    cpl                                     ;[80a2] 2f
                    ld        (hl),a                        ;[80a3] 77
                    inc       hl                            ;[80a4] 23
                    ld        a,(hl)                        ;[80a5] 7e
                    cpl                                     ;[80a6] 2f
                    ld        (hl),a                        ;[80a7] 77
                    inc       hl                            ;[80a8] 23
                    ret                                     ;[80a9] c9

l_testzero_64_dehldehl:
                    exx                                     ;[80aa] d9
                    ld        a,d                           ;[80ab] 7a
                    or        e                             ;[80ac] b3
                    or        h                             ;[80ad] b4
                    or        l                             ;[80ae] b5
                    exx                                     ;[80af] d9
                    or        d                             ;[80b0] b2
                    or        e                             ;[80b1] b3
                    or        h                             ;[80b2] b4
                    or        l                             ;[80b3] b5
                    ret                                     ;[80b4] c9

l_eat_sign:
                    ld        a,(hl)                        ;[80b5] 7e
                    inc       hl                            ;[80b6] 23
                    cp        $2b                           ;[80b7] fe 2b
                    ret       z                             ;[80b9] c8
                    cp        $2d                           ;[80ba] fe 2d
                    scf                                     ;[80bc] 37
                    ret       z                             ;[80bd] c8
                    dec       hl                            ;[80be] 2b
                    or        a                             ;[80bf] b7
                    ret                                     ;[80c0] c9

l_eat_ws:
                    ld        a,(hl)                        ;[80c1] 7e
                    call      asm_isspace                   ;[80c2] cd 97 86
                    ret       c                             ;[80c5] d8
                    inc       hl                            ;[80c6] 23
                    jr        l_eat_ws                      ;[80c7] 18 f8
l_num2char:
                    cp        $0a                           ;[80c9] fe 0a
                    jr        nc,alpha                      ;[80cb] 30 03
                    add       $30                           ;[80cd] c6 30
                    ret                                     ;[80cf] c9

alpha:
                    add       $37                           ;[80d0] c6 37
                    ret                                     ;[80d2] c9

l_valid_base:
                    ld        a,b                           ;[80d3] 78
                    or        a                             ;[80d4] b7
                    ret       nz                            ;[80d5] c0
                    or        c                             ;[80d6] b1
                    ret       z                             ;[80d7] c8
                    ld        a,c                           ;[80d8] 79
                    cp        $25                           ;[80d9] fe 25
                    ret       nc                            ;[80db] d0
                    cp        $02                           ;[80dc] fe 02
                    ccf                                     ;[80de] 3f
                    ret                                     ;[80df] c9

l_atou:
                    ld        hl,$0000                      ;[80e0] 21 00 00
                    dec       de                            ;[80e3] 1b
                    push      hl                            ;[80e4] e5
loop:
                    pop       af                            ;[80e5] f1
                    inc       de                            ;[80e6] 13
                    ld        a,(de)                        ;[80e7] 1a
                    sub       $30                           ;[80e8] d6 30
                    ccf                                     ;[80ea] 3f
                    ret       nc                            ;[80eb] d0
                    cp        $0a                           ;[80ec] fe 0a
                    ret       nc                            ;[80ee] d0
                    push      hl                            ;[80ef] e5
                    add       hl,hl                         ;[80f0] 29
                    jr        c,overflow_l_small_atou       ;[80f1] 38 12
                    ld        c,l                           ;[80f3] 4d
                    ld        b,h                           ;[80f4] 44
                    add       hl,hl                         ;[80f5] 29
                    jr        c,overflow_l_small_atou       ;[80f6] 38 0d
                    add       hl,hl                         ;[80f8] 29
                    jr        c,overflow_l_small_atou       ;[80f9] 38 0a
                    add       hl,bc                         ;[80fb] 09
                    jr        c,overflow_l_small_atou       ;[80fc] 38 07
                    add       l                             ;[80fe] 85
                    ld        l,a                           ;[80ff] 6f
                    jr        nc,loop                       ;[8100] 30 e3
                    inc       h                             ;[8102] 24
                    jr        nz,loop                       ;[8103] 20 e0
overflow_l_small_atou:
                    pop       hl                            ;[8105] e1
                    scf                                     ;[8106] 37
                    ret                                     ;[8107] c9

l_neg_hl:
                    ld        a,l                           ;[8108] 7d
                    cpl                                     ;[8109] 2f
                    ld        l,a                           ;[810a] 6f
                    ld        a,h                           ;[810b] 7c
                    cpl                                     ;[810c] 2f
                    ld        h,a                           ;[810d] 67
                    inc       hl                            ;[810e] 23
                    ret                                     ;[810f] c9

l_long_mod_u:
                    and       a                             ;[8110] a7
                    jr        common                        ;[8111] 18 01
l_long_div_u:
                    scf                                     ;[8113] 37
common:
                    exx                                     ;[8114] d9
                    pop       bc                            ;[8115] c1
                    pop       hl                            ;[8116] e1
                    pop       de                            ;[8117] d1
                    push      bc                            ;[8118] c5
                    jp        c,$86a1                       ;[8119] da a1 86
                    call      $86a1                         ;[811c] cd a1 86
                    exx                                     ;[811f] d9
                    ret                                     ;[8120] c9

l_int2long_s:
                    ld        de,$0000                      ;[8121] 11 00 00
                    bit       7,h                           ;[8124] cb 7c
                    ret       z                             ;[8126] c8
                    dec       de                            ;[8127] 1b
                    ret                                     ;[8128] c9

l_ge:
                    ld        a,h                           ;[8129] 7c
                    add       $80                           ;[812a] c6 80
                    ld        b,a                           ;[812c] 47
                    ld        a,d                           ;[812d] 7a
                    add       $80                           ;[812e] c6 80
                    cp        b                             ;[8130] b8
                    ccf                                     ;[8131] 3f
                    jp        nz,l_compare_result           ;[8132] c2 3b 81
                    ld        a,e                           ;[8135] 7b
                    cp        l                             ;[8136] bd
                    ccf                                     ;[8137] 3f
                    jp        l_compare_result              ;[8138] c3 3b 81
l_compare_result:
                    ld        hl,$0000                      ;[813b] 21 00 00
                    ret       nc                            ;[813e] d0
                    inc       hl                            ;[813f] 23
                    ret                                     ;[8140] c9

l_jphl:
                    jp        (hl)                          ;[8141] e9
                    pop       hl                            ;[8142] e1
                    pop       hl                            ;[8143] e1
                    pop       hl                            ;[8144] e1
__printf_pickup_far:
                    ret                                     ;[8145] c9

l_gchar3:
                    inc       hl                            ;[8146] 23
l_gchar2:
                    inc       hl                            ;[8147] 23
l_gchar1:
                    inc       hl                            ;[8148] 23
l_gchar:
                    ld        a,(hl)                        ;[8149] 7e
l_gchar_sxt:
                    ld        l,a                           ;[814a] 6f
                    rlca                                    ;[814b] 07
                    sbc       a                             ;[814c] 9f
                    ld        h,a                           ;[814d] 67
                    ret                                     ;[814e] c9

l_uge:
                    ld        a,d                           ;[814f] 7a
                    cp        h                             ;[8150] bc
                    ccf                                     ;[8151] 3f
                    jp        nz,l_compare_result           ;[8152] c2 3b 81
                    ld        a,e                           ;[8155] 7b
                    cp        l                             ;[8156] bd
                    ccf                                     ;[8157] 3f
                    jp        l_compare_result              ;[8158] c3 3b 81
_main:
                    ld        hl,$87a0                      ;[815b] 21 a0 87
                    push      hl                            ;[815e] e5
                    ld        a,$01                         ;[815f] 3e 01
                    call      printf                        ;[8161] cd a0 82
                    pop       bc                            ;[8164] c1
                    ld        hl,$87fb                      ;[8165] 21 fb 87
                    push      hl                            ;[8168] e5
                    call      ___fgetc                      ;[8169] cd 78 81
                    pop       bc                            ;[816c] c1
                    ld        a,l                           ;[816d] 7d
                    call      l_gchar_sxt                   ;[816e] cd 4a 81
                    dec       sp                            ;[8171] 3b
                    ld        a,l                           ;[8172] 7d
                    pop       hl                            ;[8173] e1
                    ld        l,a                           ;[8174] 6f
                    push      hl                            ;[8175] e5
                    inc       sp                            ;[8176] 33
                    ret                                     ;[8177] c9

___fgetc:
                    pop       bc                            ;[8178] c1
                    pop       hl                            ;[8179] e1
                    push      hl                            ;[817a] e5
                    push      bc                            ;[817b] c5
                    push      ix                            ;[817c] dd e5
                    push      hl                            ;[817e] e5
                    pop       ix                            ;[817f] dd e1
                    ld        a,(ix+$02)                    ;[8181] dd 7e 02
                    and       a                             ;[8184] a7
                    jp        z,is_eof                      ;[8185] ca 05 82
                    and       $08                           ;[8188] e6 08
                    jp        nz,is_eof                     ;[818a] c2 05 82
                    ld        a,(ix+$03)                    ;[818d] dd 7e 03
                    and       a                             ;[8190] a7
                    jr        z,no_ungetc                   ;[8191] 28 09
                    ld        l,a                           ;[8193] 6f
                    ld        h,$00                         ;[8194] 26 00
                    ld        (ix+$03),h                    ;[8196] dd 74 03
                    jp        fgetc_end                     ;[8199] c3 10 82
no_ungetc:
                    ld        a,(ix+$02)                    ;[819c] dd 7e 02
                    and       $80                           ;[819f] e6 80
                    jr        z,no_string_stdio_fgetc_c     ;[81a1] 28 28
                    ld        l,(ix+$04)                    ;[81a3] dd 6e 04
                    ld        h,(ix+$05)                    ;[81a6] dd 66 05
                    ld        a,h                           ;[81a9] 7c
                    or        l                             ;[81aa] b5
                    jp        z,is_eof                      ;[81ab] ca 05 82
                    dec       hl                            ;[81ae] 2b
                    ld        (ix+$04),l                    ;[81af] dd 75 04
                    ld        (ix+$05),h                    ;[81b2] dd 74 05
                    ld        l,(ix+$00)                    ;[81b5] dd 6e 00
                    ld        h,(ix+$01)                    ;[81b8] dd 66 01
                    ld        a,(hl)                        ;[81bb] 7e
                    inc       hl                            ;[81bc] 23
                    ld        (ix+$00),l                    ;[81bd] dd 75 00
                    ld        (ix+$01),h                    ;[81c0] dd 74 01
                    and       a                             ;[81c3] a7
                    jr        z,is_eof                      ;[81c4] 28 3f
                    ld        l,a                           ;[81c6] 6f
                    ld        h,$00                         ;[81c7] 26 00
                    jr        fgetc_end                     ;[81c9] 18 45
no_string_stdio_fgetc_c:
                    ld        a,(ix+$02)                    ;[81cb] dd 7e 02
                    and       $20                           ;[81ce] e6 20
                    jr        z,not_extra_fp                ;[81d0] 28 0f
                    ld        l,(ix+$04)                    ;[81d2] dd 6e 04
                    ld        h,(ix+$05)                    ;[81d5] dd 66 05
                    ld        a,$01                         ;[81d8] 3e 01
                    call      l_jphl                        ;[81da] cd 41 81
                    jr        nc,fgetc_end                  ;[81dd] 30 31
                    jr        seteof                        ;[81df] 18 27
not_extra_fp:
                    push      ix                            ;[81e1] dd e5
                    call      ___fchkstd                    ;[81e3] cd 13 82
                    pop       ix                            ;[81e6] dd e1
                    jr        c,no_stdin                    ;[81e8] 38 0a
                    call      _fgetc_cons                   ;[81ea] cd 1e 80
                    push      hl                            ;[81ed] e5
                    call      _fputc_cons                   ;[81ee] cd 15 80
                    pop       hl                            ;[81f1] e1
                    jr        fgetc_end                     ;[81f2] 18 1c
no_stdin:
                    ld        l,(ix+$00)                    ;[81f4] dd 6e 00
                    ld        h,(ix+$01)                    ;[81f7] dd 66 01
                    push      ix                            ;[81fa] dd e5
                    call      _readbyte                     ;[81fc] cd 95 86
                    pop       ix                            ;[81ff] dd e1
                    ld        a,h                           ;[8201] 7c
                    inc       a                             ;[8202] 3c
                    jr        nz,fgetc_end                  ;[8203] 20 0b
is_eof:
                    ld        hl,$ffff                      ;[8205] 21 ff ff
seteof:
                    ld        a,(ix+$02)                    ;[8208] dd 7e 02
                    or        $08                           ;[820b] f6 08
                    ld        (ix+$02),a                    ;[820d] dd 77 02
fgetc_end:
                    pop       ix                            ;[8210] dd e1
                    ret                                     ;[8212] c9

___fchkstd:
                    pop       hl                            ;[8213] e1
                    pop       de                            ;[8214] d1
                    push      de                            ;[8215] d5
                    push      hl                            ;[8216] e5
                    ld        hl,$0000                      ;[8217] 21 00 00
                    inc       de                            ;[821a] 13
                    inc       de                            ;[821b] 13
                    ld        a,(de)                        ;[821c] 1a
                    and       $10                           ;[821d] e6 10
                    scf                                     ;[821f] 37
                    ret       z                             ;[8220] c8
                    dec       hl                            ;[8221] 2b
                    ld        a,(de)                        ;[8222] 1a
                    and       $02                           ;[8223] e6 02
                    ret       nz                            ;[8225] c0
                    inc       hl                            ;[8226] 23
                    inc       hl                            ;[8227] 23
                    and       a                             ;[8228] a7
                    ret                                     ;[8229] c9

_fputc_callee:
                    pop       de                            ;[822a] d1
                    pop       hl                            ;[822b] e1
                    pop       bc                            ;[822c] c1
                    push      de                            ;[822d] d5
                    push      ix                            ;[822e] dd e5
                    push      hl                            ;[8230] e5
                    pop       ix                            ;[8231] dd e1
                    call      asm_fputc_callee              ;[8233] cd 39 82
                    pop       ix                            ;[8236] dd e1
                    ret                                     ;[8238] c9

asm_fputc_callee:
                    ld        hl,$ffff                      ;[8239] 21 ff ff
                    ld        a,(ix+$02)                    ;[823c] dd 7e 02
                    and       a                             ;[823f] a7
                    ret       z                             ;[8240] c8
                    ld        a,(ix+$02)                    ;[8241] dd 7e 02
                    and       $80                           ;[8244] e6 80
                    jr        z,no_string_stdio_fputc_callee_c;[8246] 28 26
                    ld        e,(ix+$04)                    ;[8248] dd 5e 04
                    ld        d,(ix+$05)                    ;[824b] dd 56 05
                    ld        a,d                           ;[824e] 7a
                    or        e                             ;[824f] b3
                    jr        nz,print_char_to_buf          ;[8250] 20 03
                    ex        de,hl                         ;[8252] eb
                    dec       hl                            ;[8253] 2b
                    ret                                     ;[8254] c9

print_char_to_buf:
                    dec       de                            ;[8255] 1b
                    ld        (ix+$04),e                    ;[8256] dd 73 04
                    ld        (ix+$05),d                    ;[8259] dd 72 05
                    ld        l,(ix+$00)                    ;[825c] dd 6e 00
                    ld        h,(ix+$01)                    ;[825f] dd 66 01
                    ld        (hl),c                        ;[8262] 71
                    inc       hl                            ;[8263] 23
                    ld        (ix+$00),l                    ;[8264] dd 75 00
                    ld        (ix+$01),h                    ;[8267] dd 74 01
                    ld        l,c                           ;[826a] 69
                    ld        h,$00                         ;[826b] 26 00
                    ret                                     ;[826d] c9

no_string_stdio_fputc_callee_c:
                    ld        a,(ix+$02)                    ;[826e] dd 7e 02
                    and       $20                           ;[8271] e6 20
                    jr        z,no_net                      ;[8273] 28 0e
                    ld        l,(ix+$04)                    ;[8275] dd 6e 04
                    ld        h,(ix+$05)                    ;[8278] dd 66 05
                    ld        a,$02                         ;[827b] 3e 02
                    push      bc                            ;[827d] c5
                    call      l_jphl                        ;[827e] cd 41 81
                    pop       hl                            ;[8281] e1
                    ret                                     ;[8282] c9

no_net:
                    push      ix                            ;[8283] dd e5
                    call      ___fchkstd                    ;[8285] cd 13 82
                    pop       ix                            ;[8288] dd e1
                    jr        c,no_cons                     ;[828a] 38 06
                    push      bc                            ;[828c] c5
                    call      _fputc_cons                   ;[828d] cd 15 80
                    pop       hl                            ;[8290] e1
                    ret                                     ;[8291] c9

no_cons:
                    ld        l,(ix+$00)                    ;[8292] dd 6e 00
                    ld        h,(ix+$01)                    ;[8295] dd 66 01
                    push      hl                            ;[8298] e5
                    push      bc                            ;[8299] c5
                    call      ___writebyte                  ;[829a] cd 96 86
                    pop       hl                            ;[829d] e1
                    pop       bc                            ;[829e] c1
                    ret                                     ;[829f] c9

printf:
                    ld        l,a                           ;[82a0] 6f
                    ld        h,$00                         ;[82a1] 26 00
                    add       hl,hl                         ;[82a3] 29
                    add       hl,sp                         ;[82a4] 39
                    push      ix                            ;[82a5] dd e5
                    ld        bc,$8805                      ;[82a7] 01 05 88
                    push      bc                            ;[82aa] c5
                    ld        bc,$822a                      ;[82ab] 01 2a 82
                    push      bc                            ;[82ae] c5
                    ld        bc,$0001                      ;[82af] 01 01 00
                    push      bc                            ;[82b2] c5
                    ld        e,(hl)                        ;[82b3] 5e
                    inc       hl                            ;[82b4] 23
                    ld        d,(hl)                        ;[82b5] 56
                    push      de                            ;[82b6] d5
                    dec       hl                            ;[82b7] 2b
                    dec       hl                            ;[82b8] 2b
                    dec       hl                            ;[82b9] 2b
                    push      hl                            ;[82ba] e5
                    call      asm_printf                    ;[82bb] cd c6 82
                    pop       bc                            ;[82be] c1
                    pop       bc                            ;[82bf] c1
                    pop       bc                            ;[82c0] c1
                    pop       bc                            ;[82c1] c1
                    pop       bc                            ;[82c2] c1
                    pop       ix                            ;[82c3] dd e1
                    ret                                     ;[82c5] c9

asm_printf:
                    ld        ix,$0000                      ;[82c6] dd 21 00 00
                    add       ix,sp                         ;[82ca] dd 39
                    ld        hl,$ffb0                      ;[82cc] 21 b0 ff
                    add       hl,sp                         ;[82cf] 39
                    ld        sp,hl                         ;[82d0] f9
                    ld        e,(ix+$02)                    ;[82d1] dd 5e 02
                    ld        d,(ix+$03)                    ;[82d4] dd 56 03
                    ld        l,(ix+$04)                    ;[82d7] dd 6e 04
                    ld        h,(ix+$05)                    ;[82da] dd 66 05
                    xor       a                             ;[82dd] af
                    ld        (ix-$01),a                    ;[82de] dd 77 ff
                    ld        (ix-$02),a                    ;[82e1] dd 77 fe
                    dec       a                             ;[82e4] 3d
                    ld        (ix-$05),a                    ;[82e5] dd 77 fb
                    ld        (ix-$06),a                    ;[82e8] dd 77 fa
                    ld        (ix-$07),a                    ;[82eb] dd 77 f9
                    ld        (ix-$08),a                    ;[82ee] dd 77 f8
__printf_loop:
                    ld        (ix-$09),$0a                  ;[82f1] dd 36 f7 0a
                    xor       a                             ;[82f5] af
                    ld        (ix-$03),a                    ;[82f6] dd 77 fd
                    ld        (ix-$04),a                    ;[82f9] dd 77 fc
                    ld        (ix-$0a),a                    ;[82fc] dd 77 f6
                    ld        a,(hl)                        ;[82ff] 7e
                    inc       hl                            ;[8300] 23
                    and       a                             ;[8301] a7
                    jr        nz,cont                       ;[8302] 20 07
                    ld        hl,$004e                      ;[8304] 21 4e 00
                    add       hl,sp                         ;[8307] 39
                    ld        sp,hl                         ;[8308] f9
                    pop       hl                            ;[8309] e1
__printf_get_flags_noop:
                    ret                                     ;[830a] c9

cont:
                    cp        $25                           ;[830b] fe 25
                    jr        z,handle_percent              ;[830d] 28 05
print_format_character:
                    call      __printf_doprint              ;[830f] cd 57 83
                    jr        __printf_loop                 ;[8312] 18 dd
handle_percent:
                    ld        a,(hl)                        ;[8314] 7e
                    inc       hl                            ;[8315] 23
                    cp        $25                           ;[8316] fe 25
                    jr        z,print_format_character      ;[8318] 28 f5
                    call      __printf_get_flags            ;[831a] cd 8e 83
                    res       6,(ix-$04)                    ;[831d] dd cb fc b6
                    cp        $7a                           ;[8321] fe 7a
                    jr        z,get_next_char               ;[8323] 28 14
                    cp        $68                           ;[8325] fe 68
                    jr        nz,check_long_qualifier       ;[8327] 20 08
                    ld        a,(hl)                        ;[8329] 7e
                    inc       hl                            ;[832a] 23
                    cp        $68                           ;[832b] fe 68
                    jr        nz,no_long_qualifier          ;[832d] 20 0c
                    jr        get_next_char                 ;[832f] 18 08
check_long_qualifier:
                    cp        $6c                           ;[8331] fe 6c
                    jr        nz,no_long_qualifier          ;[8333] 20 06
                    set       6,(ix-$04)                    ;[8335] dd cb fc f6
get_next_char:
                    ld        a,(hl)                        ;[8339] 7e
                    inc       hl                            ;[833a] 23
no_long_qualifier:
                    push      hl                            ;[833b] e5
                    ld        hl,$87bd                      ;[833c] 21 bd 87
                    ld        c,a                           ;[833f] 4f
__printf_format_search_loop:
                    ld        a,(hl)                        ;[8340] 7e
                    and       a                             ;[8341] a7
                    jr        z,no_format_found             ;[8342] 28 0f
                    cp        c                             ;[8344] b9
                    jr        nz,no_format_match            ;[8345] 20 07
                    inc       hl                            ;[8347] 23
                    ld        c,(hl)                        ;[8348] 4e
                    inc       hl                            ;[8349] 23
                    ld        b,(hl)                        ;[834a] 46
                    pop       hl                            ;[834b] e1
                    push      bc                            ;[834c] c5
                    ret                                     ;[834d] c9

no_format_match:
                    inc       hl                            ;[834e] 23
                    inc       hl                            ;[834f] 23
                    inc       hl                            ;[8350] 23
                    jr        __printf_format_search_loop   ;[8351] 18 ed
no_format_found:
                    pop       hl                            ;[8353] e1
                    ld        a,c                           ;[8354] 79
                    jr        print_format_character        ;[8355] 18 b8
__printf_doprint:
                    push      hl                            ;[8357] e5
                    push      de                            ;[8358] d5
                    push      bc                            ;[8359] c5
                    push      ix                            ;[835a] dd e5
                    exx                                     ;[835c] d9
                    push      bc                            ;[835d] c5
                    push      de                            ;[835e] d5
                    exx                                     ;[835f] d9
                    ex        af,af'                        ;[8360] 08
                    push      af                            ;[8361] f5
                    ex        af,af'                        ;[8362] 08
                    inc       (ix-$02)                      ;[8363] dd 34 fe
                    jr        nz,no_inc                     ;[8366] 20 03
                    inc       (ix-$01)                      ;[8368] dd 34 ff
no_inc:
                    ld        c,a                           ;[836b] 4f
                    ld        b,$00                         ;[836c] 06 00
                    push      bc                            ;[836e] c5
                    ld        c,(ix+$0a)                    ;[836f] dd 4e 0a
                    ld        b,(ix+$0b)                    ;[8372] dd 46 0b
                    push      bc                            ;[8375] c5
                    ld        bc,$8381                      ;[8376] 01 81 83
                    push      bc                            ;[8379] c5
                    ld        l,(ix+$08)                    ;[837a] dd 6e 08
                    ld        h,(ix+$09)                    ;[837d] dd 66 09
                    jp        (hl)                          ;[8380] e9
doprint_return:
                    ex        af,af'                        ;[8381] 08
                    pop       af                            ;[8382] f1
                    ex        af,af'                        ;[8383] 08
                    exx                                     ;[8384] d9
                    pop       de                            ;[8385] d1
                    pop       bc                            ;[8386] c1
                    exx                                     ;[8387] d9
                    pop       ix                            ;[8388] dd e1
                    pop       bc                            ;[838a] c1
                    pop       de                            ;[838b] d1
                    pop       hl                            ;[838c] e1
                    ret                                     ;[838d] c9

__printf_get_flags:
                    ld        c,$00                         ;[838e] 0e 00
flags_again:
                    push      hl                            ;[8390] e5
                    ld        b,$05                         ;[8391] 06 05
                    ld        hl,$83a2                      ;[8393] 21 a2 83
flag_loop:
                    cp        (hl)                          ;[8396] be
                    inc       hl                            ;[8397] 23
                    jr        nz,no_flag                    ;[8398] 20 12
                    ld        a,(hl)                        ;[839a] 7e
                    or        c                             ;[839b] b1
                    ld        c,a                           ;[839c] 4f
                    pop       hl                            ;[839d] e1
                    ld        a,(hl)                        ;[839e] 7e
                    inc       hl                            ;[839f] 23
                    jr        flags_again                   ;[83a0] 18 ee
flags:
                    dec       l                             ;[83a2] 2d
                    ld        bc,$022b                      ;[83a3] 01 2b 02
                    jr        nz,$83b0                      ;[83a6] 20 08
                    inc       hl                            ;[83a8] 23
                    djnz      $83db                         ;[83a9] 10 30
                    inc       b                             ;[83ab] 04
no_flag:
                    inc       hl                            ;[83ac] 23
                    djnz      flag_loop                     ;[83ad] 10 e7
                    pop       hl                            ;[83af] e1
                    ld        (ix-$04),c                    ;[83b0] dd 71 fc
check_width:
                    ld        (ix-$05),$00                  ;[83b3] dd 36 fb 00
                    ld        (ix-$06),$00                  ;[83b7] dd 36 fa 00
                    cp        $2a                           ;[83bb] fe 2a
                    jr        nz,check_width_from_format    ;[83bd] 20 08
starred_width:
                    push      hl                            ;[83bf] e5
                    call      get_16bit_ap_parameter        ;[83c0] cd 68 86
                    ex        de,hl                         ;[83c3] eb
                    ex        (sp),hl                       ;[83c4] e3
                    jr        save_width                    ;[83c5] 18 0e
check_width_from_format:
                    cp        $30                           ;[83c7] fe 30
                    jr        c,check_precision             ;[83c9] 38 13
                    cp        $3a                           ;[83cb] fe 3a
                    jr        nc,check_precision            ;[83cd] 30 0f
                    push      de                            ;[83cf] d5
                    dec       hl                            ;[83d0] 2b
                    call      asm_atoi                      ;[83d1] cd 4f 87
                    ex        de,hl                         ;[83d4] eb
save_width:
                    ld        (ix-$05),d                    ;[83d5] dd 72 fb
                    ld        (ix-$06),e                    ;[83d8] dd 73 fa
                    pop       de                            ;[83db] d1
                    ld        a,(hl)                        ;[83dc] 7e
                    inc       hl                            ;[83dd] 23
check_precision:
                    ld        (ix-$07),$ff                  ;[83de] dd 36 f9 ff
                    ld        (ix-$08),$ff                  ;[83e2] dd 36 f8 ff
                    cp        $2e                           ;[83e6] fe 2e
                    jr        nz,no_precision               ;[83e8] 20 1c
                    ld        a,(hl)                        ;[83ea] 7e
                    cp        $2a                           ;[83eb] fe 2a
                    jr        nz,check_precision_from_format;[83ed] 20 09
                    inc       hl                            ;[83ef] 23
                    push      hl                            ;[83f0] e5
                    call      get_16bit_ap_parameter        ;[83f1] cd 68 86
                    ex        de,hl                         ;[83f4] eb
                    ex        (sp),hl                       ;[83f5] e3
                    jr        save_precision                ;[83f6] 18 05
check_precision_from_format:
                    push      de                            ;[83f8] d5
                    call      asm_atoi                      ;[83f9] cd 4f 87
                    ex        de,hl                         ;[83fc] eb
save_precision:
                    ld        (ix-$07),d                    ;[83fd] dd 72 f9
                    ld        (ix-$08),e                    ;[8400] dd 73 f8
                    ld        a,(hl)                        ;[8403] 7e
                    inc       hl                            ;[8404] 23
                    pop       de                            ;[8405] d1
no_precision:
                    ret                                     ;[8406] c9

__printf_handle_B:
                    ld        (ix-$09),$02                  ;[8407] dd 36 f7 02
                    res       1,(ix-$04)                    ;[840b] dd cb fc 8e
                    ld        c,$00                         ;[840f] 0e 00
                    jp        __printf_number               ;[8411] c3 d1 84
__printf_handle_X:
                    ld        (ix-$09),$10                  ;[8414] dd 36 f7 10
                    ld        (ix-$03),$e0                  ;[8418] dd 36 fd e0
                    res       1,(ix-$04)                    ;[841c] dd cb fc 8e
                    ld        c,$00                         ;[8420] 0e 00
                    jp        __printf_number               ;[8422] c3 d1 84
__printf_handle_c:
                    push      hl                            ;[8425] e5
                    call      get_16bit_ap_parameter        ;[8426] cd 68 86
                    push      de                            ;[8429] d5
                    ld        a,l                           ;[842a] 7d
                    call      __printf_print_to_buf         ;[842b] cd 56 86
                    jp        __printf_print_the_buffer     ;[842e] c3 44 86
__printf_handle_d:
                    ld        c,$01                         ;[8431] 0e 01
                    jp        __printf_number               ;[8433] c3 d1 84
__printf_handle_ll:
                    ld        c,(hl)                        ;[8436] 4e
                    inc       hl                            ;[8437] 23
                    push      hl                            ;[8438] e5
                    ld        hl,$87df                      ;[8439] 21 df 87
                    jp        __printf_format_search_loop   ;[843c] c3 40 83
__printf_handle_llB:
                    ld        c,$00                         ;[843f] 0e 00
                    ld        (ix-$09),$02                  ;[8441] dd 36 f7 02
                    res       1,(ix-$04)                    ;[8445] dd cb fc 8e
                    jp        __printf_number64             ;[8449] c3 6b 85
__printf_handle_llX:
                    ld        c,$00                         ;[844c] 0e 00
                    ld        (ix-$09),$10                  ;[844e] dd 36 f7 10
                    ld        (ix-$03),$e0                  ;[8452] dd 36 fd e0
                    res       1,(ix-$04)                    ;[8456] dd cb fc 8e
                    jp        __printf_number64             ;[845a] c3 6b 85
__printf_handle_lld:
                    ld        c,$01                         ;[845d] 0e 01
                    jp        __printf_number64             ;[845f] c3 6b 85
__printf_handle_llo:
                    ld        c,$00                         ;[8462] 0e 00
                    ld        (ix-$09),$08                  ;[8464] dd 36 f7 08
                    jp        __printf_number64             ;[8468] c3 6b 85
__printf_handle_llu:
                    ld        c,$00                         ;[846b] 0e 00
                    jp        __printf_number64             ;[846d] c3 6b 85
__printf_handle_llx:
                    ld        c,$00                         ;[8470] 0e 00
                    ld        (ix-$09),$10                  ;[8472] dd 36 f7 10
                    res       1,(ix-$04)                    ;[8476] dd cb fc 8e
                    jp        __printf_number64             ;[847a] c3 6b 85
__printf_handle_n:
                    push      hl                            ;[847d] e5
                    call      get_16bit_ap_parameter        ;[847e] cd 68 86
                    ld        a,(ix-$02)                    ;[8481] dd 7e fe
                    ld        (hl),a                        ;[8484] 77
                    ld        a,(ix-$01)                    ;[8485] dd 7e ff
                    inc       hl                            ;[8488] 23
                    ld        (hl),a                        ;[8489] 77
                    pop       hl                            ;[848a] e1
                    jp        __printf_loop                 ;[848b] c3 f1 82
__printf_handle_o:
                    ld        (ix-$09),$08                  ;[848e] dd 36 f7 08
                    ld        c,$00                         ;[8492] 0e 00
                    jp        __printf_number               ;[8494] c3 d1 84
__printf_handle_s:
                    push      hl                            ;[8497] e5
                    call      get_16bit_ap_parameter        ;[8498] cd 68 86
                    push      de                            ;[849b] d5
                    ld        a,h                           ;[849c] 7c
                    or        l                             ;[849d] b5
                    jr        nz,printstr                   ;[849e] 20 03
                    ld        hl,$87f2                      ;[84a0] 21 f2 87
printstr:
                    push      hl                            ;[84a3] e5
                    call      asm_strlen                    ;[84a4] cd 95 87
                    ex        de,hl                         ;[84a7] eb
                    ld        l,(ix-$08)                    ;[84a8] dd 6e f8
                    ld        h,(ix-$07)                    ;[84ab] dd 66 f9
                    push      hl                            ;[84ae] e5
                    call      l_uge                         ;[84af] cd 4f 81
                    pop       hl                            ;[84b2] e1
                    jr        nc,use_strlen                 ;[84b3] 30 01
                    ex        de,hl                         ;[84b5] eb
use_strlen:
                    pop       bc                            ;[84b6] c1
                    call      __printf_print_aligned        ;[84b7] cd f3 85
printstr_end:
                    pop       de                            ;[84ba] d1
                    pop       hl                            ;[84bb] e1
                    jp        __printf_loop                 ;[84bc] c3 f1 82
__printf_handle_u:
                    ld        c,$00                         ;[84bf] 0e 00
                    jp        __printf_number               ;[84c1] c3 d1 84
__printf_handle_p:
                    ld        (ix-$09),$10                  ;[84c4] dd 36 f7 10
                    res       1,(ix-$04)                    ;[84c8] dd cb fc 8e
                    ld        c,$00                         ;[84cc] 0e 00
                    jp        __printf_number               ;[84ce] c3 d1 84
__printf_number:
                    push      hl                            ;[84d1] e5
                    bit       6,(ix-$04)                    ;[84d2] dd cb fc 76
                    jr        z,printf_number16             ;[84d6] 28 08
                    call      get_32bit_ap_parameter        ;[84d8] cd 79 86
printlong:
                    push      hl                            ;[84db] e5
                    ld        l,a                           ;[84dc] 6f
                    ld        h,b                           ;[84dd] 60
                    jr        miniprintn                    ;[84de] 18 0c
printf_number16:
                    call      get_16bit_ap_parameter        ;[84e0] cd 68 86
                    push      de                            ;[84e3] d5
                    ld        de,$0000                      ;[84e4] 11 00 00
                    ld        a,c                           ;[84e7] 79
                    and       a                             ;[84e8] a7
                    call      nz,l_int2long_s               ;[84e9] c4 21 81
miniprintn:
                    ld        b,a                           ;[84ec] 47
                    ld        a,d                           ;[84ed] 7a
                    rlca                                    ;[84ee] 07
                    and       $01                           ;[84ef] e6 01
                    and       b                             ;[84f1] a0
                    jr        z,noneg___printf_number       ;[84f2] 28 0a
                    call      l_long_neg                    ;[84f4] cd 55 80
                    ld        a,$2d                         ;[84f7] 3e 2d
printsign___printf_number:
                    call      __printf_print_to_buf         ;[84f9] cd 56 86
                    jr        miniprintn_start_process      ;[84fc] 18 30
noneg___printf_number:
                    ld        a,$20                         ;[84fe] 3e 20
                    bit       3,(ix-$04)                    ;[8500] dd cb fc 5e
                    jr        nz,printsign___printf_number  ;[8504] 20 f3
                    ld        a,$2b                         ;[8506] 3e 2b
                    bit       1,(ix-$04)                    ;[8508] dd cb fc 4e
                    jr        nz,printsign___printf_number  ;[850c] 20 eb
                    bit       4,(ix-$04)                    ;[850e] dd cb fc 66
                    jr        z,miniprintn_start_process    ;[8512] 28 1a
                    ld        a,(ix-$09)                    ;[8514] dd 7e f7
                    cp        $0a                           ;[8517] fe 0a
                    jr        z,miniprintn_start_process    ;[8519] 28 13
                    push      af                            ;[851b] f5
                    ld        a,$30                         ;[851c] 3e 30
                    call      __printf_print_to_buf         ;[851e] cd 56 86
                    pop       af                            ;[8521] f1
                    cp        $10                           ;[8522] fe 10
                    jr        nz,miniprintn_start_process   ;[8524] 20 08
                    ld        a,$78                         ;[8526] 3e 78
                    add       (ix-$03)                      ;[8528] dd 86 fd
                    call      __printf_print_to_buf         ;[852b] cd 56 86
miniprintn_start_process:
                    xor       a                             ;[852e] af
                    push      af                            ;[852f] f5
divloop:
                    push      de                            ;[8530] d5
                    push      hl                            ;[8531] e5
                    ld        l,(ix-$09)                    ;[8532] dd 6e f7
                    ld        h,$00                         ;[8535] 26 00
                    ld        d,h                           ;[8537] 54
                    ld        e,h                           ;[8538] 5c
                    call      l_long_div_u                  ;[8539] cd 13 81
                    exx                                     ;[853c] d9
                    ld        a,l                           ;[853d] 7d
                    cp        $ff                           ;[853e] fe ff
                    push      af                            ;[8540] f5
                    exx                                     ;[8541] d9
                    ld        a,h                           ;[8542] 7c
                    or        d                             ;[8543] b2
                    or        e                             ;[8544] b3
                    or        l                             ;[8545] b5
                    jr        nz,divloop                    ;[8546] 20 e8
printloop:
                    pop       af                            ;[8548] f1
                    jp        z,__printf_print_the_buffer   ;[8549] ca 44 86
                    add       $30                           ;[854c] c6 30
                    cp        $3a                           ;[854e] fe 3a
                    jr        c,printloop1                  ;[8550] 38 05
                    add       $27                           ;[8552] c6 27
                    add       (ix-$03)                      ;[8554] dd 86 fd
printloop1:
                    call      __printf_print_to_buf         ;[8557] cd 56 86
                    jr        printloop                     ;[855a] 18 ec
pickup_sccz80_llong:
                    dec       de                            ;[855c] 1b
                    dec       de                            ;[855d] 1b
                    dec       de                            ;[855e] 1b
                    dec       de                            ;[855f] 1b
                    dec       de                            ;[8560] 1b
                    dec       de                            ;[8561] 1b
                    dec       de                            ;[8562] 1b
                    dec       de                            ;[8563] 1b
                    push      de                            ;[8564] d5
                    inc       de                            ;[8565] 13
                    inc       de                            ;[8566] 13
                    ld        l,e                           ;[8567] 6b
                    ld        h,d                           ;[8568] 62
                    jr        continue                      ;[8569] 18 13
__printf_number64:
                    push      hl                            ;[856b] e5
                    bit       0,(ix+$06)                    ;[856c] dd cb 06 46
                    jr        nz,pickup_sccz80_llong        ;[8570] 20 ea
                    ld        l,e                           ;[8572] 6b
                    ld        h,d                           ;[8573] 62
                    inc       hl                            ;[8574] 23
                    inc       hl                            ;[8575] 23
                    inc       hl                            ;[8576] 23
                    inc       hl                            ;[8577] 23
                    inc       hl                            ;[8578] 23
                    inc       hl                            ;[8579] 23
                    inc       hl                            ;[857a] 23
                    inc       hl                            ;[857b] 23
                    push      hl                            ;[857c] e5
                    ex        de,hl                         ;[857d] eb
continue:
                    push      hl                            ;[857e] e5
                    ld        a,c                           ;[857f] 79
                    and       a                             ;[8580] a7
                    jr        z,noneg___printf_number64     ;[8581] 28 0e
                    bit       7,(hl)                        ;[8583] cb 7e
                    jr        z,noneg___printf_number64     ;[8585] 28 0a
                    call      l_neg_64_mhl                  ;[8587] cd 7a 80
                    ld        a,$2d                         ;[858a] 3e 2d
printsign___printf_number64:
                    call      __printf_print_to_buf         ;[858c] cd 56 86
                    jr        number64_start_process        ;[858f] 18 30
noneg___printf_number64:
                    ld        a,$20                         ;[8591] 3e 20
                    bit       3,(ix-$04)                    ;[8593] dd cb fc 5e
                    jr        nz,printsign___printf_number64;[8597] 20 f3
                    ld        a,$2b                         ;[8599] 3e 2b
                    bit       1,(ix-$04)                    ;[859b] dd cb fc 4e
                    jr        nz,printsign___printf_number64;[859f] 20 eb
                    bit       4,(ix-$04)                    ;[85a1] dd cb fc 66
                    jr        z,number64_start_process      ;[85a5] 28 1a
                    ld        a,(ix-$09)                    ;[85a7] dd 7e f7
                    cp        $0a                           ;[85aa] fe 0a
                    jr        z,number64_start_process      ;[85ac] 28 13
                    push      af                            ;[85ae] f5
                    ld        a,$30                         ;[85af] 3e 30
                    call      __printf_print_to_buf         ;[85b1] cd 56 86
                    pop       af                            ;[85b4] f1
                    cp        $10                           ;[85b5] fe 10
                    jr        nz,number64_start_process     ;[85b7] 20 08
                    ld        a,$78                         ;[85b9] 3e 78
                    add       (ix-$03)                      ;[85bb] dd 86 fd
                    call      __printf_print_to_buf         ;[85be] cd 56 86
number64_start_process:
                    call      __printf_get_buffer_address   ;[85c1] cd eb 85
                    ld        c,(ix-$0a)                    ;[85c4] dd 4e f6
                    ld        b,$00                         ;[85c7] 06 00
                    add       hl,bc                         ;[85c9] 09
                    ld        e,(ix-$09)                    ;[85ca] dd 5e f7
                    ld        d,$00                         ;[85cd] 16 00
                    pop       bc                            ;[85cf] c1
                    push      ix                            ;[85d0] dd e5
                    push      de                            ;[85d2] d5
                    push      hl                            ;[85d3] e5
                    call      l_load_64_dehldehl_mbc        ;[85d4] cd 67 80
                    pop       ix                            ;[85d7] dd e1
                    pop       bc                            ;[85d9] c1
                    call      asm1_ulltoa                   ;[85da] cd 7a 87
                    pop       ix                            ;[85dd] dd e1
                    call      __printf_get_buffer_address   ;[85df] cd eb 85
                    call      asm_strlen                    ;[85e2] cd 95 87
                    ld        (ix-$0a),l                    ;[85e5] dd 75 f6
                    jp        __printf_print_the_buffer     ;[85e8] c3 44 86
__printf_get_buffer_address:
                    push      ix                            ;[85eb] dd e5
                    pop       hl                            ;[85ed] e1
                    ld        bc,$ffb0                      ;[85ee] 01 b0 ff
                    add       hl,bc                         ;[85f1] 09
                    ret                                     ;[85f2] c9

__printf_print_aligned:
                    ld        l,(ix-$06)                    ;[85f3] dd 6e fa
                    ld        h,(ix-$05)                    ;[85f6] dd 66 fb
                    ld        a,h                           ;[85f9] 7c
                    or        l                             ;[85fa] b5
                    jr        z,width_done                  ;[85fb] 28 11
                    push      hl                            ;[85fd] e5
                    push      bc                            ;[85fe] c5
                    call      l_ge                          ;[85ff] cd 29 81
                    pop       bc                            ;[8602] c1
                    pop       hl                            ;[8603] e1
                    jr        nc,adjust_width               ;[8604] 30 05
                    ld        hl,$0000                      ;[8606] 21 00 00
                    jr        width_done                    ;[8609] 18 03
adjust_width:
                    and       a                             ;[860b] a7
                    sbc       hl,de                         ;[860c] ed 52
width_done:
                    bit       0,(ix-$04)                    ;[860e] dd cb fc 46
                    push      bc                            ;[8612] c5
                    call      z,print_padding               ;[8613] cc 38 86
                    pop       bc                            ;[8616] c1
print_buffer:
                    ld        a,d                           ;[8617] 7a
                    or        e                             ;[8618] b3
                    jr        z,buffer_done                 ;[8619] 28 0f
                    ld        a,(bc)                        ;[861b] 0a
                    bit       7,(ix-$04)                    ;[861c] dd cb fc 7e
                    call      nz,__printf_pickup_far        ;[8620] c4 45 81
                    call      __printf_doprint              ;[8623] cd 57 83
                    inc       bc                            ;[8626] 03
                    dec       de                            ;[8627] 1b
                    jr        print_buffer                  ;[8628] 18 ed
buffer_done:
                    ld        c,$20                         ;[862a] 0e 20
print_padding_loop:
                    ld        a,h                           ;[862c] 7c
                    or        l                             ;[862d] b5
                    ret       z                             ;[862e] c8
                    push      bc                            ;[862f] c5
                    ld        a,c                           ;[8630] 79
                    call      __printf_doprint              ;[8631] cd 57 83
                    pop       bc                            ;[8634] c1
                    dec       hl                            ;[8635] 2b
                    jr        print_padding                 ;[8636] 18 00
print_padding:
                    ld        c,$20                         ;[8638] 0e 20
                    bit       2,(ix-$04)                    ;[863a] dd cb fc 56
                    jr        z,print_padding_loop          ;[863e] 28 ec
                    ld        c,$30                         ;[8640] 0e 30
                    jr        print_padding_loop            ;[8642] 18 e8
__printf_print_the_buffer:
                    ld        d,$00                         ;[8644] 16 00
                    ld        e,(ix-$0a)                    ;[8646] dd 5e f6
                    call      __printf_get_buffer_address   ;[8649] cd eb 85
                    ld        c,l                           ;[864c] 4d
                    ld        b,h                           ;[864d] 44
                    call      __printf_print_aligned        ;[864e] cd f3 85
                    pop       de                            ;[8651] d1
                    pop       hl                            ;[8652] e1
                    jp        __printf_loop                 ;[8653] c3 f1 82
__printf_print_to_buf:
                    push      hl                            ;[8656] e5
                    push      bc                            ;[8657] c5
                    call      __printf_get_buffer_address   ;[8658] cd eb 85
                    ld        c,(ix-$0a)                    ;[865b] dd 4e f6
                    ld        b,$00                         ;[865e] 06 00
                    add       hl,bc                         ;[8660] 09
                    inc       (ix-$0a)                      ;[8661] dd 34 f6
                    ld        (hl),a                        ;[8664] 77
                    pop       bc                            ;[8665] c1
                    pop       hl                            ;[8666] e1
                    ret                                     ;[8667] c9

get_16bit_ap_parameter:
                    ex        de,hl                         ;[8668] eb
                    ld        e,(hl)                        ;[8669] 5e
                    inc       hl                            ;[866a] 23
                    ld        d,(hl)                        ;[866b] 56
                    ex        de,hl                         ;[866c] eb
                    bit       0,(ix+$06)                    ;[866d] dd cb 06 46
                    jr        nz,change_ap_decrement        ;[8671] 20 02
                    inc       de                            ;[8673] 13
                    ret                                     ;[8674] c9

change_ap_decrement:
                    dec       de                            ;[8675] 1b
                    dec       de                            ;[8676] 1b
                    dec       de                            ;[8677] 1b
                    ret                                     ;[8678] c9

get_32bit_ap_parameter:
                    bit       0,(ix+$06)                    ;[8679] dd cb 06 46
                    jr        nz,pickuplong_sccz80          ;[867d] 20 0a
                    ex        de,hl                         ;[867f] eb
                    ld        a,(hl)                        ;[8680] 7e
                    inc       hl                            ;[8681] 23
                    ld        b,(hl)                        ;[8682] 46
                    inc       hl                            ;[8683] 23
                    ld        e,(hl)                        ;[8684] 5e
                    inc       hl                            ;[8685] 23
                    ld        d,(hl)                        ;[8686] 56
                    inc       hl                            ;[8687] 23
                    ret                                     ;[8688] c9

pickuplong_sccz80:
                    ex        de,hl                         ;[8689] eb
                    ld        e,(hl)                        ;[868a] 5e
                    inc       hl                            ;[868b] 23
                    ld        d,(hl)                        ;[868c] 56
                    dec       hl                            ;[868d] 2b
                    dec       hl                            ;[868e] 2b
                    ld        b,(hl)                        ;[868f] 46
                    dec       hl                            ;[8690] 2b
                    ld        a,(hl)                        ;[8691] 7e
                    dec       hl                            ;[8692] 2b
                    dec       hl                            ;[8693] 2b
                    ret                                     ;[8694] c9

_readbyte:
                    ret                                     ;[8695] c9

___writebyte:
                    ret                                     ;[8696] c9

asm_isspace:
                    cp        $20                           ;[8697] fe 20
                    ret       z                             ;[8699] c8
                    cp        $09                           ;[869a] fe 09
                    ret       c                             ;[869c] d8
                    cp        $0e                           ;[869d] fe 0e
                    ccf                                     ;[869f] 3f
                    ret                                     ;[86a0] c9

                    exx                                     ;[86a1] d9
l_divu_32_32x32:
                    ld        a,d                           ;[86a2] 7a
                    or        e                             ;[86a3] b3
                    or        h                             ;[86a4] b4
                    or        l                             ;[86a5] b5
                    jr        z,divide_zero                 ;[86a6] 28 42
l0_divu_32_32x32:
                    xor       a                             ;[86a8] af
                    push      hl                            ;[86a9] e5
                    exx                                     ;[86aa] d9
                    ld        b,h                           ;[86ab] 44
                    ld        c,l                           ;[86ac] 4d
                    pop       hl                            ;[86ad] e1
                    push      de                            ;[86ae] d5
                    ex        de,hl                         ;[86af] eb
                    ld        l,a                           ;[86b0] 6f
                    ld        h,a                           ;[86b1] 67
                    exx                                     ;[86b2] d9
                    pop       bc                            ;[86b3] c1
                    ld        l,a                           ;[86b4] 6f
                    ld        h,a                           ;[86b5] 67
l1_small_divu_32_32x32:
                    ld        a,b                           ;[86b6] 78
                    ld        b,$20                         ;[86b7] 06 20
loop_0:
                    exx                                     ;[86b9] d9
                    rl        c                             ;[86ba] cb 11
                    rl        b                             ;[86bc] cb 10
                    exx                                     ;[86be] d9
                    rl        c                             ;[86bf] cb 11
                    rla                                     ;[86c1] 17
                    exx                                     ;[86c2] d9
                    adc       hl,hl                         ;[86c3] ed 6a
                    exx                                     ;[86c5] d9
                    adc       hl,hl                         ;[86c6] ed 6a
                    exx                                     ;[86c8] d9
                    sbc       hl,de                         ;[86c9] ed 52
                    exx                                     ;[86cb] d9
                    sbc       hl,de                         ;[86cc] ed 52
                    jr        nc,loop_1                     ;[86ce] 30 05
                    exx                                     ;[86d0] d9
                    add       hl,de                         ;[86d1] 19
                    exx                                     ;[86d2] d9
                    adc       hl,de                         ;[86d3] ed 5a
loop_1:
                    ccf                                     ;[86d5] 3f
                    djnz      loop_0                        ;[86d6] 10 e1
                    exx                                     ;[86d8] d9
                    rl        c                             ;[86d9] cb 11
                    rl        b                             ;[86db] cb 10
                    exx                                     ;[86dd] d9
                    rl        c                             ;[86de] cb 11
                    rla                                     ;[86e0] 17
                    push      hl                            ;[86e1] e5
                    exx                                     ;[86e2] d9
                    pop       de                            ;[86e3] d1
                    push      bc                            ;[86e4] c5
                    exx                                     ;[86e5] d9
                    pop       hl                            ;[86e6] e1
                    ld        e,c                           ;[86e7] 59
                    ld        d,a                           ;[86e8] 57
                    ret                                     ;[86e9] c9

divide_zero:
                    dec       de                            ;[86ea] 1b
                    jp        error_divide_by_zero_mc       ;[86eb] c3 2d 87
l_divu_64_64x8:
                    ld        a,c                           ;[86ee] 79
                    or        a                             ;[86ef] b7
                    jr        z,divide_by_zero              ;[86f0] 28 1c
l0_divu_64_64x8:
                    xor       a                             ;[86f2] af
                    ld        b,$40                         ;[86f3] 06 40
loop_11:
                    add       hl,hl                         ;[86f5] 29
                    rl        e                             ;[86f6] cb 13
                    rl        d                             ;[86f8] cb 12
                    exx                                     ;[86fa] d9
                    adc       hl,hl                         ;[86fb] ed 6a
                    rl        e                             ;[86fd] cb 13
                    rl        d                             ;[86ff] cb 12
                    exx                                     ;[8701] d9
                    rla                                     ;[8702] 17
                    jr        c,loop_02                     ;[8703] 38 03
                    cp        c                             ;[8705] b9
                    jr        c,loop_03                     ;[8706] 38 02
loop_02:
                    sub       c                             ;[8708] 91
                    inc       l                             ;[8709] 2c
loop_03:
                    djnz      loop_11                       ;[870a] 10 e9
                    or        a                             ;[870c] b7
                    ret                                     ;[870d] c9

divide_by_zero:
                    call      error_llmc                    ;[870e] cd 40 87
                    jp        error_divide_by_zero_mc       ;[8711] c3 2d 87
                    pop       hl                            ;[8714] e1
                    pop       hl                            ;[8715] e1
                    pop       hl                            ;[8716] e1
error_einval_zc:
                    ld        l,$ff                         ;[8717] 2e ff
errno_zc:
                    ld        h,$00                         ;[8719] 26 00
                    ld        (_errno),hl                   ;[871b] 22 f9 87
                    jp        error_zc                      ;[871e] c3 25 87
                    pop       hl                            ;[8721] e1
                    pop       hl                            ;[8722] e1
                    pop       hl                            ;[8723] e1
                    pop       hl                            ;[8724] e1
error_zc:
                    ld        hl,$0000                      ;[8725] 21 00 00
                    scf                                     ;[8728] 37
                    ret                                     ;[8729] c9

                    pop       hl                            ;[872a] e1
                    pop       hl                            ;[872b] e1
                    pop       hl                            ;[872c] e1
error_divide_by_zero_mc:
                    ld        l,$ff                         ;[872d] 2e ff
errno_mc:
                    ld        h,$00                         ;[872f] 26 00
                    ld        (_errno),hl                   ;[8731] 22 f9 87
                    jp        error_mc                      ;[8734] c3 3a 87
                    pop       hl                            ;[8737] e1
                    pop       hl                            ;[8738] e1
                    pop       hl                            ;[8739] e1
error_mc:
                    ld        hl,$ffff                      ;[873a] 21 ff ff
                    scf                                     ;[873d] 37
                    ret                                     ;[873e] c9

                    pop       hl                            ;[873f] e1
error_llmc:
                    exx                                     ;[8740] d9
                    call      error_lmc                     ;[8741] cd 49 87
                    exx                                     ;[8744] d9
                    jp        error_lmc                     ;[8745] c3 49 87
                    pop       hl                            ;[8748] e1
error_lmc:
                    ld        de,$ffff                      ;[8749] 11 ff ff
                    jp        error_mc                      ;[874c] c3 3a 87
asm_atoi:
                    call      l_eat_ws                      ;[874f] cd c1 80
asm0_atoi:
                    call      l_eat_sign                    ;[8752] cd b5 80
                    jr        nc,not_negative               ;[8755] 30 08
                    call      not_negative                  ;[8757] cd 5f 87
                    jp        nc,l_neg_hl                   ;[875a] d2 08 81
                    inc       hl                            ;[875d] 23
                    ret                                     ;[875e] c9

not_negative:
                    ex        de,hl                         ;[875f] eb
                    call      l_atou                        ;[8760] cd e0 80
                    jr        c,overflow_asm_atoi           ;[8763] 38 04
                    bit       7,h                           ;[8765] cb 7c
                    ret       z                             ;[8767] c8
                    scf                                     ;[8768] 37
overflow_asm_atoi:
                    ld        hl,$7fff                      ;[8769] 21 ff 7f
                    ret                                     ;[876c] c9

asm_ulltoa:
                    ld        a,ixh                         ;[876d] dd 7c
                    or        ixl                           ;[876f] dd b5
                    jp        z,error_zc                    ;[8771] ca 25 87
asm0_ulltoa:
                    call      l_valid_base                  ;[8774] cd d3 80
                    jp        nc,error_einval_zc            ;[8777] d2 17 87
asm1_ulltoa:
                    xor       a                             ;[877a] af
                    push      af                            ;[877b] f5
compute_lp:
                    push      bc                            ;[877c] c5
                    call      l0_divu_64_64x8               ;[877d] cd f2 86
                    pop       bc                            ;[8780] c1
                    call      l_num2char                    ;[8781] cd c9 80
                    scf                                     ;[8784] 37
                    push      af                            ;[8785] f5
                    call      l_testzero_64_dehldehl        ;[8786] cd aa 80
                    jr        nz,compute_lp                 ;[8789] 20 f1
                    push      ix                            ;[878b] dd e5
                    pop       hl                            ;[878d] e1
write_lp:
                    pop       af                            ;[878e] f1
                    ld        (hl),a                        ;[878f] 77
                    inc       hl                            ;[8790] 23
                    jr        c,write_lp                    ;[8791] 38 fb
                    dec       hl                            ;[8793] 2b
                    ret                                     ;[8794] c9

asm_strlen:
                    xor       a                             ;[8795] af
                    ld        c,a                           ;[8796] 4f
                    ld        b,a                           ;[8797] 47
                    cpir                                    ;[8798] ed b1
                    ld        hl,$ffff                      ;[879a] 21 ff ff
                    sbc       hl,bc                         ;[879d] ed 42
                    ret                                     ;[879f] c9

i_1:
                    defb      $48                           ;[87a0] 48
                    defb      $65                           ;[87a1] 65
                    defb      $6c                           ;[87a2] 6c
                    defb      $6c                           ;[87a3] 6c
                    defb      $6f                           ;[87a4] 6f
                    defb      $2c                           ;[87a5] 2c
                    defb      $20                           ;[87a6] 20
                    defb      $77                           ;[87a7] 77
                    defb      $6f                           ;[87a8] 6f
                    defb      $72                           ;[87a9] 72
                    defb      $6c                           ;[87aa] 6c
                    defb      $64                           ;[87ab] 64
                    defb      $21                           ;[87ac] 21
                    defb      $0a                           ;[87ad] 0a
                    defb      $28                           ;[87ae] 28
                    defb      $68                           ;[87af] 68
                    defb      $69                           ;[87b0] 69
                    defb      $74                           ;[87b1] 74
                    defb      $20                           ;[87b2] 20
                    defb      $61                           ;[87b3] 61
                    defb      $6e                           ;[87b4] 6e
                    defb      $79                           ;[87b5] 79
                    defb      $20                           ;[87b6] 20
                    defb      $6b                           ;[87b7] 6b
                    defb      $65                           ;[87b8] 65
                    defb      $79                           ;[87b9] 79
                    defb      $29                           ;[87ba] 29
                    defb      $0a                           ;[87bb] 0a
                    defb      $00                           ;[87bc] 00
__printf_format_table:
                    defb      $73                           ;[87bd] 73
                    defb      $97                           ;[87be] 97
                    defb      $84                           ;[87bf] 84
                    defb      $63                           ;[87c0] 63
                    defb      $25                           ;[87c1] 25
                    defb      $84                           ;[87c2] 84
                    defb      $64                           ;[87c3] 64
                    defb      $31                           ;[87c4] 31
                    defb      $84                           ;[87c5] 84
                    defb      $75                           ;[87c6] 75
                    defb      $bf                           ;[87c7] bf
                    defb      $84                           ;[87c8] 84
                    defb      $78                           ;[87c9] 78
                    defb      $c4                           ;[87ca] c4
                    defb      $84                           ;[87cb] 84
                    defb      $6f                           ;[87cc] 6f
                    defb      $8e                           ;[87cd] 8e
                    defb      $84                           ;[87ce] 84
                    defb      $70                           ;[87cf] 70
                    defb      $c4                           ;[87d0] c4
                    defb      $84                           ;[87d1] 84
                    defb      $58                           ;[87d2] 58
                    defb      $14                           ;[87d3] 14
                    defb      $84                           ;[87d4] 84
                    defb      $6e                           ;[87d5] 6e
                    defb      $7d                           ;[87d6] 7d
                    defb      $84                           ;[87d7] 84
                    defb      $42                           ;[87d8] 42
                    defb      $07                           ;[87d9] 07
                    defb      $84                           ;[87da] 84
                    defb      $6c                           ;[87db] 6c
                    defb      $36                           ;[87dc] 36
                    defb      $84                           ;[87dd] 84
                    defb      $00                           ;[87de] 00
__printf_format_table64:
                    defb      $64                           ;[87df] 64
                    defb      $5d                           ;[87e0] 5d
                    defb      $84                           ;[87e1] 84
                    defb      $75                           ;[87e2] 75
                    defb      $6b                           ;[87e3] 6b
                    defb      $84                           ;[87e4] 84
                    defb      $78                           ;[87e5] 78
                    defb      $70                           ;[87e6] 70
                    defb      $84                           ;[87e7] 84
                    defb      $6f                           ;[87e8] 6f
                    defb      $62                           ;[87e9] 62
                    defb      $84                           ;[87ea] 84
                    defb      $58                           ;[87eb] 58
                    defb      $4c                           ;[87ec] 4c
                    defb      $84                           ;[87ed] 84
                    defb      $42                           ;[87ee] 42
                    defb      $3f                           ;[87ef] 3f
                    defb      $84                           ;[87f0] 84
                    defb      $00                           ;[87f1] 00
nullstr:
                    defb      $28                           ;[87f2] 28
                    defb      $6e                           ;[87f3] 6e
                    defb      $75                           ;[87f4] 75
                    defb      $6c                           ;[87f5] 6c
                    defb      $6c                           ;[87f6] 6c
                    defb      $29                           ;[87f7] 29
                    defb      $00                           ;[87f8] 00
_errno:
                    defb      $00                           ;[87f9] 00
                    defb      $00                           ;[87fa] 00
__sgoioblk:
                    defb      $00                           ;[87fb] 00
                    defb      $00                           ;[87fc] 00
                    defb      $00                           ;[87fd] 00
                    defb      $00                           ;[87fe] 00
                    defb      $00                           ;[87ff] 00
                    defb      $00                           ;[8800] 00
                    defb      $00                           ;[8801] 00
                    defb      $00                           ;[8802] 00
                    defb      $00                           ;[8803] 00
                    defb      $00                           ;[8804] 00
                    defb      $00                           ;[8805] 00
                    defb      $00                           ;[8806] 00
                    defb      $00                           ;[8807] 00
                    defb      $00                           ;[8808] 00
                    defb      $00                           ;[8809] 00
                    defb      $00                           ;[880a] 00
                    defb      $00                           ;[880b] 00
                    defb      $00                           ;[880c] 00
                    defb      $00                           ;[880d] 00
                    defb      $00                           ;[880e] 00
                    defb      $00                           ;[880f] 00
                    defb      $00                           ;[8810] 00
                    defb      $00                           ;[8811] 00
                    defb      $00                           ;[8812] 00
                    defb      $00                           ;[8813] 00
                    defb      $00                           ;[8814] 00
                    defb      $00                           ;[8815] 00
                    defb      $00                           ;[8816] 00
                    defb      $00                           ;[8817] 00
                    defb      $00                           ;[8818] 00
                    defb      $00                           ;[8819] 00
                    defb      $00                           ;[881a] 00
                    defb      $00                           ;[881b] 00
                    defb      $00                           ;[881c] 00
                    defb      $00                           ;[881d] 00
                    defb      $00                           ;[881e] 00
                    defb      $00                           ;[881f] 00
                    defb      $00                           ;[8820] 00
                    defb      $00                           ;[8821] 00
                    defb      $00                           ;[8822] 00
                    defb      $00                           ;[8823] 00
                    defb      $00                           ;[8824] 00
                    defb      $00                           ;[8825] 00
                    defb      $00                           ;[8826] 00
                    defb      $00                           ;[8827] 00
                    defb      $00                           ;[8828] 00
                    defb      $00                           ;[8829] 00
                    defb      $00                           ;[882a] 00
                    defb      $00                           ;[882b] 00
                    defb      $00                           ;[882c] 00
                    defb      $00                           ;[882d] 00
                    defb      $00                           ;[882e] 00
                    defb      $00                           ;[882f] 00
                    defb      $00                           ;[8830] 00
                    defb      $00                           ;[8831] 00
                    defb      $00                           ;[8832] 00
                    defb      $00                           ;[8833] 00
                    defb      $00                           ;[8834] 00
                    defb      $00                           ;[8835] 00
                    defb      $00                           ;[8836] 00
                    defb      $00                           ;[8837] 00
                    defb      $00                           ;[8838] 00
                    defb      $00                           ;[8839] 00
                    defb      $00                           ;[883a] 00
                    defb      $00                           ;[883b] 00
                    defb      $00                           ;[883c] 00
                    defb      $00                           ;[883d] 00
                    defb      $00                           ;[883e] 00
                    defb      $00                           ;[883f] 00
                    defb      $00                           ;[8840] 00
                    defb      $00                           ;[8841] 00
                    defb      $00                           ;[8842] 00
                    defb      $00                           ;[8843] 00
                    defb      $00                           ;[8844] 00
                    defb      $00                           ;[8845] 00
                    defb      $00                           ;[8846] 00
                    defb      $00                           ;[8847] 00
                    defb      $00                           ;[8848] 00
                    defb      $00                           ;[8849] 00
                    defb      $00                           ;[884a] 00
                    defb      $00                           ;[884b] 00
                    defb      $00                           ;[884c] 00
                    defb      $00                           ;[884d] 00
                    defb      $00                           ;[884e] 00
                    defb      $00                           ;[884f] 00
                    defb      $00                           ;[8850] 00
                    defb      $00                           ;[8851] 00
                    defb      $00                           ;[8852] 00
                    defb      $00                           ;[8853] 00
                    defb      $00                           ;[8854] 00
                    defb      $00                           ;[8855] 00
                    defb      $00                           ;[8856] 00
                    defb      $00                           ;[8857] 00
                    defb      $00                           ;[8858] 00
                    defb      $00                           ;[8859] 00
                    defb      $00                           ;[885a] 00
                    defb      $00                           ;[885b] 00
                    defb      $00                           ;[885c] 00
                    defb      $00                           ;[885d] 00
                    defb      $00                           ;[885e] 00
__sgoioblk_end:
                    defb      $00                           ;[885f] 00
                    defb      $00                           ;[8860] 00
__exit_atexit_count:
                    defb      $00                           ;[8861] 00
__exit_atexit_funcs:
                    defb      $00                           ;[8862] 00
                    defb      $00                           ;[8863] 00
                    defb      $00                           ;[8864] 00
