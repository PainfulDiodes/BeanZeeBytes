start:
                    call      crt0_init                     ;[8000] cd 66 80
                    ld        hl,$ffc0                      ;[8003] 21 c0 ff
                    add       hl,sp                         ;[8006] 39
                    ld        sp,hl                         ;[8007] f9
                    ld        (__exit_atexit_funcs),hl      ;[8008] 22 3f 88
                    call      _main                         ;[800b] cd 8a 81
__Exit:
                    call      crt0_exit                     ;[800e] cd 83 80
                    jp        WARMSTART                     ;[8011] c3 10 00
l_dcal:
                    jp        (hl)                          ;[8014] e9
_fputc_cons:
                    pop       bc                            ;[8015] c1
                    pop       hl                            ;[8016] e1
                    push      hl                            ;[8017] e5
                    push      bc                            ;[8018] c5
                    ld        a,l                           ;[8019] 7d
                    call      putchar_beanboard             ;[801a] cd 45 00
                    ret                                     ;[801d] c9

_fgetc_cons:
                    call      getchar_beanboard             ;[801e] cd 23 00
                    ld        l,a                           ;[8021] 6f
                    ld        h,$00                         ;[8022] 26 00
                    ret                                     ;[8024] c9

_marvin_readchar:
                    call      readchar_beanboard            ;[8025] cd 2b 00
                    ld        h,$00                         ;[8028] 26 00
                    ld        l,a                           ;[802a] 6f
                    ret                                     ;[802b] c9

_marvin_lcd_putchar:
                    pop       bc                            ;[802c] c1
                    pop       hl                            ;[802d] e1
                    push      hl                            ;[802e] e5
                    push      bc                            ;[802f] c5
                    ld        a,l                           ;[8030] 7d
                    call      lcd_putchar_beanboard         ;[8031] cd 48 02
                    ret                                     ;[8034] c9

_marvin_lcd_putcmd:
                    pop       bc                            ;[8035] c1
                    pop       hl                            ;[8036] e1
                    push      hl                            ;[8037] e5
                    push      bc                            ;[8038] c5
                    ld        a,l                           ;[8039] 7d
                    call      lcd_putcmd_beanboard          ;[803a] cd 32 02
                    ret                                     ;[803d] c9

_marvin_lcd_init:
                    call      lcd_init_beanboard            ;[803e] cd 1b 02
                    ret                                     ;[8041] c9

_marvin_lcd_puts:
                    pop       bc                            ;[8042] c1
                    pop       hl                            ;[8043] e1
                    push      hl                            ;[8044] e5
                    push      bc                            ;[8045] c5
                    call      lcd_puts_beanboard            ;[8046] cd c3 02
                    ret                                     ;[8049] c9

_marvin_gpio_in:
                    in        a,($07)                       ;[804a] db 07
                    ld        h,$00                         ;[804c] 26 00
                    ld        l,a                           ;[804e] 6f
                    ret                                     ;[804f] c9

_marvin_gpio_out:
                    pop       bc                            ;[8050] c1
                    pop       hl                            ;[8051] e1
                    push      hl                            ;[8052] e5
                    push      bc                            ;[8053] c5
                    ld        a,l                           ;[8054] 7d
                    out       ($06),a                       ;[8055] d3 06
                    ret                                     ;[8057] c9

_marvin_keyscan_in:
                    in        a,($03)                       ;[8058] db 03
                    ld        h,$00                         ;[805a] 26 00
                    ld        l,a                           ;[805c] 6f
                    ret                                     ;[805d] c9

_marvin_keyscan_out:
                    pop       bc                            ;[805e] c1
                    pop       hl                            ;[805f] e1
                    push      hl                            ;[8060] e5
                    push      bc                            ;[8061] c5
                    ld        a,l                           ;[8062] 7d
                    out       ($02),a                       ;[8063] d3 02
                    ret                                     ;[8065] c9

crt0_init:
                    xor       a                             ;[8066] af
                    ld        hl,$87d6                      ;[8067] 21 d6 87
                    ld        bc,$006a                      ;[806a] 01 6a 00
                    ld        de,$87d7                      ;[806d] 11 d7 87
                    ld        (hl),a                        ;[8070] 77
                    ldir                                    ;[8071] ed b0
                    ld        hl,$87da                      ;[8073] 21 da 87
                    ld        (hl),$12                      ;[8076] 36 12
                    ld        hl,$87e4                      ;[8078] 21 e4 87
                    ld        (hl),$14                      ;[807b] 36 14
                    ld        hl,$87ee                      ;[807d] 21 ee 87
                    ld        (hl),$14                      ;[8080] 36 14
                    ret                                     ;[8082] c9

crt0_exit:
                    ret                                     ;[8083] c9

l_long_neg:
                    ld        a,l                           ;[8084] 7d
                    cpl                                     ;[8085] 2f
                    ld        l,a                           ;[8086] 6f
                    ld        a,h                           ;[8087] 7c
                    cpl                                     ;[8088] 2f
                    ld        h,a                           ;[8089] 67
                    ld        a,e                           ;[808a] 7b
                    cpl                                     ;[808b] 2f
                    ld        e,a                           ;[808c] 5f
                    ld        a,d                           ;[808d] 7a
                    cpl                                     ;[808e] 2f
                    ld        d,a                           ;[808f] 57
                    inc       l                             ;[8090] 2c
                    ret       nz                            ;[8091] c0
                    inc       h                             ;[8092] 24
                    ret       nz                            ;[8093] c0
                    inc       de                            ;[8094] 13
                    ret                                     ;[8095] c9

l_load_64_dehldehl_mbc:
                    call      again_l_load_64_dehldehl_mbc  ;[8096] cd 99 80
again_l_load_64_dehldehl_mbc:
                    ld        a,(bc)                        ;[8099] 0a
                    inc       bc                            ;[809a] 03
                    ld        l,a                           ;[809b] 6f
                    ld        a,(bc)                        ;[809c] 0a
                    inc       bc                            ;[809d] 03
                    ld        h,a                           ;[809e] 67
                    ld        a,(bc)                        ;[809f] 0a
                    inc       bc                            ;[80a0] 03
                    ld        e,a                           ;[80a1] 5f
                    ld        a,(bc)                        ;[80a2] 0a
                    inc       bc                            ;[80a3] 03
                    ld        d,a                           ;[80a4] 57
                    push      bc                            ;[80a5] c5
                    exx                                     ;[80a6] d9
                    pop       bc                            ;[80a7] c1
                    ret                                     ;[80a8] c9

l_neg_64_mhl:
                    push      hl                            ;[80a9] e5
                    call      l_cpl_64_mhl                  ;[80aa] cd c5 80
                    pop       hl                            ;[80ad] e1
                    inc       (hl)                          ;[80ae] 34
                    ret       nz                            ;[80af] c0
                    inc       hl                            ;[80b0] 23
                    inc       (hl)                          ;[80b1] 34
                    ret       nz                            ;[80b2] c0
                    inc       hl                            ;[80b3] 23
                    inc       (hl)                          ;[80b4] 34
                    ret       nz                            ;[80b5] c0
                    inc       hl                            ;[80b6] 23
                    inc       (hl)                          ;[80b7] 34
                    ret       nz                            ;[80b8] c0
                    inc       hl                            ;[80b9] 23
                    inc       (hl)                          ;[80ba] 34
                    ret       nz                            ;[80bb] c0
                    inc       hl                            ;[80bc] 23
                    inc       (hl)                          ;[80bd] 34
                    ret       nz                            ;[80be] c0
                    inc       hl                            ;[80bf] 23
                    inc       (hl)                          ;[80c0] 34
                    ret       nz                            ;[80c1] c0
                    inc       hl                            ;[80c2] 23
                    inc       (hl)                          ;[80c3] 34
                    ret                                     ;[80c4] c9

l_cpl_64_mhl:
                    call      again_l_cpl_64_mhl            ;[80c5] cd c8 80
again_l_cpl_64_mhl:
                    ld        a,(hl)                        ;[80c8] 7e
                    cpl                                     ;[80c9] 2f
                    ld        (hl),a                        ;[80ca] 77
                    inc       hl                            ;[80cb] 23
                    ld        a,(hl)                        ;[80cc] 7e
                    cpl                                     ;[80cd] 2f
                    ld        (hl),a                        ;[80ce] 77
                    inc       hl                            ;[80cf] 23
                    ld        a,(hl)                        ;[80d0] 7e
                    cpl                                     ;[80d1] 2f
                    ld        (hl),a                        ;[80d2] 77
                    inc       hl                            ;[80d3] 23
                    ld        a,(hl)                        ;[80d4] 7e
                    cpl                                     ;[80d5] 2f
                    ld        (hl),a                        ;[80d6] 77
                    inc       hl                            ;[80d7] 23
                    ret                                     ;[80d8] c9

l_testzero_64_dehldehl:
                    exx                                     ;[80d9] d9
                    ld        a,d                           ;[80da] 7a
                    or        e                             ;[80db] b3
                    or        h                             ;[80dc] b4
                    or        l                             ;[80dd] b5
                    exx                                     ;[80de] d9
                    or        d                             ;[80df] b2
                    or        e                             ;[80e0] b3
                    or        h                             ;[80e1] b4
                    or        l                             ;[80e2] b5
                    ret                                     ;[80e3] c9

l_eat_sign:
                    ld        a,(hl)                        ;[80e4] 7e
                    inc       hl                            ;[80e5] 23
                    cp        $2b                           ;[80e6] fe 2b
                    ret       z                             ;[80e8] c8
                    cp        $2d                           ;[80e9] fe 2d
                    scf                                     ;[80eb] 37
                    ret       z                             ;[80ec] c8
                    dec       hl                            ;[80ed] 2b
                    or        a                             ;[80ee] b7
                    ret                                     ;[80ef] c9

l_eat_ws:
                    ld        a,(hl)                        ;[80f0] 7e
                    call      asm_isspace                   ;[80f1] cd 63 86
                    ret       c                             ;[80f4] d8
                    inc       hl                            ;[80f5] 23
                    jr        l_eat_ws                      ;[80f6] 18 f8
l_num2char:
                    cp        $0a                           ;[80f8] fe 0a
                    jr        nc,alpha                      ;[80fa] 30 03
                    add       $30                           ;[80fc] c6 30
                    ret                                     ;[80fe] c9

alpha:
                    add       $37                           ;[80ff] c6 37
                    ret                                     ;[8101] c9

l_valid_base:
                    ld        a,b                           ;[8102] 78
                    or        a                             ;[8103] b7
                    ret       nz                            ;[8104] c0
                    or        c                             ;[8105] b1
                    ret       z                             ;[8106] c8
                    ld        a,c                           ;[8107] 79
                    cp        $25                           ;[8108] fe 25
                    ret       nc                            ;[810a] d0
                    cp        $02                           ;[810b] fe 02
                    ccf                                     ;[810d] 3f
                    ret                                     ;[810e] c9

l_atou:
                    ld        hl,$0000                      ;[810f] 21 00 00
                    dec       de                            ;[8112] 1b
                    push      hl                            ;[8113] e5
loop:
                    pop       af                            ;[8114] f1
                    inc       de                            ;[8115] 13
                    ld        a,(de)                        ;[8116] 1a
                    sub       $30                           ;[8117] d6 30
                    ccf                                     ;[8119] 3f
                    ret       nc                            ;[811a] d0
                    cp        $0a                           ;[811b] fe 0a
                    ret       nc                            ;[811d] d0
                    push      hl                            ;[811e] e5
                    add       hl,hl                         ;[811f] 29
                    jr        c,overflow_l_small_atou       ;[8120] 38 12
                    ld        c,l                           ;[8122] 4d
                    ld        b,h                           ;[8123] 44
                    add       hl,hl                         ;[8124] 29
                    jr        c,overflow_l_small_atou       ;[8125] 38 0d
                    add       hl,hl                         ;[8127] 29
                    jr        c,overflow_l_small_atou       ;[8128] 38 0a
                    add       hl,bc                         ;[812a] 09
                    jr        c,overflow_l_small_atou       ;[812b] 38 07
                    add       l                             ;[812d] 85
                    ld        l,a                           ;[812e] 6f
                    jr        nc,loop                       ;[812f] 30 e3
                    inc       h                             ;[8131] 24
                    jr        nz,loop                       ;[8132] 20 e0
overflow_l_small_atou:
                    pop       hl                            ;[8134] e1
                    scf                                     ;[8135] 37
                    ret                                     ;[8136] c9

l_neg_hl:
                    ld        a,l                           ;[8137] 7d
                    cpl                                     ;[8138] 2f
                    ld        l,a                           ;[8139] 6f
                    ld        a,h                           ;[813a] 7c
                    cpl                                     ;[813b] 2f
                    ld        h,a                           ;[813c] 67
                    inc       hl                            ;[813d] 23
                    ret                                     ;[813e] c9

l_long_mod_u:
                    and       a                             ;[813f] a7
                    jr        common                        ;[8140] 18 01
l_long_div_u:
                    scf                                     ;[8142] 37
common:
                    exx                                     ;[8143] d9
                    pop       bc                            ;[8144] c1
                    pop       hl                            ;[8145] e1
                    pop       de                            ;[8146] d1
                    push      bc                            ;[8147] c5
                    jp        c,$866d                       ;[8148] da 6d 86
                    call      $866d                         ;[814b] cd 6d 86
                    exx                                     ;[814e] d9
                    ret                                     ;[814f] c9

l_int2long_s:
                    ld        de,$0000                      ;[8150] 11 00 00
                    bit       7,h                           ;[8153] cb 7c
                    ret       z                             ;[8155] c8
                    dec       de                            ;[8156] 1b
                    ret                                     ;[8157] c9

l_gchar3:
                    inc       hl                            ;[8158] 23
l_gchar2:
                    inc       hl                            ;[8159] 23
l_gchar1:
                    inc       hl                            ;[815a] 23
l_gchar:
                    ld        a,(hl)                        ;[815b] 7e
l_gchar_sxt:
                    ld        l,a                           ;[815c] 6f
                    rlca                                    ;[815d] 07
                    sbc       a                             ;[815e] 9f
                    ld        h,a                           ;[815f] 67
                    ret                                     ;[8160] c9

l_ge:
                    ld        a,h                           ;[8161] 7c
                    add       $80                           ;[8162] c6 80
                    ld        b,a                           ;[8164] 47
                    ld        a,d                           ;[8165] 7a
                    add       $80                           ;[8166] c6 80
                    cp        b                             ;[8168] b8
                    ccf                                     ;[8169] 3f
                    jp        nz,l_compare_result           ;[816a] c2 73 81
                    ld        a,e                           ;[816d] 7b
                    cp        l                             ;[816e] bd
                    ccf                                     ;[816f] 3f
                    jp        l_compare_result              ;[8170] c3 73 81
l_compare_result:
                    ld        hl,$0000                      ;[8173] 21 00 00
                    ret       nc                            ;[8176] d0
                    inc       hl                            ;[8177] 23
                    ret                                     ;[8178] c9

l_jphl:
                    jp        (hl)                          ;[8179] e9
                    pop       hl                            ;[817a] e1
                    pop       hl                            ;[817b] e1
                    pop       hl                            ;[817c] e1
__printf_pickup_far:
                    ret                                     ;[817d] c9

l_uge:
                    ld        a,d                           ;[817e] 7a
                    cp        h                             ;[817f] bc
                    ccf                                     ;[8180] 3f
                    jp        nz,l_compare_result           ;[8181] c2 73 81
                    ld        a,e                           ;[8184] 7b
                    cp        l                             ;[8185] bd
                    ccf                                     ;[8186] 3f
                    jp        l_compare_result              ;[8187] c3 73 81
_main:
                    ld        hl,$0038                      ;[818a] 21 38 00
                    push      hl                            ;[818d] e5
                    call      _marvin_lcd_putcmd            ;[818e] cd 35 80
                    ld        hl,$000f                      ;[8191] 21 0f 00
                    ex        (sp),hl                       ;[8194] e3
                    call      _marvin_lcd_putcmd            ;[8195] cd 35 80
                    ld        hl,$0001                      ;[8198] 21 01 00
                    ex        (sp),hl                       ;[819b] e3
                    call      _marvin_lcd_putcmd            ;[819c] cd 35 80
                    ld        hl,$00d4                      ;[819f] 21 d4 00
                    ex        (sp),hl                       ;[81a2] e3
                    call      _marvin_lcd_putcmd            ;[81a3] cd 35 80
                    pop       bc                            ;[81a6] c1
                    ld        hl,$876c                      ;[81a7] 21 6c 87
                    push      hl                            ;[81aa] e5
                    ld        a,$01                         ;[81ab] 3e 01
                    call      printf                        ;[81ad] cd 6e 82
                    pop       bc                            ;[81b0] c1
                    dec       sp                            ;[81b1] 3b
i_2:
                    ld        hl,$0000                      ;[81b2] 21 00 00
                    add       hl,sp                         ;[81b5] 39
                    push      hl                            ;[81b6] e5
                    call      _fgetc_cons                   ;[81b7] cd 1e 80
                    ld        a,l                           ;[81ba] 7d
                    pop       de                            ;[81bb] d1
                    ld        (de),a                        ;[81bc] 12
                    ld        hl,$0000                      ;[81bd] 21 00 00
                    add       hl,sp                         ;[81c0] 39
                    call      l_gchar                       ;[81c1] cd 5b 81
                    ld        de,$001b                      ;[81c4] 11 1b 00
                    and       a                             ;[81c7] a7
                    sbc       hl,de                         ;[81c8] ed 52
                    jp        z,i_3                         ;[81ca] ca dc 81
i_4:
                    ld        hl,$0000                      ;[81cd] 21 00 00
                    add       hl,sp                         ;[81d0] 39
                    call      l_gchar                       ;[81d1] cd 5b 81
                    push      hl                            ;[81d4] e5
                    call      _marvin_lcd_putchar           ;[81d5] cd 2c 80
                    pop       bc                            ;[81d8] c1
                    jp        i_2                           ;[81d9] c3 b2 81
i_3:
                    call      _marvin_lcd_init              ;[81dc] cd 3e 80
                    inc       sp                            ;[81df] 33
                    ret                                     ;[81e0] c9

_fputc_callee:
                    pop       de                            ;[81e1] d1
                    pop       hl                            ;[81e2] e1
                    pop       bc                            ;[81e3] c1
                    push      de                            ;[81e4] d5
                    push      ix                            ;[81e5] dd e5
                    push      hl                            ;[81e7] e5
                    pop       ix                            ;[81e8] dd e1
                    call      asm_fputc_callee              ;[81ea] cd f0 81
                    pop       ix                            ;[81ed] dd e1
                    ret                                     ;[81ef] c9

asm_fputc_callee:
                    ld        hl,$ffff                      ;[81f0] 21 ff ff
                    ld        a,(ix+$02)                    ;[81f3] dd 7e 02
                    and       a                             ;[81f6] a7
                    ret       z                             ;[81f7] c8
                    ld        a,(ix+$02)                    ;[81f8] dd 7e 02
                    and       $80                           ;[81fb] e6 80
                    jr        z,no_string                   ;[81fd] 28 26
                    ld        e,(ix+$04)                    ;[81ff] dd 5e 04
                    ld        d,(ix+$05)                    ;[8202] dd 56 05
                    ld        a,d                           ;[8205] 7a
                    or        e                             ;[8206] b3
                    jr        nz,print_char_to_buf          ;[8207] 20 03
                    ex        de,hl                         ;[8209] eb
                    dec       hl                            ;[820a] 2b
                    ret                                     ;[820b] c9

print_char_to_buf:
                    dec       de                            ;[820c] 1b
                    ld        (ix+$04),e                    ;[820d] dd 73 04
                    ld        (ix+$05),d                    ;[8210] dd 72 05
                    ld        l,(ix+$00)                    ;[8213] dd 6e 00
                    ld        h,(ix+$01)                    ;[8216] dd 66 01
                    ld        (hl),c                        ;[8219] 71
                    inc       hl                            ;[821a] 23
                    ld        (ix+$00),l                    ;[821b] dd 75 00
                    ld        (ix+$01),h                    ;[821e] dd 74 01
                    ld        l,c                           ;[8221] 69
                    ld        h,$00                         ;[8222] 26 00
                    ret                                     ;[8224] c9

no_string:
                    ld        a,(ix+$02)                    ;[8225] dd 7e 02
                    and       $20                           ;[8228] e6 20
                    jr        z,no_net                      ;[822a] 28 0e
                    ld        l,(ix+$04)                    ;[822c] dd 6e 04
                    ld        h,(ix+$05)                    ;[822f] dd 66 05
                    ld        a,$02                         ;[8232] 3e 02
                    push      bc                            ;[8234] c5
                    call      l_jphl                        ;[8235] cd 79 81
                    pop       hl                            ;[8238] e1
                    ret                                     ;[8239] c9

no_net:
                    push      ix                            ;[823a] dd e5
                    call      ___fchkstd                    ;[823c] cd 57 82
                    pop       ix                            ;[823f] dd e1
                    jr        c,no_cons                     ;[8241] 38 06
                    push      bc                            ;[8243] c5
                    call      _fputc_cons                   ;[8244] cd 15 80
                    pop       hl                            ;[8247] e1
                    ret                                     ;[8248] c9

no_cons:
                    ld        l,(ix+$00)                    ;[8249] dd 6e 00
                    ld        h,(ix+$01)                    ;[824c] dd 66 01
                    push      hl                            ;[824f] e5
                    push      bc                            ;[8250] c5
                    call      ___writebyte                  ;[8251] cd 62 86
                    pop       hl                            ;[8254] e1
                    pop       bc                            ;[8255] c1
                    ret                                     ;[8256] c9

___fchkstd:
                    pop       hl                            ;[8257] e1
                    pop       de                            ;[8258] d1
                    push      de                            ;[8259] d5
                    push      hl                            ;[825a] e5
                    ld        hl,$0000                      ;[825b] 21 00 00
                    inc       de                            ;[825e] 13
                    inc       de                            ;[825f] 13
                    ld        a,(de)                        ;[8260] 1a
                    and       $10                           ;[8261] e6 10
                    scf                                     ;[8263] 37
                    ret       z                             ;[8264] c8
                    dec       hl                            ;[8265] 2b
                    ld        a,(de)                        ;[8266] 1a
                    and       $02                           ;[8267] e6 02
                    ret       nz                            ;[8269] c0
                    inc       hl                            ;[826a] 23
                    inc       hl                            ;[826b] 23
                    and       a                             ;[826c] a7
                    ret                                     ;[826d] c9

printf:
                    ld        l,a                           ;[826e] 6f
                    ld        h,$00                         ;[826f] 26 00
                    add       hl,hl                         ;[8271] 29
                    add       hl,sp                         ;[8272] 39
                    push      ix                            ;[8273] dd e5
                    ld        bc,$87e2                      ;[8275] 01 e2 87
                    push      bc                            ;[8278] c5
                    ld        bc,$81e1                      ;[8279] 01 e1 81
                    push      bc                            ;[827c] c5
                    ld        bc,$0001                      ;[827d] 01 01 00
                    push      bc                            ;[8280] c5
                    ld        e,(hl)                        ;[8281] 5e
                    inc       hl                            ;[8282] 23
                    ld        d,(hl)                        ;[8283] 56
                    push      de                            ;[8284] d5
                    dec       hl                            ;[8285] 2b
                    dec       hl                            ;[8286] 2b
                    dec       hl                            ;[8287] 2b
                    push      hl                            ;[8288] e5
                    call      asm_printf                    ;[8289] cd 94 82
                    pop       bc                            ;[828c] c1
                    pop       bc                            ;[828d] c1
                    pop       bc                            ;[828e] c1
                    pop       bc                            ;[828f] c1
                    pop       bc                            ;[8290] c1
                    pop       ix                            ;[8291] dd e1
                    ret                                     ;[8293] c9

asm_printf:
                    ld        ix,$0000                      ;[8294] dd 21 00 00
                    add       ix,sp                         ;[8298] dd 39
                    ld        hl,$ffb0                      ;[829a] 21 b0 ff
                    add       hl,sp                         ;[829d] 39
                    ld        sp,hl                         ;[829e] f9
                    ld        e,(ix+$02)                    ;[829f] dd 5e 02
                    ld        d,(ix+$03)                    ;[82a2] dd 56 03
                    ld        l,(ix+$04)                    ;[82a5] dd 6e 04
                    ld        h,(ix+$05)                    ;[82a8] dd 66 05
                    xor       a                             ;[82ab] af
                    ld        (ix-$01),a                    ;[82ac] dd 77 ff
                    ld        (ix-$02),a                    ;[82af] dd 77 fe
                    dec       a                             ;[82b2] 3d
                    ld        (ix-$05),a                    ;[82b3] dd 77 fb
                    ld        (ix-$06),a                    ;[82b6] dd 77 fa
                    ld        (ix-$07),a                    ;[82b9] dd 77 f9
                    ld        (ix-$08),a                    ;[82bc] dd 77 f8
__printf_loop:
                    ld        (ix-$09),$0a                  ;[82bf] dd 36 f7 0a
                    xor       a                             ;[82c3] af
                    ld        (ix-$03),a                    ;[82c4] dd 77 fd
                    ld        (ix-$04),a                    ;[82c7] dd 77 fc
                    ld        (ix-$0a),a                    ;[82ca] dd 77 f6
                    ld        a,(hl)                        ;[82cd] 7e
                    inc       hl                            ;[82ce] 23
                    and       a                             ;[82cf] a7
                    jr        nz,cont                       ;[82d0] 20 07
                    ld        hl,$004e                      ;[82d2] 21 4e 00
                    add       hl,sp                         ;[82d5] 39
                    ld        sp,hl                         ;[82d6] f9
                    pop       hl                            ;[82d7] e1
__printf_get_flags_noop:
                    ret                                     ;[82d8] c9

cont:
                    cp        $25                           ;[82d9] fe 25
                    jr        z,handle_percent              ;[82db] 28 05
print_format_character:
                    call      __printf_doprint              ;[82dd] cd 25 83
                    jr        __printf_loop                 ;[82e0] 18 dd
handle_percent:
                    ld        a,(hl)                        ;[82e2] 7e
                    inc       hl                            ;[82e3] 23
                    cp        $25                           ;[82e4] fe 25
                    jr        z,print_format_character      ;[82e6] 28 f5
                    call      __printf_get_flags            ;[82e8] cd 5c 83
                    res       6,(ix-$04)                    ;[82eb] dd cb fc b6
                    cp        $7a                           ;[82ef] fe 7a
                    jr        z,get_next_char               ;[82f1] 28 14
                    cp        $68                           ;[82f3] fe 68
                    jr        nz,check_long_qualifier       ;[82f5] 20 08
                    ld        a,(hl)                        ;[82f7] 7e
                    inc       hl                            ;[82f8] 23
                    cp        $68                           ;[82f9] fe 68
                    jr        nz,no_long_qualifier          ;[82fb] 20 0c
                    jr        get_next_char                 ;[82fd] 18 08
check_long_qualifier:
                    cp        $6c                           ;[82ff] fe 6c
                    jr        nz,no_long_qualifier          ;[8301] 20 06
                    set       6,(ix-$04)                    ;[8303] dd cb fc f6
get_next_char:
                    ld        a,(hl)                        ;[8307] 7e
                    inc       hl                            ;[8308] 23
no_long_qualifier:
                    push      hl                            ;[8309] e5
                    ld        hl,$879a                      ;[830a] 21 9a 87
                    ld        c,a                           ;[830d] 4f
__printf_format_search_loop:
                    ld        a,(hl)                        ;[830e] 7e
                    and       a                             ;[830f] a7
                    jr        z,no_format_found             ;[8310] 28 0f
                    cp        c                             ;[8312] b9
                    jr        nz,no_format_match            ;[8313] 20 07
                    inc       hl                            ;[8315] 23
                    ld        c,(hl)                        ;[8316] 4e
                    inc       hl                            ;[8317] 23
                    ld        b,(hl)                        ;[8318] 46
                    pop       hl                            ;[8319] e1
                    push      bc                            ;[831a] c5
                    ret                                     ;[831b] c9

no_format_match:
                    inc       hl                            ;[831c] 23
                    inc       hl                            ;[831d] 23
                    inc       hl                            ;[831e] 23
                    jr        __printf_format_search_loop   ;[831f] 18 ed
no_format_found:
                    pop       hl                            ;[8321] e1
                    ld        a,c                           ;[8322] 79
                    jr        print_format_character        ;[8323] 18 b8
__printf_doprint:
                    push      hl                            ;[8325] e5
                    push      de                            ;[8326] d5
                    push      bc                            ;[8327] c5
                    push      ix                            ;[8328] dd e5
                    exx                                     ;[832a] d9
                    push      bc                            ;[832b] c5
                    push      de                            ;[832c] d5
                    exx                                     ;[832d] d9
                    ex        af,af'                        ;[832e] 08
                    push      af                            ;[832f] f5
                    ex        af,af'                        ;[8330] 08
                    inc       (ix-$02)                      ;[8331] dd 34 fe
                    jr        nz,no_inc                     ;[8334] 20 03
                    inc       (ix-$01)                      ;[8336] dd 34 ff
no_inc:
                    ld        c,a                           ;[8339] 4f
                    ld        b,$00                         ;[833a] 06 00
                    push      bc                            ;[833c] c5
                    ld        c,(ix+$0a)                    ;[833d] dd 4e 0a
                    ld        b,(ix+$0b)                    ;[8340] dd 46 0b
                    push      bc                            ;[8343] c5
                    ld        bc,$834f                      ;[8344] 01 4f 83
                    push      bc                            ;[8347] c5
                    ld        l,(ix+$08)                    ;[8348] dd 6e 08
                    ld        h,(ix+$09)                    ;[834b] dd 66 09
                    jp        (hl)                          ;[834e] e9
doprint_return:
                    ex        af,af'                        ;[834f] 08
                    pop       af                            ;[8350] f1
                    ex        af,af'                        ;[8351] 08
                    exx                                     ;[8352] d9
                    pop       de                            ;[8353] d1
                    pop       bc                            ;[8354] c1
                    exx                                     ;[8355] d9
                    pop       ix                            ;[8356] dd e1
                    pop       bc                            ;[8358] c1
                    pop       de                            ;[8359] d1
                    pop       hl                            ;[835a] e1
                    ret                                     ;[835b] c9

__printf_get_flags:
                    ld        c,$00                         ;[835c] 0e 00
flags_again:
                    push      hl                            ;[835e] e5
                    ld        b,$05                         ;[835f] 06 05
                    ld        hl,$8370                      ;[8361] 21 70 83
flag_loop:
                    cp        (hl)                          ;[8364] be
                    inc       hl                            ;[8365] 23
                    jr        nz,no_flag                    ;[8366] 20 12
                    ld        a,(hl)                        ;[8368] 7e
                    or        c                             ;[8369] b1
                    ld        c,a                           ;[836a] 4f
                    pop       hl                            ;[836b] e1
                    ld        a,(hl)                        ;[836c] 7e
                    inc       hl                            ;[836d] 23
                    jr        flags_again                   ;[836e] 18 ee
flags:
                    dec       l                             ;[8370] 2d
                    ld        bc,$022b                      ;[8371] 01 2b 02
                    jr        nz,$837e                      ;[8374] 20 08
                    inc       hl                            ;[8376] 23
                    djnz      $83a9                         ;[8377] 10 30
                    inc       b                             ;[8379] 04
no_flag:
                    inc       hl                            ;[837a] 23
                    djnz      flag_loop                     ;[837b] 10 e7
                    pop       hl                            ;[837d] e1
                    ld        (ix-$04),c                    ;[837e] dd 71 fc
check_width:
                    ld        (ix-$05),$00                  ;[8381] dd 36 fb 00
                    ld        (ix-$06),$00                  ;[8385] dd 36 fa 00
                    cp        $2a                           ;[8389] fe 2a
                    jr        nz,check_width_from_format    ;[838b] 20 08
starred_width:
                    push      hl                            ;[838d] e5
                    call      get_16bit_ap_parameter        ;[838e] cd 35 86
                    ex        de,hl                         ;[8391] eb
                    ex        (sp),hl                       ;[8392] e3
                    jr        save_width                    ;[8393] 18 0e
check_width_from_format:
                    cp        $30                           ;[8395] fe 30
                    jr        c,check_precision             ;[8397] 38 13
                    cp        $3a                           ;[8399] fe 3a
                    jr        nc,check_precision            ;[839b] 30 0f
                    push      de                            ;[839d] d5
                    dec       hl                            ;[839e] 2b
                    call      asm_atoi                      ;[839f] cd 1b 87
                    ex        de,hl                         ;[83a2] eb
save_width:
                    ld        (ix-$05),d                    ;[83a3] dd 72 fb
                    ld        (ix-$06),e                    ;[83a6] dd 73 fa
                    pop       de                            ;[83a9] d1
                    ld        a,(hl)                        ;[83aa] 7e
                    inc       hl                            ;[83ab] 23
check_precision:
                    ld        (ix-$07),$ff                  ;[83ac] dd 36 f9 ff
                    ld        (ix-$08),$ff                  ;[83b0] dd 36 f8 ff
                    cp        $2e                           ;[83b4] fe 2e
                    jr        nz,no_precision               ;[83b6] 20 1c
                    ld        a,(hl)                        ;[83b8] 7e
                    cp        $2a                           ;[83b9] fe 2a
                    jr        nz,check_precision_from_format;[83bb] 20 09
                    inc       hl                            ;[83bd] 23
                    push      hl                            ;[83be] e5
                    call      get_16bit_ap_parameter        ;[83bf] cd 35 86
                    ex        de,hl                         ;[83c2] eb
                    ex        (sp),hl                       ;[83c3] e3
                    jr        save_precision                ;[83c4] 18 05
check_precision_from_format:
                    push      de                            ;[83c6] d5
                    call      asm_atoi                      ;[83c7] cd 1b 87
                    ex        de,hl                         ;[83ca] eb
save_precision:
                    ld        (ix-$07),d                    ;[83cb] dd 72 f9
                    ld        (ix-$08),e                    ;[83ce] dd 73 f8
                    ld        a,(hl)                        ;[83d1] 7e
                    inc       hl                            ;[83d2] 23
                    pop       de                            ;[83d3] d1
no_precision:
                    ret                                     ;[83d4] c9

__printf_handle_B:
                    ld        (ix-$09),$02                  ;[83d5] dd 36 f7 02
                    res       1,(ix-$04)                    ;[83d9] dd cb fc 8e
                    ld        c,$00                         ;[83dd] 0e 00
                    jp        __printf_number               ;[83df] c3 9f 84
__printf_handle_X:
                    ld        (ix-$09),$10                  ;[83e2] dd 36 f7 10
                    ld        (ix-$03),$e0                  ;[83e6] dd 36 fd e0
                    res       1,(ix-$04)                    ;[83ea] dd cb fc 8e
                    ld        c,$00                         ;[83ee] 0e 00
                    jp        __printf_number               ;[83f0] c3 9f 84
__printf_handle_c:
                    push      hl                            ;[83f3] e5
                    call      get_16bit_ap_parameter        ;[83f4] cd 35 86
                    push      de                            ;[83f7] d5
                    ld        a,l                           ;[83f8] 7d
                    call      __printf_print_to_buf         ;[83f9] cd 23 86
                    jp        __printf_print_the_buffer     ;[83fc] c3 11 86
__printf_handle_d:
                    ld        c,$01                         ;[83ff] 0e 01
                    jp        __printf_number               ;[8401] c3 9f 84
__printf_handle_ll:
                    ld        c,(hl)                        ;[8404] 4e
                    inc       hl                            ;[8405] 23
                    push      hl                            ;[8406] e5
                    ld        hl,$87bc                      ;[8407] 21 bc 87
                    jp        __printf_format_search_loop   ;[840a] c3 0e 83
__printf_handle_llB:
                    ld        c,$00                         ;[840d] 0e 00
                    ld        (ix-$09),$02                  ;[840f] dd 36 f7 02
                    res       1,(ix-$04)                    ;[8413] dd cb fc 8e
                    jp        __printf_number64             ;[8417] c3 38 85
__printf_handle_llX:
                    ld        c,$00                         ;[841a] 0e 00
                    ld        (ix-$09),$10                  ;[841c] dd 36 f7 10
                    ld        (ix-$03),$e0                  ;[8420] dd 36 fd e0
                    res       1,(ix-$04)                    ;[8424] dd cb fc 8e
                    jp        __printf_number64             ;[8428] c3 38 85
__printf_handle_lld:
                    ld        c,$01                         ;[842b] 0e 01
                    jp        __printf_number64             ;[842d] c3 38 85
__printf_handle_llo:
                    ld        c,$00                         ;[8430] 0e 00
                    ld        (ix-$09),$08                  ;[8432] dd 36 f7 08
                    jp        __printf_number64             ;[8436] c3 38 85
__printf_handle_llu:
                    ld        c,$00                         ;[8439] 0e 00
                    jp        __printf_number64             ;[843b] c3 38 85
__printf_handle_llx:
                    ld        c,$00                         ;[843e] 0e 00
                    ld        (ix-$09),$10                  ;[8440] dd 36 f7 10
                    res       1,(ix-$04)                    ;[8444] dd cb fc 8e
                    jp        __printf_number64             ;[8448] c3 38 85
__printf_handle_n:
                    push      hl                            ;[844b] e5
                    call      get_16bit_ap_parameter        ;[844c] cd 35 86
                    ld        a,(ix-$02)                    ;[844f] dd 7e fe
                    ld        (hl),a                        ;[8452] 77
                    ld        a,(ix-$01)                    ;[8453] dd 7e ff
                    inc       hl                            ;[8456] 23
                    ld        (hl),a                        ;[8457] 77
                    pop       hl                            ;[8458] e1
                    jp        __printf_loop                 ;[8459] c3 bf 82
__printf_handle_o:
                    ld        (ix-$09),$08                  ;[845c] dd 36 f7 08
                    ld        c,$00                         ;[8460] 0e 00
                    jp        __printf_number               ;[8462] c3 9f 84
__printf_handle_s:
                    push      hl                            ;[8465] e5
                    call      get_16bit_ap_parameter        ;[8466] cd 35 86
                    push      de                            ;[8469] d5
                    ld        a,h                           ;[846a] 7c
                    or        l                             ;[846b] b5
                    jr        nz,printstr                   ;[846c] 20 03
                    ld        hl,$87cf                      ;[846e] 21 cf 87
printstr:
                    push      hl                            ;[8471] e5
                    call      asm_strlen                    ;[8472] cd 61 87
                    ex        de,hl                         ;[8475] eb
                    ld        l,(ix-$08)                    ;[8476] dd 6e f8
                    ld        h,(ix-$07)                    ;[8479] dd 66 f9
                    push      hl                            ;[847c] e5
                    call      l_uge                         ;[847d] cd 7e 81
                    pop       hl                            ;[8480] e1
                    jr        nc,use_strlen                 ;[8481] 30 01
                    ex        de,hl                         ;[8483] eb
use_strlen:
                    pop       bc                            ;[8484] c1
                    call      __printf_print_aligned        ;[8485] cd c0 85
printstr_end:
                    pop       de                            ;[8488] d1
                    pop       hl                            ;[8489] e1
                    jp        __printf_loop                 ;[848a] c3 bf 82
__printf_handle_u:
                    ld        c,$00                         ;[848d] 0e 00
                    jp        __printf_number               ;[848f] c3 9f 84
__printf_handle_p:
                    ld        (ix-$09),$10                  ;[8492] dd 36 f7 10
                    res       1,(ix-$04)                    ;[8496] dd cb fc 8e
                    ld        c,$00                         ;[849a] 0e 00
                    jp        __printf_number               ;[849c] c3 9f 84
__printf_number:
                    push      hl                            ;[849f] e5
                    bit       6,(ix-$04)                    ;[84a0] dd cb fc 76
                    jr        z,printf_number16             ;[84a4] 28 08
                    call      get_32bit_ap_parameter        ;[84a6] cd 46 86
printlong:
                    push      hl                            ;[84a9] e5
                    ld        l,a                           ;[84aa] 6f
                    ld        h,b                           ;[84ab] 60
                    jr        miniprintn                    ;[84ac] 18 0c
printf_number16:
                    call      get_16bit_ap_parameter        ;[84ae] cd 35 86
                    push      de                            ;[84b1] d5
                    ld        de,$0000                      ;[84b2] 11 00 00
                    ld        a,c                           ;[84b5] 79
                    and       a                             ;[84b6] a7
                    call      nz,l_int2long_s               ;[84b7] c4 50 81
miniprintn:
                    ld        a,d                           ;[84ba] 7a
                    rlca                                    ;[84bb] 07
                    and       $01                           ;[84bc] e6 01
                    and       c                             ;[84be] a1
                    jr        z,noneg___printf_number       ;[84bf] 28 0a
                    call      l_long_neg                    ;[84c1] cd 84 80
                    ld        a,$2d                         ;[84c4] 3e 2d
printsign___printf_number:
                    call      __printf_print_to_buf         ;[84c6] cd 23 86
                    jr        miniprintn_start_process      ;[84c9] 18 30
noneg___printf_number:
                    ld        a,$20                         ;[84cb] 3e 20
                    bit       3,(ix-$04)                    ;[84cd] dd cb fc 5e
                    jr        nz,printsign___printf_number  ;[84d1] 20 f3
                    ld        a,$2b                         ;[84d3] 3e 2b
                    bit       1,(ix-$04)                    ;[84d5] dd cb fc 4e
                    jr        nz,printsign___printf_number  ;[84d9] 20 eb
                    bit       4,(ix-$04)                    ;[84db] dd cb fc 66
                    jr        z,miniprintn_start_process    ;[84df] 28 1a
                    ld        a,(ix-$09)                    ;[84e1] dd 7e f7
                    cp        $0a                           ;[84e4] fe 0a
                    jr        z,miniprintn_start_process    ;[84e6] 28 13
                    push      af                            ;[84e8] f5
                    ld        a,$30                         ;[84e9] 3e 30
                    call      __printf_print_to_buf         ;[84eb] cd 23 86
                    pop       af                            ;[84ee] f1
                    cp        $10                           ;[84ef] fe 10
                    jr        nz,miniprintn_start_process   ;[84f1] 20 08
                    ld        a,$78                         ;[84f3] 3e 78
                    add       (ix-$03)                      ;[84f5] dd 86 fd
                    call      __printf_print_to_buf         ;[84f8] cd 23 86
miniprintn_start_process:
                    xor       a                             ;[84fb] af
                    push      af                            ;[84fc] f5
divloop:
                    push      de                            ;[84fd] d5
                    push      hl                            ;[84fe] e5
                    ld        l,(ix-$09)                    ;[84ff] dd 6e f7
                    ld        h,$00                         ;[8502] 26 00
                    ld        d,h                           ;[8504] 54
                    ld        e,h                           ;[8505] 5c
                    call      l_long_div_u                  ;[8506] cd 42 81
                    exx                                     ;[8509] d9
                    ld        a,l                           ;[850a] 7d
                    cp        $ff                           ;[850b] fe ff
                    push      af                            ;[850d] f5
                    exx                                     ;[850e] d9
                    ld        a,h                           ;[850f] 7c
                    or        d                             ;[8510] b2
                    or        e                             ;[8511] b3
                    or        l                             ;[8512] b5
                    jr        nz,divloop                    ;[8513] 20 e8
printloop:
                    pop       af                            ;[8515] f1
                    jp        z,__printf_print_the_buffer   ;[8516] ca 11 86
                    add       $30                           ;[8519] c6 30
                    cp        $3a                           ;[851b] fe 3a
                    jr        c,printloop1                  ;[851d] 38 05
                    add       $27                           ;[851f] c6 27
                    add       (ix-$03)                      ;[8521] dd 86 fd
printloop1:
                    call      __printf_print_to_buf         ;[8524] cd 23 86
                    jr        printloop                     ;[8527] 18 ec
pickup_sccz80_llong:
                    dec       de                            ;[8529] 1b
                    dec       de                            ;[852a] 1b
                    dec       de                            ;[852b] 1b
                    dec       de                            ;[852c] 1b
                    dec       de                            ;[852d] 1b
                    dec       de                            ;[852e] 1b
                    dec       de                            ;[852f] 1b
                    dec       de                            ;[8530] 1b
                    push      de                            ;[8531] d5
                    inc       de                            ;[8532] 13
                    inc       de                            ;[8533] 13
                    ld        l,e                           ;[8534] 6b
                    ld        h,d                           ;[8535] 62
                    jr        continue                      ;[8536] 18 13
__printf_number64:
                    push      hl                            ;[8538] e5
                    bit       0,(ix+$06)                    ;[8539] dd cb 06 46
                    jr        nz,pickup_sccz80_llong        ;[853d] 20 ea
                    ld        l,e                           ;[853f] 6b
                    ld        h,d                           ;[8540] 62
                    inc       hl                            ;[8541] 23
                    inc       hl                            ;[8542] 23
                    inc       hl                            ;[8543] 23
                    inc       hl                            ;[8544] 23
                    inc       hl                            ;[8545] 23
                    inc       hl                            ;[8546] 23
                    inc       hl                            ;[8547] 23
                    inc       hl                            ;[8548] 23
                    push      hl                            ;[8549] e5
                    ex        de,hl                         ;[854a] eb
continue:
                    push      hl                            ;[854b] e5
                    ld        a,c                           ;[854c] 79
                    and       a                             ;[854d] a7
                    jr        z,noneg___printf_number64     ;[854e] 28 0e
                    bit       7,(hl)                        ;[8550] cb 7e
                    jr        z,noneg___printf_number64     ;[8552] 28 0a
                    call      l_neg_64_mhl                  ;[8554] cd a9 80
                    ld        a,$2d                         ;[8557] 3e 2d
printsign___printf_number64:
                    call      __printf_print_to_buf         ;[8559] cd 23 86
                    jr        number64_start_process        ;[855c] 18 30
noneg___printf_number64:
                    ld        a,$20                         ;[855e] 3e 20
                    bit       3,(ix-$04)                    ;[8560] dd cb fc 5e
                    jr        nz,printsign___printf_number64;[8564] 20 f3
                    ld        a,$2b                         ;[8566] 3e 2b
                    bit       1,(ix-$04)                    ;[8568] dd cb fc 4e
                    jr        nz,printsign___printf_number64;[856c] 20 eb
                    bit       4,(ix-$04)                    ;[856e] dd cb fc 66
                    jr        z,number64_start_process      ;[8572] 28 1a
                    ld        a,(ix-$09)                    ;[8574] dd 7e f7
                    cp        $0a                           ;[8577] fe 0a
                    jr        z,number64_start_process      ;[8579] 28 13
                    push      af                            ;[857b] f5
                    ld        a,$30                         ;[857c] 3e 30
                    call      __printf_print_to_buf         ;[857e] cd 23 86
                    pop       af                            ;[8581] f1
                    cp        $10                           ;[8582] fe 10
                    jr        nz,number64_start_process     ;[8584] 20 08
                    ld        a,$78                         ;[8586] 3e 78
                    add       (ix-$03)                      ;[8588] dd 86 fd
                    call      __printf_print_to_buf         ;[858b] cd 23 86
number64_start_process:
                    call      __printf_get_buffer_address   ;[858e] cd b8 85
                    ld        c,(ix-$0a)                    ;[8591] dd 4e f6
                    ld        b,$00                         ;[8594] 06 00
                    add       hl,bc                         ;[8596] 09
                    ld        e,(ix-$09)                    ;[8597] dd 5e f7
                    ld        d,$00                         ;[859a] 16 00
                    pop       bc                            ;[859c] c1
                    push      ix                            ;[859d] dd e5
                    push      de                            ;[859f] d5
                    push      hl                            ;[85a0] e5
                    call      l_load_64_dehldehl_mbc        ;[85a1] cd 96 80
                    pop       ix                            ;[85a4] dd e1
                    pop       bc                            ;[85a6] c1
                    call      asm1_ulltoa                   ;[85a7] cd 46 87
                    pop       ix                            ;[85aa] dd e1
                    call      __printf_get_buffer_address   ;[85ac] cd b8 85
                    call      asm_strlen                    ;[85af] cd 61 87
                    ld        (ix-$0a),l                    ;[85b2] dd 75 f6
                    jp        __printf_print_the_buffer     ;[85b5] c3 11 86
__printf_get_buffer_address:
                    push      ix                            ;[85b8] dd e5
                    pop       hl                            ;[85ba] e1
                    ld        bc,$ffb0                      ;[85bb] 01 b0 ff
                    add       hl,bc                         ;[85be] 09
                    ret                                     ;[85bf] c9

__printf_print_aligned:
                    ld        l,(ix-$06)                    ;[85c0] dd 6e fa
                    ld        h,(ix-$05)                    ;[85c3] dd 66 fb
                    ld        a,h                           ;[85c6] 7c
                    or        l                             ;[85c7] b5
                    jr        z,width_done                  ;[85c8] 28 11
                    push      hl                            ;[85ca] e5
                    push      bc                            ;[85cb] c5
                    call      l_ge                          ;[85cc] cd 61 81
                    pop       bc                            ;[85cf] c1
                    pop       hl                            ;[85d0] e1
                    jr        nc,adjust_width               ;[85d1] 30 05
                    ld        hl,$0000                      ;[85d3] 21 00 00
                    jr        width_done                    ;[85d6] 18 03
adjust_width:
                    and       a                             ;[85d8] a7
                    sbc       hl,de                         ;[85d9] ed 52
width_done:
                    bit       0,(ix-$04)                    ;[85db] dd cb fc 46
                    push      bc                            ;[85df] c5
                    call      z,print_padding               ;[85e0] cc 05 86
                    pop       bc                            ;[85e3] c1
print_buffer:
                    ld        a,d                           ;[85e4] 7a
                    or        e                             ;[85e5] b3
                    jr        z,buffer_done                 ;[85e6] 28 0f
                    ld        a,(bc)                        ;[85e8] 0a
                    bit       7,(ix-$04)                    ;[85e9] dd cb fc 7e
                    call      nz,__printf_pickup_far        ;[85ed] c4 7d 81
                    call      __printf_doprint              ;[85f0] cd 25 83
                    inc       bc                            ;[85f3] 03
                    dec       de                            ;[85f4] 1b
                    jr        print_buffer                  ;[85f5] 18 ed
buffer_done:
                    ld        c,$20                         ;[85f7] 0e 20
print_padding_loop:
                    ld        a,h                           ;[85f9] 7c
                    or        l                             ;[85fa] b5
                    ret       z                             ;[85fb] c8
                    push      bc                            ;[85fc] c5
                    ld        a,c                           ;[85fd] 79
                    call      __printf_doprint              ;[85fe] cd 25 83
                    pop       bc                            ;[8601] c1
                    dec       hl                            ;[8602] 2b
                    jr        print_padding                 ;[8603] 18 00
print_padding:
                    ld        c,$20                         ;[8605] 0e 20
                    bit       2,(ix-$04)                    ;[8607] dd cb fc 56
                    jr        z,print_padding_loop          ;[860b] 28 ec
                    ld        c,$30                         ;[860d] 0e 30
                    jr        print_padding_loop            ;[860f] 18 e8
__printf_print_the_buffer:
                    ld        d,$00                         ;[8611] 16 00
                    ld        e,(ix-$0a)                    ;[8613] dd 5e f6
                    call      __printf_get_buffer_address   ;[8616] cd b8 85
                    ld        c,l                           ;[8619] 4d
                    ld        b,h                           ;[861a] 44
                    call      __printf_print_aligned        ;[861b] cd c0 85
                    pop       de                            ;[861e] d1
                    pop       hl                            ;[861f] e1
                    jp        __printf_loop                 ;[8620] c3 bf 82
__printf_print_to_buf:
                    push      hl                            ;[8623] e5
                    push      bc                            ;[8624] c5
                    call      __printf_get_buffer_address   ;[8625] cd b8 85
                    ld        c,(ix-$0a)                    ;[8628] dd 4e f6
                    ld        b,$00                         ;[862b] 06 00
                    add       hl,bc                         ;[862d] 09
                    inc       (ix-$0a)                      ;[862e] dd 34 f6
                    ld        (hl),a                        ;[8631] 77
                    pop       bc                            ;[8632] c1
                    pop       hl                            ;[8633] e1
                    ret                                     ;[8634] c9

get_16bit_ap_parameter:
                    ex        de,hl                         ;[8635] eb
                    ld        e,(hl)                        ;[8636] 5e
                    inc       hl                            ;[8637] 23
                    ld        d,(hl)                        ;[8638] 56
                    ex        de,hl                         ;[8639] eb
                    bit       0,(ix+$06)                    ;[863a] dd cb 06 46
                    jr        nz,change_ap_decrement        ;[863e] 20 02
                    inc       de                            ;[8640] 13
                    ret                                     ;[8641] c9

change_ap_decrement:
                    dec       de                            ;[8642] 1b
                    dec       de                            ;[8643] 1b
                    dec       de                            ;[8644] 1b
                    ret                                     ;[8645] c9

get_32bit_ap_parameter:
                    bit       0,(ix+$06)                    ;[8646] dd cb 06 46
                    jr        nz,pickuplong_sccz80          ;[864a] 20 0a
                    ex        de,hl                         ;[864c] eb
                    ld        a,(hl)                        ;[864d] 7e
                    inc       hl                            ;[864e] 23
                    ld        b,(hl)                        ;[864f] 46
                    inc       hl                            ;[8650] 23
                    ld        e,(hl)                        ;[8651] 5e
                    inc       hl                            ;[8652] 23
                    ld        d,(hl)                        ;[8653] 56
                    inc       hl                            ;[8654] 23
                    ret                                     ;[8655] c9

pickuplong_sccz80:
                    ex        de,hl                         ;[8656] eb
                    ld        e,(hl)                        ;[8657] 5e
                    inc       hl                            ;[8658] 23
                    ld        d,(hl)                        ;[8659] 56
                    dec       hl                            ;[865a] 2b
                    dec       hl                            ;[865b] 2b
                    ld        b,(hl)                        ;[865c] 46
                    dec       hl                            ;[865d] 2b
                    ld        a,(hl)                        ;[865e] 7e
                    dec       hl                            ;[865f] 2b
                    dec       hl                            ;[8660] 2b
                    ret                                     ;[8661] c9

___writebyte:
                    ret                                     ;[8662] c9

asm_isspace:
                    cp        $20                           ;[8663] fe 20
                    ret       z                             ;[8665] c8
                    cp        $09                           ;[8666] fe 09
                    ret       c                             ;[8668] d8
                    cp        $0e                           ;[8669] fe 0e
                    ccf                                     ;[866b] 3f
                    ret                                     ;[866c] c9

                    exx                                     ;[866d] d9
l_divu_32_32x32:
                    ld        a,d                           ;[866e] 7a
                    or        e                             ;[866f] b3
                    or        h                             ;[8670] b4
                    or        l                             ;[8671] b5
                    jr        z,divide_zero                 ;[8672] 28 42
l0_divu_32_32x32:
                    xor       a                             ;[8674] af
                    push      hl                            ;[8675] e5
                    exx                                     ;[8676] d9
                    ld        b,h                           ;[8677] 44
                    ld        c,l                           ;[8678] 4d
                    pop       hl                            ;[8679] e1
                    push      de                            ;[867a] d5
                    ex        de,hl                         ;[867b] eb
                    ld        l,a                           ;[867c] 6f
                    ld        h,a                           ;[867d] 67
                    exx                                     ;[867e] d9
                    pop       bc                            ;[867f] c1
                    ld        l,a                           ;[8680] 6f
                    ld        h,a                           ;[8681] 67
l1_small_divu_32_32x32:
                    ld        a,b                           ;[8682] 78
                    ld        b,$20                         ;[8683] 06 20
loop_0:
                    exx                                     ;[8685] d9
                    rl        c                             ;[8686] cb 11
                    rl        b                             ;[8688] cb 10
                    exx                                     ;[868a] d9
                    rl        c                             ;[868b] cb 11
                    rla                                     ;[868d] 17
                    exx                                     ;[868e] d9
                    adc       hl,hl                         ;[868f] ed 6a
                    exx                                     ;[8691] d9
                    adc       hl,hl                         ;[8692] ed 6a
                    exx                                     ;[8694] d9
                    sbc       hl,de                         ;[8695] ed 52
                    exx                                     ;[8697] d9
                    sbc       hl,de                         ;[8698] ed 52
                    jr        nc,loop_1                     ;[869a] 30 05
                    exx                                     ;[869c] d9
                    add       hl,de                         ;[869d] 19
                    exx                                     ;[869e] d9
                    adc       hl,de                         ;[869f] ed 5a
loop_1:
                    ccf                                     ;[86a1] 3f
                    djnz      loop_0                        ;[86a2] 10 e1
                    exx                                     ;[86a4] d9
                    rl        c                             ;[86a5] cb 11
                    rl        b                             ;[86a7] cb 10
                    exx                                     ;[86a9] d9
                    rl        c                             ;[86aa] cb 11
                    rla                                     ;[86ac] 17
                    push      hl                            ;[86ad] e5
                    exx                                     ;[86ae] d9
                    pop       de                            ;[86af] d1
                    push      bc                            ;[86b0] c5
                    exx                                     ;[86b1] d9
                    pop       hl                            ;[86b2] e1
                    ld        e,c                           ;[86b3] 59
                    ld        d,a                           ;[86b4] 57
                    ret                                     ;[86b5] c9

divide_zero:
                    dec       de                            ;[86b6] 1b
                    jp        error_divide_by_zero_mc       ;[86b7] c3 f9 86
l_divu_64_64x8:
                    ld        a,c                           ;[86ba] 79
                    or        a                             ;[86bb] b7
                    jr        z,divide_by_zero              ;[86bc] 28 1c
l0_divu_64_64x8:
                    xor       a                             ;[86be] af
                    ld        b,$40                         ;[86bf] 06 40
loop_11:
                    add       hl,hl                         ;[86c1] 29
                    rl        e                             ;[86c2] cb 13
                    rl        d                             ;[86c4] cb 12
                    exx                                     ;[86c6] d9
                    adc       hl,hl                         ;[86c7] ed 6a
                    rl        e                             ;[86c9] cb 13
                    rl        d                             ;[86cb] cb 12
                    exx                                     ;[86cd] d9
                    rla                                     ;[86ce] 17
                    jr        c,loop_02                     ;[86cf] 38 03
                    cp        c                             ;[86d1] b9
                    jr        c,loop_03                     ;[86d2] 38 02
loop_02:
                    sub       c                             ;[86d4] 91
                    inc       l                             ;[86d5] 2c
loop_03:
                    djnz      loop_11                       ;[86d6] 10 e9
                    or        a                             ;[86d8] b7
                    ret                                     ;[86d9] c9

divide_by_zero:
                    call      error_llmc                    ;[86da] cd 0c 87
                    jp        error_divide_by_zero_mc       ;[86dd] c3 f9 86
                    pop       hl                            ;[86e0] e1
                    pop       hl                            ;[86e1] e1
                    pop       hl                            ;[86e2] e1
error_einval_zc:
                    ld        l,$ff                         ;[86e3] 2e ff
errno_zc:
                    ld        h,$00                         ;[86e5] 26 00
                    ld        (_errno),hl                   ;[86e7] 22 d6 87
                    jp        error_zc                      ;[86ea] c3 f1 86
                    pop       hl                            ;[86ed] e1
                    pop       hl                            ;[86ee] e1
                    pop       hl                            ;[86ef] e1
                    pop       hl                            ;[86f0] e1
error_zc:
                    ld        hl,$0000                      ;[86f1] 21 00 00
                    scf                                     ;[86f4] 37
                    ret                                     ;[86f5] c9

                    pop       hl                            ;[86f6] e1
                    pop       hl                            ;[86f7] e1
                    pop       hl                            ;[86f8] e1
error_divide_by_zero_mc:
                    ld        l,$ff                         ;[86f9] 2e ff
errno_mc:
                    ld        h,$00                         ;[86fb] 26 00
                    ld        (_errno),hl                   ;[86fd] 22 d6 87
                    jp        error_mc                      ;[8700] c3 06 87
                    pop       hl                            ;[8703] e1
                    pop       hl                            ;[8704] e1
                    pop       hl                            ;[8705] e1
error_mc:
                    ld        hl,$ffff                      ;[8706] 21 ff ff
                    scf                                     ;[8709] 37
                    ret                                     ;[870a] c9

                    pop       hl                            ;[870b] e1
error_llmc:
                    exx                                     ;[870c] d9
                    call      error_lmc                     ;[870d] cd 15 87
                    exx                                     ;[8710] d9
                    jp        error_lmc                     ;[8711] c3 15 87
                    pop       hl                            ;[8714] e1
error_lmc:
                    ld        de,$ffff                      ;[8715] 11 ff ff
                    jp        error_mc                      ;[8718] c3 06 87
asm_atoi:
                    call      l_eat_ws                      ;[871b] cd f0 80
asm0_atoi:
                    call      l_eat_sign                    ;[871e] cd e4 80
                    jr        nc,not_negative               ;[8721] 30 08
                    call      not_negative                  ;[8723] cd 2b 87
                    jp        nc,l_neg_hl                   ;[8726] d2 37 81
                    inc       hl                            ;[8729] 23
                    ret                                     ;[872a] c9

not_negative:
                    ex        de,hl                         ;[872b] eb
                    call      l_atou                        ;[872c] cd 0f 81
                    jr        c,overflow_asm_atoi           ;[872f] 38 04
                    bit       7,h                           ;[8731] cb 7c
                    ret       z                             ;[8733] c8
                    scf                                     ;[8734] 37
overflow_asm_atoi:
                    ld        hl,$7fff                      ;[8735] 21 ff 7f
                    ret                                     ;[8738] c9

asm_ulltoa:
                    ld        a,ixh                         ;[8739] dd 7c
                    or        ixl                           ;[873b] dd b5
                    jp        z,error_zc                    ;[873d] ca f1 86
asm0_ulltoa:
                    call      l_valid_base                  ;[8740] cd 02 81
                    jp        nc,error_einval_zc            ;[8743] d2 e3 86
asm1_ulltoa:
                    xor       a                             ;[8746] af
                    push      af                            ;[8747] f5
compute_lp:
                    push      bc                            ;[8748] c5
                    call      l0_divu_64_64x8               ;[8749] cd be 86
                    pop       bc                            ;[874c] c1
                    call      l_num2char                    ;[874d] cd f8 80
                    scf                                     ;[8750] 37
                    push      af                            ;[8751] f5
                    call      l_testzero_64_dehldehl        ;[8752] cd d9 80
                    jr        nz,compute_lp                 ;[8755] 20 f1
                    push      ix                            ;[8757] dd e5
                    pop       hl                            ;[8759] e1
write_lp:
                    pop       af                            ;[875a] f1
                    ld        (hl),a                        ;[875b] 77
                    inc       hl                            ;[875c] 23
                    jr        c,write_lp                    ;[875d] 38 fb
                    dec       hl                            ;[875f] 2b
                    ret                                     ;[8760] c9

asm_strlen:
                    xor       a                             ;[8761] af
                    ld        c,a                           ;[8762] 4f
                    ld        b,a                           ;[8763] 47
                    cpir                                    ;[8764] ed b1
                    ld        hl,$ffff                      ;[8766] 21 ff ff
                    sbc       hl,bc                         ;[8769] ed 42
                    ret                                     ;[876b] c9

i_1:
                    defb      $45                           ;[876c] 45
                    defb      $63                           ;[876d] 63
                    defb      $68                           ;[876e] 68
                    defb      $6f                           ;[876f] 6f
                    defb      $69                           ;[8770] 69
                    defb      $6e                           ;[8771] 6e
                    defb      $67                           ;[8772] 67
                    defb      $20                           ;[8773] 20
                    defb      $66                           ;[8774] 66
                    defb      $72                           ;[8775] 72
                    defb      $6f                           ;[8776] 6f
                    defb      $6d                           ;[8777] 6d
                    defb      $20                           ;[8778] 20
                    defb      $63                           ;[8779] 63
                    defb      $6f                           ;[877a] 6f
                    defb      $6e                           ;[877b] 6e
                    defb      $73                           ;[877c] 73
                    defb      $6f                           ;[877d] 6f
                    defb      $6c                           ;[877e] 6c
                    defb      $65                           ;[877f] 65
                    defb      $0a                           ;[8780] 0a
                    defb      $74                           ;[8781] 74
                    defb      $6f                           ;[8782] 6f
                    defb      $20                           ;[8783] 20
                    defb      $74                           ;[8784] 74
                    defb      $68                           ;[8785] 68
                    defb      $65                           ;[8786] 65
                    defb      $20                           ;[8787] 20
                    defb      $4c                           ;[8788] 4c
                    defb      $43                           ;[8789] 43
                    defb      $44                           ;[878a] 44
                    defb      $0a                           ;[878b] 0a
                    defb      $27                           ;[878c] 27
                    defb      $45                           ;[878d] 45
                    defb      $73                           ;[878e] 73
                    defb      $63                           ;[878f] 63
                    defb      $27                           ;[8790] 27
                    defb      $20                           ;[8791] 20
                    defb      $74                           ;[8792] 74
                    defb      $6f                           ;[8793] 6f
                    defb      $20                           ;[8794] 20
                    defb      $65                           ;[8795] 65
                    defb      $6e                           ;[8796] 6e
                    defb      $64                           ;[8797] 64
                    defb      $0a                           ;[8798] 0a
                    defb      $00                           ;[8799] 00
__printf_format_table:
                    defb      $73                           ;[879a] 73
                    defb      $65                           ;[879b] 65
                    defb      $84                           ;[879c] 84
                    defb      $63                           ;[879d] 63
                    defb      $f3                           ;[879e] f3
                    defb      $83                           ;[879f] 83
                    defb      $64                           ;[87a0] 64
                    defb      $ff                           ;[87a1] ff
                    defb      $83                           ;[87a2] 83
                    defb      $75                           ;[87a3] 75
                    defb      $8d                           ;[87a4] 8d
                    defb      $84                           ;[87a5] 84
                    defb      $78                           ;[87a6] 78
                    defb      $92                           ;[87a7] 92
                    defb      $84                           ;[87a8] 84
                    defb      $6f                           ;[87a9] 6f
                    defb      $5c                           ;[87aa] 5c
                    defb      $84                           ;[87ab] 84
                    defb      $70                           ;[87ac] 70
                    defb      $92                           ;[87ad] 92
                    defb      $84                           ;[87ae] 84
                    defb      $58                           ;[87af] 58
                    defb      $e2                           ;[87b0] e2
                    defb      $83                           ;[87b1] 83
                    defb      $6e                           ;[87b2] 6e
                    defb      $4b                           ;[87b3] 4b
                    defb      $84                           ;[87b4] 84
                    defb      $42                           ;[87b5] 42
                    defb      $d5                           ;[87b6] d5
                    defb      $83                           ;[87b7] 83
                    defb      $6c                           ;[87b8] 6c
                    defb      $04                           ;[87b9] 04
                    defb      $84                           ;[87ba] 84
                    defb      $00                           ;[87bb] 00
__printf_format_table64:
                    defb      $64                           ;[87bc] 64
                    defb      $2b                           ;[87bd] 2b
                    defb      $84                           ;[87be] 84
                    defb      $75                           ;[87bf] 75
                    defb      $39                           ;[87c0] 39
                    defb      $84                           ;[87c1] 84
                    defb      $78                           ;[87c2] 78
                    defb      $3e                           ;[87c3] 3e
                    defb      $84                           ;[87c4] 84
                    defb      $6f                           ;[87c5] 6f
                    defb      $30                           ;[87c6] 30
                    defb      $84                           ;[87c7] 84
                    defb      $58                           ;[87c8] 58
                    defb      $1a                           ;[87c9] 1a
                    defb      $84                           ;[87ca] 84
                    defb      $42                           ;[87cb] 42
                    defb      $0d                           ;[87cc] 0d
                    defb      $84                           ;[87cd] 84
                    defb      $00                           ;[87ce] 00
nullstr:
                    defb      $28                           ;[87cf] 28
                    defb      $6e                           ;[87d0] 6e
                    defb      $75                           ;[87d1] 75
                    defb      $6c                           ;[87d2] 6c
                    defb      $6c                           ;[87d3] 6c
                    defb      $29                           ;[87d4] 29
                    defb      $00                           ;[87d5] 00
_errno:
                    defb      $00                           ;[87d6] 00
                    defb      $00                           ;[87d7] 00
__sgoioblk:
                    defb      $00                           ;[87d8] 00
                    defb      $00                           ;[87d9] 00
                    defb      $00                           ;[87da] 00
                    defb      $00                           ;[87db] 00
                    defb      $00                           ;[87dc] 00
                    defb      $00                           ;[87dd] 00
                    defb      $00                           ;[87de] 00
                    defb      $00                           ;[87df] 00
                    defb      $00                           ;[87e0] 00
                    defb      $00                           ;[87e1] 00
                    defb      $00                           ;[87e2] 00
                    defb      $00                           ;[87e3] 00
                    defb      $00                           ;[87e4] 00
                    defb      $00                           ;[87e5] 00
                    defb      $00                           ;[87e6] 00
                    defb      $00                           ;[87e7] 00
                    defb      $00                           ;[87e8] 00
                    defb      $00                           ;[87e9] 00
                    defb      $00                           ;[87ea] 00
                    defb      $00                           ;[87eb] 00
                    defb      $00                           ;[87ec] 00
                    defb      $00                           ;[87ed] 00
                    defb      $00                           ;[87ee] 00
                    defb      $00                           ;[87ef] 00
                    defb      $00                           ;[87f0] 00
                    defb      $00                           ;[87f1] 00
                    defb      $00                           ;[87f2] 00
                    defb      $00                           ;[87f3] 00
                    defb      $00                           ;[87f4] 00
                    defb      $00                           ;[87f5] 00
                    defb      $00                           ;[87f6] 00
                    defb      $00                           ;[87f7] 00
                    defb      $00                           ;[87f8] 00
                    defb      $00                           ;[87f9] 00
                    defb      $00                           ;[87fa] 00
                    defb      $00                           ;[87fb] 00
                    defb      $00                           ;[87fc] 00
                    defb      $00                           ;[87fd] 00
                    defb      $00                           ;[87fe] 00
                    defb      $00                           ;[87ff] 00
                    defb      $00                           ;[8800] 00
                    defb      $00                           ;[8801] 00
                    defb      $00                           ;[8802] 00
                    defb      $00                           ;[8803] 00
                    defb      $00                           ;[8804] 00
                    defb      $00                           ;[8805] 00
                    defb      $00                           ;[8806] 00
                    defb      $00                           ;[8807] 00
                    defb      $00                           ;[8808] 00
                    defb      $00                           ;[8809] 00
                    defb      $00                           ;[880a] 00
                    defb      $00                           ;[880b] 00
                    defb      $00                           ;[880c] 00
                    defb      $00                           ;[880d] 00
                    defb      $00                           ;[880e] 00
                    defb      $00                           ;[880f] 00
                    defb      $00                           ;[8810] 00
                    defb      $00                           ;[8811] 00
                    defb      $00                           ;[8812] 00
                    defb      $00                           ;[8813] 00
                    defb      $00                           ;[8814] 00
                    defb      $00                           ;[8815] 00
                    defb      $00                           ;[8816] 00
                    defb      $00                           ;[8817] 00
                    defb      $00                           ;[8818] 00
                    defb      $00                           ;[8819] 00
                    defb      $00                           ;[881a] 00
                    defb      $00                           ;[881b] 00
                    defb      $00                           ;[881c] 00
                    defb      $00                           ;[881d] 00
                    defb      $00                           ;[881e] 00
                    defb      $00                           ;[881f] 00
                    defb      $00                           ;[8820] 00
                    defb      $00                           ;[8821] 00
                    defb      $00                           ;[8822] 00
                    defb      $00                           ;[8823] 00
                    defb      $00                           ;[8824] 00
                    defb      $00                           ;[8825] 00
                    defb      $00                           ;[8826] 00
                    defb      $00                           ;[8827] 00
                    defb      $00                           ;[8828] 00
                    defb      $00                           ;[8829] 00
                    defb      $00                           ;[882a] 00
                    defb      $00                           ;[882b] 00
                    defb      $00                           ;[882c] 00
                    defb      $00                           ;[882d] 00
                    defb      $00                           ;[882e] 00
                    defb      $00                           ;[882f] 00
                    defb      $00                           ;[8830] 00
                    defb      $00                           ;[8831] 00
                    defb      $00                           ;[8832] 00
                    defb      $00                           ;[8833] 00
                    defb      $00                           ;[8834] 00
                    defb      $00                           ;[8835] 00
                    defb      $00                           ;[8836] 00
                    defb      $00                           ;[8837] 00
                    defb      $00                           ;[8838] 00
                    defb      $00                           ;[8839] 00
                    defb      $00                           ;[883a] 00
                    defb      $00                           ;[883b] 00
__sgoioblk_end:
                    defb      $00                           ;[883c] 00
                    defb      $00                           ;[883d] 00
__exit_atexit_count:
                    defb      $00                           ;[883e] 00
__exit_atexit_funcs:
                    defb      $00                           ;[883f] 00
                    defb      $00                           ;[8840] 00
