start:
                    call      crt0_init                     ;[8000] cd 66 80
                    ld        hl,$ffc0                      ;[8003] 21 c0 ff
                    add       hl,sp                         ;[8006] 39
                    ld        sp,hl                         ;[8007] f9
                    ld        (__exit_atexit_funcs),hl      ;[8008] 22 47 88
                    call      _main                         ;[800b] cd 8a 81
__Exit:
                    call      crt0_exit                     ;[800e] cd 83 80
                    jp        WARMSTART                     ;[8011] c3 10 00
l_dcal:
                    jp        (hl)                          ;[8014] e9
_fputc_cons:
                    pop       bc                            ;[8015] c1
                    pop       hl                            ;[8016] e1
                    push      hl                            ;[8017] e5
                    push      bc                            ;[8018] c5
                    ld        a,l                           ;[8019] 7d
                    call      putchar_beanboard             ;[801a] cd 45 00
                    ret                                     ;[801d] c9

_fgetc_cons:
                    call      getchar_beanboard             ;[801e] cd 23 00
                    ld        l,a                           ;[8021] 6f
                    ld        h,$00                         ;[8022] 26 00
                    ret                                     ;[8024] c9

_marvin_readchar:
                    call      readchar_beanboard            ;[8025] cd 2b 00
                    ld        h,$00                         ;[8028] 26 00
                    ld        l,a                           ;[802a] 6f
                    ret                                     ;[802b] c9

_marvin_lcd_putchar:
                    pop       bc                            ;[802c] c1
                    pop       hl                            ;[802d] e1
                    push      hl                            ;[802e] e5
                    push      bc                            ;[802f] c5
                    ld        a,l                           ;[8030] 7d
                    call      lcd_putchar_beanboard         ;[8031] cd 48 02
                    ret                                     ;[8034] c9

_marvin_lcd_putcmd:
                    pop       bc                            ;[8035] c1
                    pop       hl                            ;[8036] e1
                    push      hl                            ;[8037] e5
                    push      bc                            ;[8038] c5
                    ld        a,l                           ;[8039] 7d
                    call      lcd_putcmd_beanboard          ;[803a] cd 32 02
                    ret                                     ;[803d] c9

_marvin_lcd_init:
                    call      lcd_init_beanboard            ;[803e] cd 1b 02
                    ret                                     ;[8041] c9

_marvin_lcd_puts:
                    pop       bc                            ;[8042] c1
                    pop       hl                            ;[8043] e1
                    push      hl                            ;[8044] e5
                    push      bc                            ;[8045] c5
                    call      lcd_puts_beanboard            ;[8046] cd c3 02
                    ret                                     ;[8049] c9

_marvin_gpio_in:
                    in        a,($07)                       ;[804a] db 07
                    ld        h,$00                         ;[804c] 26 00
                    ld        l,a                           ;[804e] 6f
                    ret                                     ;[804f] c9

_marvin_gpio_out:
                    pop       bc                            ;[8050] c1
                    pop       hl                            ;[8051] e1
                    push      hl                            ;[8052] e5
                    push      bc                            ;[8053] c5
                    ld        a,l                           ;[8054] 7d
                    out       ($06),a                       ;[8055] d3 06
                    ret                                     ;[8057] c9

_marvin_keyscan_in:
                    in        a,($03)                       ;[8058] db 03
                    ld        h,$00                         ;[805a] 26 00
                    ld        l,a                           ;[805c] 6f
                    ret                                     ;[805d] c9

_marvin_keyscan_out:
                    pop       bc                            ;[805e] c1
                    pop       hl                            ;[805f] e1
                    push      hl                            ;[8060] e5
                    push      bc                            ;[8061] c5
                    ld        a,l                           ;[8062] 7d
                    out       ($02),a                       ;[8063] d3 02
                    ret                                     ;[8065] c9

crt0_init:
                    xor       a                             ;[8066] af
                    ld        hl,$87de                      ;[8067] 21 de 87
                    ld        bc,$006a                      ;[806a] 01 6a 00
                    ld        de,$87df                      ;[806d] 11 df 87
                    ld        (hl),a                        ;[8070] 77
                    ldir                                    ;[8071] ed b0
                    ld        hl,$87e2                      ;[8073] 21 e2 87
                    ld        (hl),$12                      ;[8076] 36 12
                    ld        hl,$87ec                      ;[8078] 21 ec 87
                    ld        (hl),$14                      ;[807b] 36 14
                    ld        hl,$87f6                      ;[807d] 21 f6 87
                    ld        (hl),$14                      ;[8080] 36 14
                    ret                                     ;[8082] c9

crt0_exit:
                    ret                                     ;[8083] c9

l_long_neg:
                    ld        a,l                           ;[8084] 7d
                    cpl                                     ;[8085] 2f
                    ld        l,a                           ;[8086] 6f
                    ld        a,h                           ;[8087] 7c
                    cpl                                     ;[8088] 2f
                    ld        h,a                           ;[8089] 67
                    ld        a,e                           ;[808a] 7b
                    cpl                                     ;[808b] 2f
                    ld        e,a                           ;[808c] 5f
                    ld        a,d                           ;[808d] 7a
                    cpl                                     ;[808e] 2f
                    ld        d,a                           ;[808f] 57
                    inc       l                             ;[8090] 2c
                    ret       nz                            ;[8091] c0
                    inc       h                             ;[8092] 24
                    ret       nz                            ;[8093] c0
                    inc       de                            ;[8094] 13
                    ret                                     ;[8095] c9

l_load_64_dehldehl_mbc:
                    call      again_l_load_64_dehldehl_mbc  ;[8096] cd 99 80
again_l_load_64_dehldehl_mbc:
                    ld        a,(bc)                        ;[8099] 0a
                    inc       bc                            ;[809a] 03
                    ld        l,a                           ;[809b] 6f
                    ld        a,(bc)                        ;[809c] 0a
                    inc       bc                            ;[809d] 03
                    ld        h,a                           ;[809e] 67
                    ld        a,(bc)                        ;[809f] 0a
                    inc       bc                            ;[80a0] 03
                    ld        e,a                           ;[80a1] 5f
                    ld        a,(bc)                        ;[80a2] 0a
                    inc       bc                            ;[80a3] 03
                    ld        d,a                           ;[80a4] 57
                    push      bc                            ;[80a5] c5
                    exx                                     ;[80a6] d9
                    pop       bc                            ;[80a7] c1
                    ret                                     ;[80a8] c9

l_neg_64_mhl:
                    push      hl                            ;[80a9] e5
                    call      l_cpl_64_mhl                  ;[80aa] cd c5 80
                    pop       hl                            ;[80ad] e1
                    inc       (hl)                          ;[80ae] 34
                    ret       nz                            ;[80af] c0
                    inc       hl                            ;[80b0] 23
                    inc       (hl)                          ;[80b1] 34
                    ret       nz                            ;[80b2] c0
                    inc       hl                            ;[80b3] 23
                    inc       (hl)                          ;[80b4] 34
                    ret       nz                            ;[80b5] c0
                    inc       hl                            ;[80b6] 23
                    inc       (hl)                          ;[80b7] 34
                    ret       nz                            ;[80b8] c0
                    inc       hl                            ;[80b9] 23
                    inc       (hl)                          ;[80ba] 34
                    ret       nz                            ;[80bb] c0
                    inc       hl                            ;[80bc] 23
                    inc       (hl)                          ;[80bd] 34
                    ret       nz                            ;[80be] c0
                    inc       hl                            ;[80bf] 23
                    inc       (hl)                          ;[80c0] 34
                    ret       nz                            ;[80c1] c0
                    inc       hl                            ;[80c2] 23
                    inc       (hl)                          ;[80c3] 34
                    ret                                     ;[80c4] c9

l_cpl_64_mhl:
                    call      again_l_cpl_64_mhl            ;[80c5] cd c8 80
again_l_cpl_64_mhl:
                    ld        a,(hl)                        ;[80c8] 7e
                    cpl                                     ;[80c9] 2f
                    ld        (hl),a                        ;[80ca] 77
                    inc       hl                            ;[80cb] 23
                    ld        a,(hl)                        ;[80cc] 7e
                    cpl                                     ;[80cd] 2f
                    ld        (hl),a                        ;[80ce] 77
                    inc       hl                            ;[80cf] 23
                    ld        a,(hl)                        ;[80d0] 7e
                    cpl                                     ;[80d1] 2f
                    ld        (hl),a                        ;[80d2] 77
                    inc       hl                            ;[80d3] 23
                    ld        a,(hl)                        ;[80d4] 7e
                    cpl                                     ;[80d5] 2f
                    ld        (hl),a                        ;[80d6] 77
                    inc       hl                            ;[80d7] 23
                    ret                                     ;[80d8] c9

l_testzero_64_dehldehl:
                    exx                                     ;[80d9] d9
                    ld        a,d                           ;[80da] 7a
                    or        e                             ;[80db] b3
                    or        h                             ;[80dc] b4
                    or        l                             ;[80dd] b5
                    exx                                     ;[80de] d9
                    or        d                             ;[80df] b2
                    or        e                             ;[80e0] b3
                    or        h                             ;[80e1] b4
                    or        l                             ;[80e2] b5
                    ret                                     ;[80e3] c9

l_eat_sign:
                    ld        a,(hl)                        ;[80e4] 7e
                    inc       hl                            ;[80e5] 23
                    cp        $2b                           ;[80e6] fe 2b
                    ret       z                             ;[80e8] c8
                    cp        $2d                           ;[80e9] fe 2d
                    scf                                     ;[80eb] 37
                    ret       z                             ;[80ec] c8
                    dec       hl                            ;[80ed] 2b
                    or        a                             ;[80ee] b7
                    ret                                     ;[80ef] c9

l_eat_ws:
                    ld        a,(hl)                        ;[80f0] 7e
                    call      asm_isspace                   ;[80f1] cd 6c 86
                    ret       c                             ;[80f4] d8
                    inc       hl                            ;[80f5] 23
                    jr        l_eat_ws                      ;[80f6] 18 f8
l_num2char:
                    cp        $0a                           ;[80f8] fe 0a
                    jr        nc,alpha                      ;[80fa] 30 03
                    add       $30                           ;[80fc] c6 30
                    ret                                     ;[80fe] c9

alpha:
                    add       $37                           ;[80ff] c6 37
                    ret                                     ;[8101] c9

l_valid_base:
                    ld        a,b                           ;[8102] 78
                    or        a                             ;[8103] b7
                    ret       nz                            ;[8104] c0
                    or        c                             ;[8105] b1
                    ret       z                             ;[8106] c8
                    ld        a,c                           ;[8107] 79
                    cp        $25                           ;[8108] fe 25
                    ret       nc                            ;[810a] d0
                    cp        $02                           ;[810b] fe 02
                    ccf                                     ;[810d] 3f
                    ret                                     ;[810e] c9

l_atou:
                    ld        hl,$0000                      ;[810f] 21 00 00
                    dec       de                            ;[8112] 1b
                    push      hl                            ;[8113] e5
loop:
                    pop       af                            ;[8114] f1
                    inc       de                            ;[8115] 13
                    ld        a,(de)                        ;[8116] 1a
                    sub       $30                           ;[8117] d6 30
                    ccf                                     ;[8119] 3f
                    ret       nc                            ;[811a] d0
                    cp        $0a                           ;[811b] fe 0a
                    ret       nc                            ;[811d] d0
                    push      hl                            ;[811e] e5
                    add       hl,hl                         ;[811f] 29
                    jr        c,overflow_l_small_atou       ;[8120] 38 12
                    ld        c,l                           ;[8122] 4d
                    ld        b,h                           ;[8123] 44
                    add       hl,hl                         ;[8124] 29
                    jr        c,overflow_l_small_atou       ;[8125] 38 0d
                    add       hl,hl                         ;[8127] 29
                    jr        c,overflow_l_small_atou       ;[8128] 38 0a
                    add       hl,bc                         ;[812a] 09
                    jr        c,overflow_l_small_atou       ;[812b] 38 07
                    add       l                             ;[812d] 85
                    ld        l,a                           ;[812e] 6f
                    jr        nc,loop                       ;[812f] 30 e3
                    inc       h                             ;[8131] 24
                    jr        nz,loop                       ;[8132] 20 e0
overflow_l_small_atou:
                    pop       hl                            ;[8134] e1
                    scf                                     ;[8135] 37
                    ret                                     ;[8136] c9

l_neg_hl:
                    ld        a,l                           ;[8137] 7d
                    cpl                                     ;[8138] 2f
                    ld        l,a                           ;[8139] 6f
                    ld        a,h                           ;[813a] 7c
                    cpl                                     ;[813b] 2f
                    ld        h,a                           ;[813c] 67
                    inc       hl                            ;[813d] 23
                    ret                                     ;[813e] c9

l_long_mod_u:
                    and       a                             ;[813f] a7
                    jr        common                        ;[8140] 18 01
l_long_div_u:
                    scf                                     ;[8142] 37
common:
                    exx                                     ;[8143] d9
                    pop       bc                            ;[8144] c1
                    pop       hl                            ;[8145] e1
                    pop       de                            ;[8146] d1
                    push      bc                            ;[8147] c5
                    jp        c,$8676                       ;[8148] da 76 86
                    call      $8676                         ;[814b] cd 76 86
                    exx                                     ;[814e] d9
                    ret                                     ;[814f] c9

l_int2long_s:
                    ld        de,$0000                      ;[8150] 11 00 00
                    bit       7,h                           ;[8153] cb 7c
                    ret       z                             ;[8155] c8
                    dec       de                            ;[8156] 1b
                    ret                                     ;[8157] c9

l_gchar3:
                    inc       hl                            ;[8158] 23
l_gchar2:
                    inc       hl                            ;[8159] 23
l_gchar1:
                    inc       hl                            ;[815a] 23
l_gchar:
                    ld        a,(hl)                        ;[815b] 7e
l_gchar_sxt:
                    ld        l,a                           ;[815c] 6f
                    rlca                                    ;[815d] 07
                    sbc       a                             ;[815e] 9f
                    ld        h,a                           ;[815f] 67
                    ret                                     ;[8160] c9

l_ge:
                    ld        a,h                           ;[8161] 7c
                    add       $80                           ;[8162] c6 80
                    ld        b,a                           ;[8164] 47
                    ld        a,d                           ;[8165] 7a
                    add       $80                           ;[8166] c6 80
                    cp        b                             ;[8168] b8
                    ccf                                     ;[8169] 3f
                    jp        nz,l_compare_result           ;[816a] c2 73 81
                    ld        a,e                           ;[816d] 7b
                    cp        l                             ;[816e] bd
                    ccf                                     ;[816f] 3f
                    jp        l_compare_result              ;[8170] c3 73 81
l_compare_result:
                    ld        hl,$0000                      ;[8173] 21 00 00
                    ret       nc                            ;[8176] d0
                    inc       hl                            ;[8177] 23
                    ret                                     ;[8178] c9

l_jphl:
                    jp        (hl)                          ;[8179] e9
                    pop       hl                            ;[817a] e1
                    pop       hl                            ;[817b] e1
                    pop       hl                            ;[817c] e1
__printf_pickup_far:
                    ret                                     ;[817d] c9

l_uge:
                    ld        a,d                           ;[817e] 7a
                    cp        h                             ;[817f] bc
                    ccf                                     ;[8180] 3f
                    jp        nz,l_compare_result           ;[8181] c2 73 81
                    ld        a,e                           ;[8184] 7b
                    cp        l                             ;[8185] bd
                    ccf                                     ;[8186] 3f
                    jp        l_compare_result              ;[8187] c3 73 81
_main:
                    ld        hl,$8775                      ;[818a] 21 75 87
                    push      hl                            ;[818d] e5
                    ld        a,$01                         ;[818e] 3e 01
                    call      printf                        ;[8190] cd 77 82
                    pop       bc                            ;[8193] c1
                    dec       sp                            ;[8194] 3b
i_2:
                    ld        hl,$0000                      ;[8195] 21 00 00
                    add       hl,sp                         ;[8198] 39
                    push      hl                            ;[8199] e5
                    call      _fgetc_cons                   ;[819a] cd 1e 80
                    ld        a,l                           ;[819d] 7d
                    pop       de                            ;[819e] d1
                    ld        (de),a                        ;[819f] 12
                    ld        hl,$0000                      ;[81a0] 21 00 00
                    add       hl,sp                         ;[81a3] 39
                    call      l_gchar                       ;[81a4] cd 5b 81
                    ld        de,$001b                      ;[81a7] 11 1b 00
                    and       a                             ;[81aa] a7
                    sbc       hl,de                         ;[81ab] ed 52
                    jp        z,i_3                         ;[81ad] ca e8 81
i_4:
                    ld        hl,$0000                      ;[81b0] 21 00 00
                    add       hl,sp                         ;[81b3] 39
                    call      l_gchar                       ;[81b4] cd 5b 81
                    push      hl                            ;[81b7] e5
                    ld        hl,$87ea                      ;[81b8] 21 ea 87
                    push      hl                            ;[81bb] e5
                    call      _fputc_callee                 ;[81bc] cd ea 81
                    ld        hl,$0000                      ;[81bf] 21 00 00
                    add       hl,sp                         ;[81c2] 39
                    call      l_gchar                       ;[81c3] cd 5b 81
                    push      hl                            ;[81c6] e5
                    call      _marvin_gpio_out              ;[81c7] cd 50 80
                    pop       bc                            ;[81ca] c1
                    ld        hl,$0000                      ;[81cb] 21 00 00
                    add       hl,sp                         ;[81ce] 39
                    push      hl                            ;[81cf] e5
                    call      _marvin_gpio_in               ;[81d0] cd 4a 80
                    ld        a,l                           ;[81d3] 7d
                    pop       de                            ;[81d4] d1
                    ld        (de),a                        ;[81d5] 12
                    ld        hl,$0000                      ;[81d6] 21 00 00
                    add       hl,sp                         ;[81d9] 39
                    call      l_gchar                       ;[81da] cd 5b 81
                    push      hl                            ;[81dd] e5
                    ld        hl,$87ea                      ;[81de] 21 ea 87
                    push      hl                            ;[81e1] e5
                    call      _fputc_callee                 ;[81e2] cd ea 81
                    jp        i_2                           ;[81e5] c3 95 81
i_3:
                    inc       sp                            ;[81e8] 33
                    ret                                     ;[81e9] c9

_fputc_callee:
                    pop       de                            ;[81ea] d1
                    pop       hl                            ;[81eb] e1
                    pop       bc                            ;[81ec] c1
                    push      de                            ;[81ed] d5
                    push      ix                            ;[81ee] dd e5
                    push      hl                            ;[81f0] e5
                    pop       ix                            ;[81f1] dd e1
                    call      asm_fputc_callee              ;[81f3] cd f9 81
                    pop       ix                            ;[81f6] dd e1
                    ret                                     ;[81f8] c9

asm_fputc_callee:
                    ld        hl,$ffff                      ;[81f9] 21 ff ff
                    ld        a,(ix+$02)                    ;[81fc] dd 7e 02
                    and       a                             ;[81ff] a7
                    ret       z                             ;[8200] c8
                    ld        a,(ix+$02)                    ;[8201] dd 7e 02
                    and       $80                           ;[8204] e6 80
                    jr        z,no_string                   ;[8206] 28 26
                    ld        e,(ix+$04)                    ;[8208] dd 5e 04
                    ld        d,(ix+$05)                    ;[820b] dd 56 05
                    ld        a,d                           ;[820e] 7a
                    or        e                             ;[820f] b3
                    jr        nz,print_char_to_buf          ;[8210] 20 03
                    ex        de,hl                         ;[8212] eb
                    dec       hl                            ;[8213] 2b
                    ret                                     ;[8214] c9

print_char_to_buf:
                    dec       de                            ;[8215] 1b
                    ld        (ix+$04),e                    ;[8216] dd 73 04
                    ld        (ix+$05),d                    ;[8219] dd 72 05
                    ld        l,(ix+$00)                    ;[821c] dd 6e 00
                    ld        h,(ix+$01)                    ;[821f] dd 66 01
                    ld        (hl),c                        ;[8222] 71
                    inc       hl                            ;[8223] 23
                    ld        (ix+$00),l                    ;[8224] dd 75 00
                    ld        (ix+$01),h                    ;[8227] dd 74 01
                    ld        l,c                           ;[822a] 69
                    ld        h,$00                         ;[822b] 26 00
                    ret                                     ;[822d] c9

no_string:
                    ld        a,(ix+$02)                    ;[822e] dd 7e 02
                    and       $20                           ;[8231] e6 20
                    jr        z,no_net                      ;[8233] 28 0e
                    ld        l,(ix+$04)                    ;[8235] dd 6e 04
                    ld        h,(ix+$05)                    ;[8238] dd 66 05
                    ld        a,$02                         ;[823b] 3e 02
                    push      bc                            ;[823d] c5
                    call      l_jphl                        ;[823e] cd 79 81
                    pop       hl                            ;[8241] e1
                    ret                                     ;[8242] c9

no_net:
                    push      ix                            ;[8243] dd e5
                    call      ___fchkstd                    ;[8245] cd 60 82
                    pop       ix                            ;[8248] dd e1
                    jr        c,no_cons                     ;[824a] 38 06
                    push      bc                            ;[824c] c5
                    call      _fputc_cons                   ;[824d] cd 15 80
                    pop       hl                            ;[8250] e1
                    ret                                     ;[8251] c9

no_cons:
                    ld        l,(ix+$00)                    ;[8252] dd 6e 00
                    ld        h,(ix+$01)                    ;[8255] dd 66 01
                    push      hl                            ;[8258] e5
                    push      bc                            ;[8259] c5
                    call      ___writebyte                  ;[825a] cd 6b 86
                    pop       hl                            ;[825d] e1
                    pop       bc                            ;[825e] c1
                    ret                                     ;[825f] c9

___fchkstd:
                    pop       hl                            ;[8260] e1
                    pop       de                            ;[8261] d1
                    push      de                            ;[8262] d5
                    push      hl                            ;[8263] e5
                    ld        hl,$0000                      ;[8264] 21 00 00
                    inc       de                            ;[8267] 13
                    inc       de                            ;[8268] 13
                    ld        a,(de)                        ;[8269] 1a
                    and       $10                           ;[826a] e6 10
                    scf                                     ;[826c] 37
                    ret       z                             ;[826d] c8
                    dec       hl                            ;[826e] 2b
                    ld        a,(de)                        ;[826f] 1a
                    and       $02                           ;[8270] e6 02
                    ret       nz                            ;[8272] c0
                    inc       hl                            ;[8273] 23
                    inc       hl                            ;[8274] 23
                    and       a                             ;[8275] a7
                    ret                                     ;[8276] c9

printf:
                    ld        l,a                           ;[8277] 6f
                    ld        h,$00                         ;[8278] 26 00
                    add       hl,hl                         ;[827a] 29
                    add       hl,sp                         ;[827b] 39
                    push      ix                            ;[827c] dd e5
                    ld        bc,$87ea                      ;[827e] 01 ea 87
                    push      bc                            ;[8281] c5
                    ld        bc,$81ea                      ;[8282] 01 ea 81
                    push      bc                            ;[8285] c5
                    ld        bc,$0001                      ;[8286] 01 01 00
                    push      bc                            ;[8289] c5
                    ld        e,(hl)                        ;[828a] 5e
                    inc       hl                            ;[828b] 23
                    ld        d,(hl)                        ;[828c] 56
                    push      de                            ;[828d] d5
                    dec       hl                            ;[828e] 2b
                    dec       hl                            ;[828f] 2b
                    dec       hl                            ;[8290] 2b
                    push      hl                            ;[8291] e5
                    call      asm_printf                    ;[8292] cd 9d 82
                    pop       bc                            ;[8295] c1
                    pop       bc                            ;[8296] c1
                    pop       bc                            ;[8297] c1
                    pop       bc                            ;[8298] c1
                    pop       bc                            ;[8299] c1
                    pop       ix                            ;[829a] dd e1
                    ret                                     ;[829c] c9

asm_printf:
                    ld        ix,$0000                      ;[829d] dd 21 00 00
                    add       ix,sp                         ;[82a1] dd 39
                    ld        hl,$ffb0                      ;[82a3] 21 b0 ff
                    add       hl,sp                         ;[82a6] 39
                    ld        sp,hl                         ;[82a7] f9
                    ld        e,(ix+$02)                    ;[82a8] dd 5e 02
                    ld        d,(ix+$03)                    ;[82ab] dd 56 03
                    ld        l,(ix+$04)                    ;[82ae] dd 6e 04
                    ld        h,(ix+$05)                    ;[82b1] dd 66 05
                    xor       a                             ;[82b4] af
                    ld        (ix-$01),a                    ;[82b5] dd 77 ff
                    ld        (ix-$02),a                    ;[82b8] dd 77 fe
                    dec       a                             ;[82bb] 3d
                    ld        (ix-$05),a                    ;[82bc] dd 77 fb
                    ld        (ix-$06),a                    ;[82bf] dd 77 fa
                    ld        (ix-$07),a                    ;[82c2] dd 77 f9
                    ld        (ix-$08),a                    ;[82c5] dd 77 f8
__printf_loop:
                    ld        (ix-$09),$0a                  ;[82c8] dd 36 f7 0a
                    xor       a                             ;[82cc] af
                    ld        (ix-$03),a                    ;[82cd] dd 77 fd
                    ld        (ix-$04),a                    ;[82d0] dd 77 fc
                    ld        (ix-$0a),a                    ;[82d3] dd 77 f6
                    ld        a,(hl)                        ;[82d6] 7e
                    inc       hl                            ;[82d7] 23
                    and       a                             ;[82d8] a7
                    jr        nz,cont                       ;[82d9] 20 07
                    ld        hl,$004e                      ;[82db] 21 4e 00
                    add       hl,sp                         ;[82de] 39
                    ld        sp,hl                         ;[82df] f9
                    pop       hl                            ;[82e0] e1
__printf_get_flags_noop:
                    ret                                     ;[82e1] c9

cont:
                    cp        $25                           ;[82e2] fe 25
                    jr        z,handle_percent              ;[82e4] 28 05
print_format_character:
                    call      __printf_doprint              ;[82e6] cd 2e 83
                    jr        __printf_loop                 ;[82e9] 18 dd
handle_percent:
                    ld        a,(hl)                        ;[82eb] 7e
                    inc       hl                            ;[82ec] 23
                    cp        $25                           ;[82ed] fe 25
                    jr        z,print_format_character      ;[82ef] 28 f5
                    call      __printf_get_flags            ;[82f1] cd 65 83
                    res       6,(ix-$04)                    ;[82f4] dd cb fc b6
                    cp        $7a                           ;[82f8] fe 7a
                    jr        z,get_next_char               ;[82fa] 28 14
                    cp        $68                           ;[82fc] fe 68
                    jr        nz,check_long_qualifier       ;[82fe] 20 08
                    ld        a,(hl)                        ;[8300] 7e
                    inc       hl                            ;[8301] 23
                    cp        $68                           ;[8302] fe 68
                    jr        nz,no_long_qualifier          ;[8304] 20 0c
                    jr        get_next_char                 ;[8306] 18 08
check_long_qualifier:
                    cp        $6c                           ;[8308] fe 6c
                    jr        nz,no_long_qualifier          ;[830a] 20 06
                    set       6,(ix-$04)                    ;[830c] dd cb fc f6
get_next_char:
                    ld        a,(hl)                        ;[8310] 7e
                    inc       hl                            ;[8311] 23
no_long_qualifier:
                    push      hl                            ;[8312] e5
                    ld        hl,$87a2                      ;[8313] 21 a2 87
                    ld        c,a                           ;[8316] 4f
__printf_format_search_loop:
                    ld        a,(hl)                        ;[8317] 7e
                    and       a                             ;[8318] a7
                    jr        z,no_format_found             ;[8319] 28 0f
                    cp        c                             ;[831b] b9
                    jr        nz,no_format_match            ;[831c] 20 07
                    inc       hl                            ;[831e] 23
                    ld        c,(hl)                        ;[831f] 4e
                    inc       hl                            ;[8320] 23
                    ld        b,(hl)                        ;[8321] 46
                    pop       hl                            ;[8322] e1
                    push      bc                            ;[8323] c5
                    ret                                     ;[8324] c9

no_format_match:
                    inc       hl                            ;[8325] 23
                    inc       hl                            ;[8326] 23
                    inc       hl                            ;[8327] 23
                    jr        __printf_format_search_loop   ;[8328] 18 ed
no_format_found:
                    pop       hl                            ;[832a] e1
                    ld        a,c                           ;[832b] 79
                    jr        print_format_character        ;[832c] 18 b8
__printf_doprint:
                    push      hl                            ;[832e] e5
                    push      de                            ;[832f] d5
                    push      bc                            ;[8330] c5
                    push      ix                            ;[8331] dd e5
                    exx                                     ;[8333] d9
                    push      bc                            ;[8334] c5
                    push      de                            ;[8335] d5
                    exx                                     ;[8336] d9
                    ex        af,af'                        ;[8337] 08
                    push      af                            ;[8338] f5
                    ex        af,af'                        ;[8339] 08
                    inc       (ix-$02)                      ;[833a] dd 34 fe
                    jr        nz,no_inc                     ;[833d] 20 03
                    inc       (ix-$01)                      ;[833f] dd 34 ff
no_inc:
                    ld        c,a                           ;[8342] 4f
                    ld        b,$00                         ;[8343] 06 00
                    push      bc                            ;[8345] c5
                    ld        c,(ix+$0a)                    ;[8346] dd 4e 0a
                    ld        b,(ix+$0b)                    ;[8349] dd 46 0b
                    push      bc                            ;[834c] c5
                    ld        bc,$8358                      ;[834d] 01 58 83
                    push      bc                            ;[8350] c5
                    ld        l,(ix+$08)                    ;[8351] dd 6e 08
                    ld        h,(ix+$09)                    ;[8354] dd 66 09
                    jp        (hl)                          ;[8357] e9
doprint_return:
                    ex        af,af'                        ;[8358] 08
                    pop       af                            ;[8359] f1
                    ex        af,af'                        ;[835a] 08
                    exx                                     ;[835b] d9
                    pop       de                            ;[835c] d1
                    pop       bc                            ;[835d] c1
                    exx                                     ;[835e] d9
                    pop       ix                            ;[835f] dd e1
                    pop       bc                            ;[8361] c1
                    pop       de                            ;[8362] d1
                    pop       hl                            ;[8363] e1
                    ret                                     ;[8364] c9

__printf_get_flags:
                    ld        c,$00                         ;[8365] 0e 00
flags_again:
                    push      hl                            ;[8367] e5
                    ld        b,$05                         ;[8368] 06 05
                    ld        hl,$8379                      ;[836a] 21 79 83
flag_loop:
                    cp        (hl)                          ;[836d] be
                    inc       hl                            ;[836e] 23
                    jr        nz,no_flag                    ;[836f] 20 12
                    ld        a,(hl)                        ;[8371] 7e
                    or        c                             ;[8372] b1
                    ld        c,a                           ;[8373] 4f
                    pop       hl                            ;[8374] e1
                    ld        a,(hl)                        ;[8375] 7e
                    inc       hl                            ;[8376] 23
                    jr        flags_again                   ;[8377] 18 ee
flags:
                    dec       l                             ;[8379] 2d
                    ld        bc,$022b                      ;[837a] 01 2b 02
                    jr        nz,$8387                      ;[837d] 20 08
                    inc       hl                            ;[837f] 23
                    djnz      $83b2                         ;[8380] 10 30
                    inc       b                             ;[8382] 04
no_flag:
                    inc       hl                            ;[8383] 23
                    djnz      flag_loop                     ;[8384] 10 e7
                    pop       hl                            ;[8386] e1
                    ld        (ix-$04),c                    ;[8387] dd 71 fc
check_width:
                    ld        (ix-$05),$00                  ;[838a] dd 36 fb 00
                    ld        (ix-$06),$00                  ;[838e] dd 36 fa 00
                    cp        $2a                           ;[8392] fe 2a
                    jr        nz,check_width_from_format    ;[8394] 20 08
starred_width:
                    push      hl                            ;[8396] e5
                    call      get_16bit_ap_parameter        ;[8397] cd 3e 86
                    ex        de,hl                         ;[839a] eb
                    ex        (sp),hl                       ;[839b] e3
                    jr        save_width                    ;[839c] 18 0e
check_width_from_format:
                    cp        $30                           ;[839e] fe 30
                    jr        c,check_precision             ;[83a0] 38 13
                    cp        $3a                           ;[83a2] fe 3a
                    jr        nc,check_precision            ;[83a4] 30 0f
                    push      de                            ;[83a6] d5
                    dec       hl                            ;[83a7] 2b
                    call      asm_atoi                      ;[83a8] cd 24 87
                    ex        de,hl                         ;[83ab] eb
save_width:
                    ld        (ix-$05),d                    ;[83ac] dd 72 fb
                    ld        (ix-$06),e                    ;[83af] dd 73 fa
                    pop       de                            ;[83b2] d1
                    ld        a,(hl)                        ;[83b3] 7e
                    inc       hl                            ;[83b4] 23
check_precision:
                    ld        (ix-$07),$ff                  ;[83b5] dd 36 f9 ff
                    ld        (ix-$08),$ff                  ;[83b9] dd 36 f8 ff
                    cp        $2e                           ;[83bd] fe 2e
                    jr        nz,no_precision               ;[83bf] 20 1c
                    ld        a,(hl)                        ;[83c1] 7e
                    cp        $2a                           ;[83c2] fe 2a
                    jr        nz,check_precision_from_format;[83c4] 20 09
                    inc       hl                            ;[83c6] 23
                    push      hl                            ;[83c7] e5
                    call      get_16bit_ap_parameter        ;[83c8] cd 3e 86
                    ex        de,hl                         ;[83cb] eb
                    ex        (sp),hl                       ;[83cc] e3
                    jr        save_precision                ;[83cd] 18 05
check_precision_from_format:
                    push      de                            ;[83cf] d5
                    call      asm_atoi                      ;[83d0] cd 24 87
                    ex        de,hl                         ;[83d3] eb
save_precision:
                    ld        (ix-$07),d                    ;[83d4] dd 72 f9
                    ld        (ix-$08),e                    ;[83d7] dd 73 f8
                    ld        a,(hl)                        ;[83da] 7e
                    inc       hl                            ;[83db] 23
                    pop       de                            ;[83dc] d1
no_precision:
                    ret                                     ;[83dd] c9

__printf_handle_B:
                    ld        (ix-$09),$02                  ;[83de] dd 36 f7 02
                    res       1,(ix-$04)                    ;[83e2] dd cb fc 8e
                    ld        c,$00                         ;[83e6] 0e 00
                    jp        __printf_number               ;[83e8] c3 a8 84
__printf_handle_X:
                    ld        (ix-$09),$10                  ;[83eb] dd 36 f7 10
                    ld        (ix-$03),$e0                  ;[83ef] dd 36 fd e0
                    res       1,(ix-$04)                    ;[83f3] dd cb fc 8e
                    ld        c,$00                         ;[83f7] 0e 00
                    jp        __printf_number               ;[83f9] c3 a8 84
__printf_handle_c:
                    push      hl                            ;[83fc] e5
                    call      get_16bit_ap_parameter        ;[83fd] cd 3e 86
                    push      de                            ;[8400] d5
                    ld        a,l                           ;[8401] 7d
                    call      __printf_print_to_buf         ;[8402] cd 2c 86
                    jp        __printf_print_the_buffer     ;[8405] c3 1a 86
__printf_handle_d:
                    ld        c,$01                         ;[8408] 0e 01
                    jp        __printf_number               ;[840a] c3 a8 84
__printf_handle_ll:
                    ld        c,(hl)                        ;[840d] 4e
                    inc       hl                            ;[840e] 23
                    push      hl                            ;[840f] e5
                    ld        hl,$87c4                      ;[8410] 21 c4 87
                    jp        __printf_format_search_loop   ;[8413] c3 17 83
__printf_handle_llB:
                    ld        c,$00                         ;[8416] 0e 00
                    ld        (ix-$09),$02                  ;[8418] dd 36 f7 02
                    res       1,(ix-$04)                    ;[841c] dd cb fc 8e
                    jp        __printf_number64             ;[8420] c3 41 85
__printf_handle_llX:
                    ld        c,$00                         ;[8423] 0e 00
                    ld        (ix-$09),$10                  ;[8425] dd 36 f7 10
                    ld        (ix-$03),$e0                  ;[8429] dd 36 fd e0
                    res       1,(ix-$04)                    ;[842d] dd cb fc 8e
                    jp        __printf_number64             ;[8431] c3 41 85
__printf_handle_lld:
                    ld        c,$01                         ;[8434] 0e 01
                    jp        __printf_number64             ;[8436] c3 41 85
__printf_handle_llo:
                    ld        c,$00                         ;[8439] 0e 00
                    ld        (ix-$09),$08                  ;[843b] dd 36 f7 08
                    jp        __printf_number64             ;[843f] c3 41 85
__printf_handle_llu:
                    ld        c,$00                         ;[8442] 0e 00
                    jp        __printf_number64             ;[8444] c3 41 85
__printf_handle_llx:
                    ld        c,$00                         ;[8447] 0e 00
                    ld        (ix-$09),$10                  ;[8449] dd 36 f7 10
                    res       1,(ix-$04)                    ;[844d] dd cb fc 8e
                    jp        __printf_number64             ;[8451] c3 41 85
__printf_handle_n:
                    push      hl                            ;[8454] e5
                    call      get_16bit_ap_parameter        ;[8455] cd 3e 86
                    ld        a,(ix-$02)                    ;[8458] dd 7e fe
                    ld        (hl),a                        ;[845b] 77
                    ld        a,(ix-$01)                    ;[845c] dd 7e ff
                    inc       hl                            ;[845f] 23
                    ld        (hl),a                        ;[8460] 77
                    pop       hl                            ;[8461] e1
                    jp        __printf_loop                 ;[8462] c3 c8 82
__printf_handle_o:
                    ld        (ix-$09),$08                  ;[8465] dd 36 f7 08
                    ld        c,$00                         ;[8469] 0e 00
                    jp        __printf_number               ;[846b] c3 a8 84
__printf_handle_s:
                    push      hl                            ;[846e] e5
                    call      get_16bit_ap_parameter        ;[846f] cd 3e 86
                    push      de                            ;[8472] d5
                    ld        a,h                           ;[8473] 7c
                    or        l                             ;[8474] b5
                    jr        nz,printstr                   ;[8475] 20 03
                    ld        hl,$87d7                      ;[8477] 21 d7 87
printstr:
                    push      hl                            ;[847a] e5
                    call      asm_strlen                    ;[847b] cd 6a 87
                    ex        de,hl                         ;[847e] eb
                    ld        l,(ix-$08)                    ;[847f] dd 6e f8
                    ld        h,(ix-$07)                    ;[8482] dd 66 f9
                    push      hl                            ;[8485] e5
                    call      l_uge                         ;[8486] cd 7e 81
                    pop       hl                            ;[8489] e1
                    jr        nc,use_strlen                 ;[848a] 30 01
                    ex        de,hl                         ;[848c] eb
use_strlen:
                    pop       bc                            ;[848d] c1
                    call      __printf_print_aligned        ;[848e] cd c9 85
printstr_end:
                    pop       de                            ;[8491] d1
                    pop       hl                            ;[8492] e1
                    jp        __printf_loop                 ;[8493] c3 c8 82
__printf_handle_u:
                    ld        c,$00                         ;[8496] 0e 00
                    jp        __printf_number               ;[8498] c3 a8 84
__printf_handle_p:
                    ld        (ix-$09),$10                  ;[849b] dd 36 f7 10
                    res       1,(ix-$04)                    ;[849f] dd cb fc 8e
                    ld        c,$00                         ;[84a3] 0e 00
                    jp        __printf_number               ;[84a5] c3 a8 84
__printf_number:
                    push      hl                            ;[84a8] e5
                    bit       6,(ix-$04)                    ;[84a9] dd cb fc 76
                    jr        z,printf_number16             ;[84ad] 28 08
                    call      get_32bit_ap_parameter        ;[84af] cd 4f 86
printlong:
                    push      hl                            ;[84b2] e5
                    ld        l,a                           ;[84b3] 6f
                    ld        h,b                           ;[84b4] 60
                    jr        miniprintn                    ;[84b5] 18 0c
printf_number16:
                    call      get_16bit_ap_parameter        ;[84b7] cd 3e 86
                    push      de                            ;[84ba] d5
                    ld        de,$0000                      ;[84bb] 11 00 00
                    ld        a,c                           ;[84be] 79
                    and       a                             ;[84bf] a7
                    call      nz,l_int2long_s               ;[84c0] c4 50 81
miniprintn:
                    ld        a,d                           ;[84c3] 7a
                    rlca                                    ;[84c4] 07
                    and       $01                           ;[84c5] e6 01
                    and       c                             ;[84c7] a1
                    jr        z,noneg___printf_number       ;[84c8] 28 0a
                    call      l_long_neg                    ;[84ca] cd 84 80
                    ld        a,$2d                         ;[84cd] 3e 2d
printsign___printf_number:
                    call      __printf_print_to_buf         ;[84cf] cd 2c 86
                    jr        miniprintn_start_process      ;[84d2] 18 30
noneg___printf_number:
                    ld        a,$20                         ;[84d4] 3e 20
                    bit       3,(ix-$04)                    ;[84d6] dd cb fc 5e
                    jr        nz,printsign___printf_number  ;[84da] 20 f3
                    ld        a,$2b                         ;[84dc] 3e 2b
                    bit       1,(ix-$04)                    ;[84de] dd cb fc 4e
                    jr        nz,printsign___printf_number  ;[84e2] 20 eb
                    bit       4,(ix-$04)                    ;[84e4] dd cb fc 66
                    jr        z,miniprintn_start_process    ;[84e8] 28 1a
                    ld        a,(ix-$09)                    ;[84ea] dd 7e f7
                    cp        $0a                           ;[84ed] fe 0a
                    jr        z,miniprintn_start_process    ;[84ef] 28 13
                    push      af                            ;[84f1] f5
                    ld        a,$30                         ;[84f2] 3e 30
                    call      __printf_print_to_buf         ;[84f4] cd 2c 86
                    pop       af                            ;[84f7] f1
                    cp        $10                           ;[84f8] fe 10
                    jr        nz,miniprintn_start_process   ;[84fa] 20 08
                    ld        a,$78                         ;[84fc] 3e 78
                    add       (ix-$03)                      ;[84fe] dd 86 fd
                    call      __printf_print_to_buf         ;[8501] cd 2c 86
miniprintn_start_process:
                    xor       a                             ;[8504] af
                    push      af                            ;[8505] f5
divloop:
                    push      de                            ;[8506] d5
                    push      hl                            ;[8507] e5
                    ld        l,(ix-$09)                    ;[8508] dd 6e f7
                    ld        h,$00                         ;[850b] 26 00
                    ld        d,h                           ;[850d] 54
                    ld        e,h                           ;[850e] 5c
                    call      l_long_div_u                  ;[850f] cd 42 81
                    exx                                     ;[8512] d9
                    ld        a,l                           ;[8513] 7d
                    cp        $ff                           ;[8514] fe ff
                    push      af                            ;[8516] f5
                    exx                                     ;[8517] d9
                    ld        a,h                           ;[8518] 7c
                    or        d                             ;[8519] b2
                    or        e                             ;[851a] b3
                    or        l                             ;[851b] b5
                    jr        nz,divloop                    ;[851c] 20 e8
printloop:
                    pop       af                            ;[851e] f1
                    jp        z,__printf_print_the_buffer   ;[851f] ca 1a 86
                    add       $30                           ;[8522] c6 30
                    cp        $3a                           ;[8524] fe 3a
                    jr        c,printloop1                  ;[8526] 38 05
                    add       $27                           ;[8528] c6 27
                    add       (ix-$03)                      ;[852a] dd 86 fd
printloop1:
                    call      __printf_print_to_buf         ;[852d] cd 2c 86
                    jr        printloop                     ;[8530] 18 ec
pickup_sccz80_llong:
                    dec       de                            ;[8532] 1b
                    dec       de                            ;[8533] 1b
                    dec       de                            ;[8534] 1b
                    dec       de                            ;[8535] 1b
                    dec       de                            ;[8536] 1b
                    dec       de                            ;[8537] 1b
                    dec       de                            ;[8538] 1b
                    dec       de                            ;[8539] 1b
                    push      de                            ;[853a] d5
                    inc       de                            ;[853b] 13
                    inc       de                            ;[853c] 13
                    ld        l,e                           ;[853d] 6b
                    ld        h,d                           ;[853e] 62
                    jr        continue                      ;[853f] 18 13
__printf_number64:
                    push      hl                            ;[8541] e5
                    bit       0,(ix+$06)                    ;[8542] dd cb 06 46
                    jr        nz,pickup_sccz80_llong        ;[8546] 20 ea
                    ld        l,e                           ;[8548] 6b
                    ld        h,d                           ;[8549] 62
                    inc       hl                            ;[854a] 23
                    inc       hl                            ;[854b] 23
                    inc       hl                            ;[854c] 23
                    inc       hl                            ;[854d] 23
                    inc       hl                            ;[854e] 23
                    inc       hl                            ;[854f] 23
                    inc       hl                            ;[8550] 23
                    inc       hl                            ;[8551] 23
                    push      hl                            ;[8552] e5
                    ex        de,hl                         ;[8553] eb
continue:
                    push      hl                            ;[8554] e5
                    ld        a,c                           ;[8555] 79
                    and       a                             ;[8556] a7
                    jr        z,noneg___printf_number64     ;[8557] 28 0e
                    bit       7,(hl)                        ;[8559] cb 7e
                    jr        z,noneg___printf_number64     ;[855b] 28 0a
                    call      l_neg_64_mhl                  ;[855d] cd a9 80
                    ld        a,$2d                         ;[8560] 3e 2d
printsign___printf_number64:
                    call      __printf_print_to_buf         ;[8562] cd 2c 86
                    jr        number64_start_process        ;[8565] 18 30
noneg___printf_number64:
                    ld        a,$20                         ;[8567] 3e 20
                    bit       3,(ix-$04)                    ;[8569] dd cb fc 5e
                    jr        nz,printsign___printf_number64;[856d] 20 f3
                    ld        a,$2b                         ;[856f] 3e 2b
                    bit       1,(ix-$04)                    ;[8571] dd cb fc 4e
                    jr        nz,printsign___printf_number64;[8575] 20 eb
                    bit       4,(ix-$04)                    ;[8577] dd cb fc 66
                    jr        z,number64_start_process      ;[857b] 28 1a
                    ld        a,(ix-$09)                    ;[857d] dd 7e f7
                    cp        $0a                           ;[8580] fe 0a
                    jr        z,number64_start_process      ;[8582] 28 13
                    push      af                            ;[8584] f5
                    ld        a,$30                         ;[8585] 3e 30
                    call      __printf_print_to_buf         ;[8587] cd 2c 86
                    pop       af                            ;[858a] f1
                    cp        $10                           ;[858b] fe 10
                    jr        nz,number64_start_process     ;[858d] 20 08
                    ld        a,$78                         ;[858f] 3e 78
                    add       (ix-$03)                      ;[8591] dd 86 fd
                    call      __printf_print_to_buf         ;[8594] cd 2c 86
number64_start_process:
                    call      __printf_get_buffer_address   ;[8597] cd c1 85
                    ld        c,(ix-$0a)                    ;[859a] dd 4e f6
                    ld        b,$00                         ;[859d] 06 00
                    add       hl,bc                         ;[859f] 09
                    ld        e,(ix-$09)                    ;[85a0] dd 5e f7
                    ld        d,$00                         ;[85a3] 16 00
                    pop       bc                            ;[85a5] c1
                    push      ix                            ;[85a6] dd e5
                    push      de                            ;[85a8] d5
                    push      hl                            ;[85a9] e5
                    call      l_load_64_dehldehl_mbc        ;[85aa] cd 96 80
                    pop       ix                            ;[85ad] dd e1
                    pop       bc                            ;[85af] c1
                    call      asm1_ulltoa                   ;[85b0] cd 4f 87
                    pop       ix                            ;[85b3] dd e1
                    call      __printf_get_buffer_address   ;[85b5] cd c1 85
                    call      asm_strlen                    ;[85b8] cd 6a 87
                    ld        (ix-$0a),l                    ;[85bb] dd 75 f6
                    jp        __printf_print_the_buffer     ;[85be] c3 1a 86
__printf_get_buffer_address:
                    push      ix                            ;[85c1] dd e5
                    pop       hl                            ;[85c3] e1
                    ld        bc,$ffb0                      ;[85c4] 01 b0 ff
                    add       hl,bc                         ;[85c7] 09
                    ret                                     ;[85c8] c9

__printf_print_aligned:
                    ld        l,(ix-$06)                    ;[85c9] dd 6e fa
                    ld        h,(ix-$05)                    ;[85cc] dd 66 fb
                    ld        a,h                           ;[85cf] 7c
                    or        l                             ;[85d0] b5
                    jr        z,width_done                  ;[85d1] 28 11
                    push      hl                            ;[85d3] e5
                    push      bc                            ;[85d4] c5
                    call      l_ge                          ;[85d5] cd 61 81
                    pop       bc                            ;[85d8] c1
                    pop       hl                            ;[85d9] e1
                    jr        nc,adjust_width               ;[85da] 30 05
                    ld        hl,$0000                      ;[85dc] 21 00 00
                    jr        width_done                    ;[85df] 18 03
adjust_width:
                    and       a                             ;[85e1] a7
                    sbc       hl,de                         ;[85e2] ed 52
width_done:
                    bit       0,(ix-$04)                    ;[85e4] dd cb fc 46
                    push      bc                            ;[85e8] c5
                    call      z,print_padding               ;[85e9] cc 0e 86
                    pop       bc                            ;[85ec] c1
print_buffer:
                    ld        a,d                           ;[85ed] 7a
                    or        e                             ;[85ee] b3
                    jr        z,buffer_done                 ;[85ef] 28 0f
                    ld        a,(bc)                        ;[85f1] 0a
                    bit       7,(ix-$04)                    ;[85f2] dd cb fc 7e
                    call      nz,__printf_pickup_far        ;[85f6] c4 7d 81
                    call      __printf_doprint              ;[85f9] cd 2e 83
                    inc       bc                            ;[85fc] 03
                    dec       de                            ;[85fd] 1b
                    jr        print_buffer                  ;[85fe] 18 ed
buffer_done:
                    ld        c,$20                         ;[8600] 0e 20
print_padding_loop:
                    ld        a,h                           ;[8602] 7c
                    or        l                             ;[8603] b5
                    ret       z                             ;[8604] c8
                    push      bc                            ;[8605] c5
                    ld        a,c                           ;[8606] 79
                    call      __printf_doprint              ;[8607] cd 2e 83
                    pop       bc                            ;[860a] c1
                    dec       hl                            ;[860b] 2b
                    jr        print_padding                 ;[860c] 18 00
print_padding:
                    ld        c,$20                         ;[860e] 0e 20
                    bit       2,(ix-$04)                    ;[8610] dd cb fc 56
                    jr        z,print_padding_loop          ;[8614] 28 ec
                    ld        c,$30                         ;[8616] 0e 30
                    jr        print_padding_loop            ;[8618] 18 e8
__printf_print_the_buffer:
                    ld        d,$00                         ;[861a] 16 00
                    ld        e,(ix-$0a)                    ;[861c] dd 5e f6
                    call      __printf_get_buffer_address   ;[861f] cd c1 85
                    ld        c,l                           ;[8622] 4d
                    ld        b,h                           ;[8623] 44
                    call      __printf_print_aligned        ;[8624] cd c9 85
                    pop       de                            ;[8627] d1
                    pop       hl                            ;[8628] e1
                    jp        __printf_loop                 ;[8629] c3 c8 82
__printf_print_to_buf:
                    push      hl                            ;[862c] e5
                    push      bc                            ;[862d] c5
                    call      __printf_get_buffer_address   ;[862e] cd c1 85
                    ld        c,(ix-$0a)                    ;[8631] dd 4e f6
                    ld        b,$00                         ;[8634] 06 00
                    add       hl,bc                         ;[8636] 09
                    inc       (ix-$0a)                      ;[8637] dd 34 f6
                    ld        (hl),a                        ;[863a] 77
                    pop       bc                            ;[863b] c1
                    pop       hl                            ;[863c] e1
                    ret                                     ;[863d] c9

get_16bit_ap_parameter:
                    ex        de,hl                         ;[863e] eb
                    ld        e,(hl)                        ;[863f] 5e
                    inc       hl                            ;[8640] 23
                    ld        d,(hl)                        ;[8641] 56
                    ex        de,hl                         ;[8642] eb
                    bit       0,(ix+$06)                    ;[8643] dd cb 06 46
                    jr        nz,change_ap_decrement        ;[8647] 20 02
                    inc       de                            ;[8649] 13
                    ret                                     ;[864a] c9

change_ap_decrement:
                    dec       de                            ;[864b] 1b
                    dec       de                            ;[864c] 1b
                    dec       de                            ;[864d] 1b
                    ret                                     ;[864e] c9

get_32bit_ap_parameter:
                    bit       0,(ix+$06)                    ;[864f] dd cb 06 46
                    jr        nz,pickuplong_sccz80          ;[8653] 20 0a
                    ex        de,hl                         ;[8655] eb
                    ld        a,(hl)                        ;[8656] 7e
                    inc       hl                            ;[8657] 23
                    ld        b,(hl)                        ;[8658] 46
                    inc       hl                            ;[8659] 23
                    ld        e,(hl)                        ;[865a] 5e
                    inc       hl                            ;[865b] 23
                    ld        d,(hl)                        ;[865c] 56
                    inc       hl                            ;[865d] 23
                    ret                                     ;[865e] c9

pickuplong_sccz80:
                    ex        de,hl                         ;[865f] eb
                    ld        e,(hl)                        ;[8660] 5e
                    inc       hl                            ;[8661] 23
                    ld        d,(hl)                        ;[8662] 56
                    dec       hl                            ;[8663] 2b
                    dec       hl                            ;[8664] 2b
                    ld        b,(hl)                        ;[8665] 46
                    dec       hl                            ;[8666] 2b
                    ld        a,(hl)                        ;[8667] 7e
                    dec       hl                            ;[8668] 2b
                    dec       hl                            ;[8669] 2b
                    ret                                     ;[866a] c9

___writebyte:
                    ret                                     ;[866b] c9

asm_isspace:
                    cp        $20                           ;[866c] fe 20
                    ret       z                             ;[866e] c8
                    cp        $09                           ;[866f] fe 09
                    ret       c                             ;[8671] d8
                    cp        $0e                           ;[8672] fe 0e
                    ccf                                     ;[8674] 3f
                    ret                                     ;[8675] c9

                    exx                                     ;[8676] d9
l_divu_32_32x32:
                    ld        a,d                           ;[8677] 7a
                    or        e                             ;[8678] b3
                    or        h                             ;[8679] b4
                    or        l                             ;[867a] b5
                    jr        z,divide_zero                 ;[867b] 28 42
l0_divu_32_32x32:
                    xor       a                             ;[867d] af
                    push      hl                            ;[867e] e5
                    exx                                     ;[867f] d9
                    ld        b,h                           ;[8680] 44
                    ld        c,l                           ;[8681] 4d
                    pop       hl                            ;[8682] e1
                    push      de                            ;[8683] d5
                    ex        de,hl                         ;[8684] eb
                    ld        l,a                           ;[8685] 6f
                    ld        h,a                           ;[8686] 67
                    exx                                     ;[8687] d9
                    pop       bc                            ;[8688] c1
                    ld        l,a                           ;[8689] 6f
                    ld        h,a                           ;[868a] 67
l1_small_divu_32_32x32:
                    ld        a,b                           ;[868b] 78
                    ld        b,$20                         ;[868c] 06 20
loop_0:
                    exx                                     ;[868e] d9
                    rl        c                             ;[868f] cb 11
                    rl        b                             ;[8691] cb 10
                    exx                                     ;[8693] d9
                    rl        c                             ;[8694] cb 11
                    rla                                     ;[8696] 17
                    exx                                     ;[8697] d9
                    adc       hl,hl                         ;[8698] ed 6a
                    exx                                     ;[869a] d9
                    adc       hl,hl                         ;[869b] ed 6a
                    exx                                     ;[869d] d9
                    sbc       hl,de                         ;[869e] ed 52
                    exx                                     ;[86a0] d9
                    sbc       hl,de                         ;[86a1] ed 52
                    jr        nc,loop_1                     ;[86a3] 30 05
                    exx                                     ;[86a5] d9
                    add       hl,de                         ;[86a6] 19
                    exx                                     ;[86a7] d9
                    adc       hl,de                         ;[86a8] ed 5a
loop_1:
                    ccf                                     ;[86aa] 3f
                    djnz      loop_0                        ;[86ab] 10 e1
                    exx                                     ;[86ad] d9
                    rl        c                             ;[86ae] cb 11
                    rl        b                             ;[86b0] cb 10
                    exx                                     ;[86b2] d9
                    rl        c                             ;[86b3] cb 11
                    rla                                     ;[86b5] 17
                    push      hl                            ;[86b6] e5
                    exx                                     ;[86b7] d9
                    pop       de                            ;[86b8] d1
                    push      bc                            ;[86b9] c5
                    exx                                     ;[86ba] d9
                    pop       hl                            ;[86bb] e1
                    ld        e,c                           ;[86bc] 59
                    ld        d,a                           ;[86bd] 57
                    ret                                     ;[86be] c9

divide_zero:
                    dec       de                            ;[86bf] 1b
                    jp        error_divide_by_zero_mc       ;[86c0] c3 02 87
l_divu_64_64x8:
                    ld        a,c                           ;[86c3] 79
                    or        a                             ;[86c4] b7
                    jr        z,divide_by_zero              ;[86c5] 28 1c
l0_divu_64_64x8:
                    xor       a                             ;[86c7] af
                    ld        b,$40                         ;[86c8] 06 40
loop_11:
                    add       hl,hl                         ;[86ca] 29
                    rl        e                             ;[86cb] cb 13
                    rl        d                             ;[86cd] cb 12
                    exx                                     ;[86cf] d9
                    adc       hl,hl                         ;[86d0] ed 6a
                    rl        e                             ;[86d2] cb 13
                    rl        d                             ;[86d4] cb 12
                    exx                                     ;[86d6] d9
                    rla                                     ;[86d7] 17
                    jr        c,loop_02                     ;[86d8] 38 03
                    cp        c                             ;[86da] b9
                    jr        c,loop_03                     ;[86db] 38 02
loop_02:
                    sub       c                             ;[86dd] 91
                    inc       l                             ;[86de] 2c
loop_03:
                    djnz      loop_11                       ;[86df] 10 e9
                    or        a                             ;[86e1] b7
                    ret                                     ;[86e2] c9

divide_by_zero:
                    call      error_llmc                    ;[86e3] cd 15 87
                    jp        error_divide_by_zero_mc       ;[86e6] c3 02 87
                    pop       hl                            ;[86e9] e1
                    pop       hl                            ;[86ea] e1
                    pop       hl                            ;[86eb] e1
error_einval_zc:
                    ld        l,$ff                         ;[86ec] 2e ff
errno_zc:
                    ld        h,$00                         ;[86ee] 26 00
                    ld        (_errno),hl                   ;[86f0] 22 de 87
                    jp        error_zc                      ;[86f3] c3 fa 86
                    pop       hl                            ;[86f6] e1
                    pop       hl                            ;[86f7] e1
                    pop       hl                            ;[86f8] e1
                    pop       hl                            ;[86f9] e1
error_zc:
                    ld        hl,$0000                      ;[86fa] 21 00 00
                    scf                                     ;[86fd] 37
                    ret                                     ;[86fe] c9

                    pop       hl                            ;[86ff] e1
                    pop       hl                            ;[8700] e1
                    pop       hl                            ;[8701] e1
error_divide_by_zero_mc:
                    ld        l,$ff                         ;[8702] 2e ff
errno_mc:
                    ld        h,$00                         ;[8704] 26 00
                    ld        (_errno),hl                   ;[8706] 22 de 87
                    jp        error_mc                      ;[8709] c3 0f 87
                    pop       hl                            ;[870c] e1
                    pop       hl                            ;[870d] e1
                    pop       hl                            ;[870e] e1
error_mc:
                    ld        hl,$ffff                      ;[870f] 21 ff ff
                    scf                                     ;[8712] 37
                    ret                                     ;[8713] c9

                    pop       hl                            ;[8714] e1
error_llmc:
                    exx                                     ;[8715] d9
                    call      error_lmc                     ;[8716] cd 1e 87
                    exx                                     ;[8719] d9
                    jp        error_lmc                     ;[871a] c3 1e 87
                    pop       hl                            ;[871d] e1
error_lmc:
                    ld        de,$ffff                      ;[871e] 11 ff ff
                    jp        error_mc                      ;[8721] c3 0f 87
asm_atoi:
                    call      l_eat_ws                      ;[8724] cd f0 80
asm0_atoi:
                    call      l_eat_sign                    ;[8727] cd e4 80
                    jr        nc,not_negative               ;[872a] 30 08
                    call      not_negative                  ;[872c] cd 34 87
                    jp        nc,l_neg_hl                   ;[872f] d2 37 81
                    inc       hl                            ;[8732] 23
                    ret                                     ;[8733] c9

not_negative:
                    ex        de,hl                         ;[8734] eb
                    call      l_atou                        ;[8735] cd 0f 81
                    jr        c,overflow_asm_atoi           ;[8738] 38 04
                    bit       7,h                           ;[873a] cb 7c
                    ret       z                             ;[873c] c8
                    scf                                     ;[873d] 37
overflow_asm_atoi:
                    ld        hl,$7fff                      ;[873e] 21 ff 7f
                    ret                                     ;[8741] c9

asm_ulltoa:
                    ld        a,ixh                         ;[8742] dd 7c
                    or        ixl                           ;[8744] dd b5
                    jp        z,error_zc                    ;[8746] ca fa 86
asm0_ulltoa:
                    call      l_valid_base                  ;[8749] cd 02 81
                    jp        nc,error_einval_zc            ;[874c] d2 ec 86
asm1_ulltoa:
                    xor       a                             ;[874f] af
                    push      af                            ;[8750] f5
compute_lp:
                    push      bc                            ;[8751] c5
                    call      l0_divu_64_64x8               ;[8752] cd c7 86
                    pop       bc                            ;[8755] c1
                    call      l_num2char                    ;[8756] cd f8 80
                    scf                                     ;[8759] 37
                    push      af                            ;[875a] f5
                    call      l_testzero_64_dehldehl        ;[875b] cd d9 80
                    jr        nz,compute_lp                 ;[875e] 20 f1
                    push      ix                            ;[8760] dd e5
                    pop       hl                            ;[8762] e1
write_lp:
                    pop       af                            ;[8763] f1
                    ld        (hl),a                        ;[8764] 77
                    inc       hl                            ;[8765] 23
                    jr        c,write_lp                    ;[8766] 38 fb
                    dec       hl                            ;[8768] 2b
                    ret                                     ;[8769] c9

asm_strlen:
                    xor       a                             ;[876a] af
                    ld        c,a                           ;[876b] 4f
                    ld        b,a                           ;[876c] 47
                    cpir                                    ;[876d] ed b1
                    ld        hl,$ffff                      ;[876f] 21 ff ff
                    sbc       hl,bc                         ;[8772] ed 42
                    ret                                     ;[8774] c9

i_1:
                    defb      $43                           ;[8775] 43
                    defb      $6f                           ;[8776] 6f
                    defb      $6e                           ;[8777] 6e
                    defb      $73                           ;[8778] 73
                    defb      $6f                           ;[8779] 6f
                    defb      $6c                           ;[877a] 6c
                    defb      $65                           ;[877b] 65
                    defb      $20                           ;[877c] 20
                    defb      $74                           ;[877d] 74
                    defb      $6f                           ;[877e] 6f
                    defb      $20                           ;[877f] 20
                    defb      $47                           ;[8780] 47
                    defb      $50                           ;[8781] 50
                    defb      $4f                           ;[8782] 4f
                    defb      $0a                           ;[8783] 0a
                    defb      $47                           ;[8784] 47
                    defb      $50                           ;[8785] 50
                    defb      $49                           ;[8786] 49
                    defb      $20                           ;[8787] 20
                    defb      $74                           ;[8788] 74
                    defb      $6f                           ;[8789] 6f
                    defb      $20                           ;[878a] 20
                    defb      $63                           ;[878b] 63
                    defb      $6f                           ;[878c] 6f
                    defb      $6e                           ;[878d] 6e
                    defb      $73                           ;[878e] 73
                    defb      $6f                           ;[878f] 6f
                    defb      $6c                           ;[8790] 6c
                    defb      $65                           ;[8791] 65
                    defb      $0a                           ;[8792] 0a
                    defb      $27                           ;[8793] 27
                    defb      $45                           ;[8794] 45
                    defb      $73                           ;[8795] 73
                    defb      $63                           ;[8796] 63
                    defb      $27                           ;[8797] 27
                    defb      $20                           ;[8798] 20
                    defb      $74                           ;[8799] 74
                    defb      $6f                           ;[879a] 6f
                    defb      $20                           ;[879b] 20
                    defb      $71                           ;[879c] 71
                    defb      $75                           ;[879d] 75
                    defb      $69                           ;[879e] 69
                    defb      $74                           ;[879f] 74
                    defb      $0a                           ;[87a0] 0a
                    defb      $00                           ;[87a1] 00
__printf_format_table:
                    defb      $73                           ;[87a2] 73
                    defb      $6e                           ;[87a3] 6e
                    defb      $84                           ;[87a4] 84
                    defb      $63                           ;[87a5] 63
                    defb      $fc                           ;[87a6] fc
                    defb      $83                           ;[87a7] 83
                    defb      $64                           ;[87a8] 64
                    defb      $08                           ;[87a9] 08
                    defb      $84                           ;[87aa] 84
                    defb      $75                           ;[87ab] 75
                    defb      $96                           ;[87ac] 96
                    defb      $84                           ;[87ad] 84
                    defb      $78                           ;[87ae] 78
                    defb      $9b                           ;[87af] 9b
                    defb      $84                           ;[87b0] 84
                    defb      $6f                           ;[87b1] 6f
                    defb      $65                           ;[87b2] 65
                    defb      $84                           ;[87b3] 84
                    defb      $70                           ;[87b4] 70
                    defb      $9b                           ;[87b5] 9b
                    defb      $84                           ;[87b6] 84
                    defb      $58                           ;[87b7] 58
                    defb      $eb                           ;[87b8] eb
                    defb      $83                           ;[87b9] 83
                    defb      $6e                           ;[87ba] 6e
                    defb      $54                           ;[87bb] 54
                    defb      $84                           ;[87bc] 84
                    defb      $42                           ;[87bd] 42
                    defb      $de                           ;[87be] de
                    defb      $83                           ;[87bf] 83
                    defb      $6c                           ;[87c0] 6c
                    defb      $0d                           ;[87c1] 0d
                    defb      $84                           ;[87c2] 84
                    defb      $00                           ;[87c3] 00
__printf_format_table64:
                    defb      $64                           ;[87c4] 64
                    defb      $34                           ;[87c5] 34
                    defb      $84                           ;[87c6] 84
                    defb      $75                           ;[87c7] 75
                    defb      $42                           ;[87c8] 42
                    defb      $84                           ;[87c9] 84
                    defb      $78                           ;[87ca] 78
                    defb      $47                           ;[87cb] 47
                    defb      $84                           ;[87cc] 84
                    defb      $6f                           ;[87cd] 6f
                    defb      $39                           ;[87ce] 39
                    defb      $84                           ;[87cf] 84
                    defb      $58                           ;[87d0] 58
                    defb      $23                           ;[87d1] 23
                    defb      $84                           ;[87d2] 84
                    defb      $42                           ;[87d3] 42
                    defb      $16                           ;[87d4] 16
                    defb      $84                           ;[87d5] 84
                    defb      $00                           ;[87d6] 00
nullstr:
                    defb      $28                           ;[87d7] 28
                    defb      $6e                           ;[87d8] 6e
                    defb      $75                           ;[87d9] 75
                    defb      $6c                           ;[87da] 6c
                    defb      $6c                           ;[87db] 6c
                    defb      $29                           ;[87dc] 29
                    defb      $00                           ;[87dd] 00
_errno:
                    defb      $00                           ;[87de] 00
                    defb      $00                           ;[87df] 00
__sgoioblk:
                    defb      $00                           ;[87e0] 00
                    defb      $00                           ;[87e1] 00
                    defb      $00                           ;[87e2] 00
                    defb      $00                           ;[87e3] 00
                    defb      $00                           ;[87e4] 00
                    defb      $00                           ;[87e5] 00
                    defb      $00                           ;[87e6] 00
                    defb      $00                           ;[87e7] 00
                    defb      $00                           ;[87e8] 00
                    defb      $00                           ;[87e9] 00
                    defb      $00                           ;[87ea] 00
                    defb      $00                           ;[87eb] 00
                    defb      $00                           ;[87ec] 00
                    defb      $00                           ;[87ed] 00
                    defb      $00                           ;[87ee] 00
                    defb      $00                           ;[87ef] 00
                    defb      $00                           ;[87f0] 00
                    defb      $00                           ;[87f1] 00
                    defb      $00                           ;[87f2] 00
                    defb      $00                           ;[87f3] 00
                    defb      $00                           ;[87f4] 00
                    defb      $00                           ;[87f5] 00
                    defb      $00                           ;[87f6] 00
                    defb      $00                           ;[87f7] 00
                    defb      $00                           ;[87f8] 00
                    defb      $00                           ;[87f9] 00
                    defb      $00                           ;[87fa] 00
                    defb      $00                           ;[87fb] 00
                    defb      $00                           ;[87fc] 00
                    defb      $00                           ;[87fd] 00
                    defb      $00                           ;[87fe] 00
                    defb      $00                           ;[87ff] 00
                    defb      $00                           ;[8800] 00
                    defb      $00                           ;[8801] 00
                    defb      $00                           ;[8802] 00
                    defb      $00                           ;[8803] 00
                    defb      $00                           ;[8804] 00
                    defb      $00                           ;[8805] 00
                    defb      $00                           ;[8806] 00
                    defb      $00                           ;[8807] 00
                    defb      $00                           ;[8808] 00
                    defb      $00                           ;[8809] 00
                    defb      $00                           ;[880a] 00
                    defb      $00                           ;[880b] 00
                    defb      $00                           ;[880c] 00
                    defb      $00                           ;[880d] 00
                    defb      $00                           ;[880e] 00
                    defb      $00                           ;[880f] 00
                    defb      $00                           ;[8810] 00
                    defb      $00                           ;[8811] 00
                    defb      $00                           ;[8812] 00
                    defb      $00                           ;[8813] 00
                    defb      $00                           ;[8814] 00
                    defb      $00                           ;[8815] 00
                    defb      $00                           ;[8816] 00
                    defb      $00                           ;[8817] 00
                    defb      $00                           ;[8818] 00
                    defb      $00                           ;[8819] 00
                    defb      $00                           ;[881a] 00
                    defb      $00                           ;[881b] 00
                    defb      $00                           ;[881c] 00
                    defb      $00                           ;[881d] 00
                    defb      $00                           ;[881e] 00
                    defb      $00                           ;[881f] 00
                    defb      $00                           ;[8820] 00
                    defb      $00                           ;[8821] 00
                    defb      $00                           ;[8822] 00
                    defb      $00                           ;[8823] 00
                    defb      $00                           ;[8824] 00
                    defb      $00                           ;[8825] 00
                    defb      $00                           ;[8826] 00
                    defb      $00                           ;[8827] 00
                    defb      $00                           ;[8828] 00
                    defb      $00                           ;[8829] 00
                    defb      $00                           ;[882a] 00
                    defb      $00                           ;[882b] 00
                    defb      $00                           ;[882c] 00
                    defb      $00                           ;[882d] 00
                    defb      $00                           ;[882e] 00
                    defb      $00                           ;[882f] 00
                    defb      $00                           ;[8830] 00
                    defb      $00                           ;[8831] 00
                    defb      $00                           ;[8832] 00
                    defb      $00                           ;[8833] 00
                    defb      $00                           ;[8834] 00
                    defb      $00                           ;[8835] 00
                    defb      $00                           ;[8836] 00
                    defb      $00                           ;[8837] 00
                    defb      $00                           ;[8838] 00
                    defb      $00                           ;[8839] 00
                    defb      $00                           ;[883a] 00
                    defb      $00                           ;[883b] 00
                    defb      $00                           ;[883c] 00
                    defb      $00                           ;[883d] 00
                    defb      $00                           ;[883e] 00
                    defb      $00                           ;[883f] 00
                    defb      $00                           ;[8840] 00
                    defb      $00                           ;[8841] 00
                    defb      $00                           ;[8842] 00
                    defb      $00                           ;[8843] 00
__sgoioblk_end:
                    defb      $00                           ;[8844] 00
                    defb      $00                           ;[8845] 00
__exit_atexit_count:
                    defb      $00                           ;[8846] 00
__exit_atexit_funcs:
                    defb      $00                           ;[8847] 00
                    defb      $00                           ;[8848] 00
